(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vm={exports:{}},Ru={},wm={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),wS=Symbol.for("react.portal"),_S=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),bS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),ES=Symbol.for("react.forward_ref"),NS=Symbol.for("react.suspense"),kS=Symbol.for("react.memo"),CS=Symbol.for("react.lazy"),Op=Symbol.iterator;function AS(e){return e===null||typeof e!="object"?null:(e=Op&&e[Op]||e["@@iterator"],typeof e=="function"?e:null)}var _m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,Sm={};function Ls(e,t,n){this.props=e,this.context=t,this.refs=Sm,this.updater=n||_m}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=Ls.prototype;function zd(e,t,n){this.props=e,this.context=t,this.refs=Sm,this.updater=n||_m}var $d=zd.prototype=new bm;$d.constructor=zd;xm($d,Ls.prototype);$d.isPureReactComponent=!0;var Lp=Array.isArray,Im=Object.prototype.hasOwnProperty,Ud={current:null},Em={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Im.call(t,r)&&!Em.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:sl,type:e,key:s,ref:o,props:i,_owner:Ud.current}}function MS(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function DS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rp=/\/+/g;function Cc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DS(""+e.key):t.toString(36)}function ia(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sl:case wS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cc(o,0):r,Lp(i)?(n="",e!=null&&(n=e.replace(Rp,"$&/")+"/"),ia(i,t,n,"",function(u){return u})):i!=null&&(jd(i)&&(i=MS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Lp(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Cc(s,l);o+=ia(s,t,n,a,i)}else if(a=AS(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Cc(s,l++),o+=ia(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(e,t,n){if(e==null)return e;var r=[],i=0;return ia(e,r,"","",function(s){return t.call(n,s,i++)}),r}function TS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},sa={transition:null},BS={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:sa,ReactCurrentOwner:Ud};function km(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:Al,forEach:function(e,t,n){Al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=Ls;pt.Fragment=_S;pt.Profiler=SS;pt.PureComponent=zd;pt.StrictMode=xS;pt.Suspense=NS;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BS;pt.act=km;pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ud.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Im.call(t,a)&&!Em.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sl,type:e.type,key:i,ref:s,props:r,_owner:o}};pt.createContext=function(e){return e={$$typeof:IS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bS,_context:e},e.Consumer=e};pt.createElement=Nm;pt.createFactory=function(e){var t=Nm.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:ES,render:e}};pt.isValidElement=jd;pt.lazy=function(e){return{$$typeof:CS,_payload:{_status:-1,_result:e},_init:TS}};pt.memo=function(e,t){return{$$typeof:kS,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=sa.transition;sa.transition={};try{e()}finally{sa.transition=t}};pt.unstable_act=km;pt.useCallback=function(e,t){return ge.current.useCallback(e,t)};pt.useContext=function(e){return ge.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};pt.useEffect=function(e,t){return ge.current.useEffect(e,t)};pt.useId=function(){return ge.current.useId()};pt.useImperativeHandle=function(e,t,n){return ge.current.useImperativeHandle(e,t,n)};pt.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return ge.current.useMemo(e,t)};pt.useReducer=function(e,t,n){return ge.current.useReducer(e,t,n)};pt.useRef=function(e){return ge.current.useRef(e)};pt.useState=function(e){return ge.current.useState(e)};pt.useSyncExternalStore=function(e,t,n){return ge.current.useSyncExternalStore(e,t,n)};pt.useTransition=function(){return ge.current.useTransition()};pt.version="18.3.1";wm.exports=pt;var B=wm.exports;const Vd=mm(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=B,OS=Symbol.for("react.element"),LS=Symbol.for("react.fragment"),RS=Object.prototype.hasOwnProperty,PS=FS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zS={key:!0,ref:!0,__self:!0,__source:!0};function Cm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)RS.call(t,r)&&!zS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:OS,type:e,key:s,ref:o,props:i,_owner:PS.current}}Ru.Fragment=LS;Ru.jsx=Cm;Ru.jsxs=Cm;vm.exports=Ru;var C=vm.exports,vf={},Am={exports:{}},Ve={},Mm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,I){var D=x.length;x.push(I);t:for(;0<D;){var z=D-1>>>1,P=x[z];if(0<i(P,I))x[z]=I,x[D]=P,D=z;else break t}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var I=x[0],D=x.pop();if(D!==I){x[0]=D;t:for(var z=0,P=x.length,W=P>>>1;z<W;){var V=2*(z+1)-1,Q=x[V],G=V+1,X=x[G];if(0>i(Q,D))G<P&&0>i(X,Q)?(x[z]=X,x[G]=D,z=G):(x[z]=Q,x[V]=D,z=V);else if(G<P&&0>i(X,D))x[z]=X,x[G]=D,z=G;else break t}}return I}function i(x,I){var D=x.sortIndex-I.sortIndex;return D!==0?D:x.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,y=!1,v=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(x){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=x)r(u),I.sortIndex=I.expirationTime,t(a,I);else break;I=n(u)}}function w(x){if(m=!1,h(x),!v)if(n(a)!==null)v=!0,M(S);else{var I=n(u);I!==null&&A(w,I.startTime-x)}}function S(x,I){v=!1,m&&(m=!1,p(k),k=-1),y=!0;var D=d;try{for(h(I),c=n(a);c!==null&&(!(c.expirationTime>I)||x&&!R());){var z=c.callback;if(typeof z=="function"){c.callback=null,d=c.priorityLevel;var P=z(c.expirationTime<=I);I=e.unstable_now(),typeof P=="function"?c.callback=P:c===n(a)&&r(a),h(I)}else r(a);c=n(a)}if(c!==null)var W=!0;else{var V=n(u);V!==null&&A(w,V.startTime-I),W=!1}return W}finally{c=null,d=D,y=!1}}var b=!1,N=null,k=-1,F=5,$=-1;function R(){return!(e.unstable_now()-$<F)}function L(){if(N!==null){var x=e.unstable_now();$=x;var I=!0;try{I=N(!0,x)}finally{I?U():(b=!1,N=null)}}else b=!1}var U;if(typeof g=="function")U=function(){g(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,O=E.port2;E.port1.onmessage=L,U=function(){O.postMessage(null)}}else U=function(){_(L,0)};function M(x){N=x,b||(b=!0,U())}function A(x,I){k=_(function(){x(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,M(S))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var D=d;d=I;try{return x()}finally{d=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,I){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=d;d=x;try{return I()}finally{d=D}},e.unstable_scheduleCallback=function(x,I,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,x){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=D+P,x={id:f++,callback:I,priorityLevel:x,startTime:D,expirationTime:P,sortIndex:-1},D>z?(x.sortIndex=D,t(u,x),n(a)===null&&x===n(u)&&(m?(p(k),k=-1):m=!0,A(w,D-z))):(x.sortIndex=P,t(a,x),v||y||(v=!0,M(S))),x},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(x){var I=d;return function(){var D=d;d=I;try{return x.apply(this,arguments)}finally{d=D}}}})(Dm);Mm.exports=Dm;var $S=Mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US=B,ze=$S;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm=new Set,Eo={};function Ai(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(Eo[e]=t,e=0;e<t.length;e++)Tm.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,jS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},zp={};function VS(e){return wf.call(zp,e)?!0:wf.call(Pp,e)?!1:jS.test(e)?zp[e]=!0:(Pp[e]=!0,!1)}function HS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WS(e,t,n,r){if(t===null||typeof t>"u"||HS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function me(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oe[e]=new me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oe[t]=new me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oe[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oe[e]=new me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oe[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oe[e]=new me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oe[e]=new me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oe[e]=new me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oe[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hd=/[\-:]([a-z])/g;function Wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hd,Wd);oe[t]=new me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hd,Wd);oe[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hd,Wd);oe[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)});oe.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yd(e,t,n,r){var i=oe.hasOwnProperty(t)?oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WS(t,n,i,r)&&(n=null),r||i===null?VS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hr=US.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Bm=Symbol.for("react.provider"),Fm=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Om=Symbol.for("react.offscreen"),$p=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=$p&&e[$p]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Ac;function no(e){if(Ac===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ac=t&&t[1]||""}return`
`+Ac+e}var Mc=!1;function Dc(e,t){if(!e||Mc)return"";Mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Mc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?no(e):""}function YS(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=Dc(e.type,!1),e;case 11:return e=Dc(e.type.render,!1),e;case 1:return e=Dc(e.type,!0),e;default:return""}}function bf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case $i:return"Portal";case _f:return"Profiler";case Xd:return"StrictMode";case xf:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fm:return(e.displayName||"Context")+".Consumer";case Bm:return(e._context.displayName||"Context")+".Provider";case Kd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qd:return t=e.displayName||null,t!==null?t:bf(e.type)||"Memo";case xr:t=e._payload,e=e._init;try{return bf(e(t))}catch{}}return null}function XS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bf(t);case 8:return t===Xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KS(e){var t=Lm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dl(e){e._valueTracker||(e._valueTracker=KS(e))}function Rm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Lm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function If(e,t){var n=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Up(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pm(e,t){t=t.checked,t!=null&&Yd(e,"checked",t,!1)}function Ef(e,t){Pm(e,t);var n=Pr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nf(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nf(e,t,n){(t!=="number"||Ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ro=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(ro(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pr(n)}}function zm(e,t){var n=Pr(t.value),r=Pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $m(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$m(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tl,Um=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QS=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(e){QS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),co[t]=co[e]})});function jm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||co.hasOwnProperty(e)&&co[e]?(""+t).trim():t+"px"}function Vm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GS=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Af(e,t){if(t){if(GS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tf=null,ns=null,rs=null;function Wp(e){if(e=al(e)){if(typeof Tf!="function")throw Error(j(280));var t=e.stateNode;t&&(t=ju(t),Tf(e.stateNode,e.type,t))}}function Hm(e){ns?rs?rs.push(e):rs=[e]:ns=e}function Wm(){if(ns){var e=ns,t=rs;if(rs=ns=null,Wp(e),t)for(e=0;e<t.length;e++)Wp(t[e])}}function Ym(e,t){return e(t)}function Xm(){}var Tc=!1;function Km(e,t,n){if(Tc)return e(t,n);Tc=!0;try{return Ym(e,t,n)}finally{Tc=!1,(ns!==null||rs!==null)&&(Xm(),Wm())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var r=ju(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Bf=!1;if(lr)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Bf=!1}function ZS(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var fo=!1,Aa=null,Ma=!1,Ff=null,JS={onError:function(e){fo=!0,Aa=e}};function qS(e,t,n,r,i,s,o,l,a){fo=!1,Aa=null,ZS.apply(JS,arguments)}function tb(e,t,n,r,i,s,o,l,a){if(qS.apply(this,arguments),fo){if(fo){var u=Aa;fo=!1,Aa=null}else throw Error(j(198));Ma||(Ma=!0,Ff=u)}}function Mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yp(e){if(Mi(e)!==e)throw Error(j(188))}function eb(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yp(i),e;if(s===r)return Yp(i),t;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Gm(e){return e=eb(e),e!==null?Zm(e):null}function Zm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zm(e);if(t!==null)return t;e=e.sibling}return null}var Jm=ze.unstable_scheduleCallback,Xp=ze.unstable_cancelCallback,nb=ze.unstable_shouldYield,rb=ze.unstable_requestPaint,Yt=ze.unstable_now,ib=ze.unstable_getCurrentPriorityLevel,Zd=ze.unstable_ImmediatePriority,qm=ze.unstable_UserBlockingPriority,Da=ze.unstable_NormalPriority,sb=ze.unstable_LowPriority,t0=ze.unstable_IdlePriority,Pu=null,Ln=null;function ob(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Pu,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:ub,lb=Math.log,ab=Math.LN2;function ub(e){return e>>>=0,e===0?32:31-(lb(e)/ab|0)|0}var Bl=64,Fl=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=io(l):(s&=o,s!==0&&(r=io(s)))}else o=n&~i,o!==0?r=io(o):s!==0&&(r=io(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),i=1<<n,r|=e[n],t&=~i;return r}function cb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=cb(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Of(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e0(){var e=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),e}function Bc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function db(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Jd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function n0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r0,qd,i0,s0,o0,Lf=!1,Ol=[],Mr=null,Dr=null,Tr=null,Co=new Map,Ao=new Map,Er=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Xs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=al(t),t!==null&&qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pb(e,t,n,r,i){switch(t){case"focusin":return Mr=Xs(Mr,e,t,n,r,i),!0;case"dragenter":return Dr=Xs(Dr,e,t,n,r,i),!0;case"mouseover":return Tr=Xs(Tr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Co.set(s,Xs(Co.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ao.set(s,Xs(Ao.get(s)||null,e,t,n,r,i)),!0}return!1}function l0(e){var t=ri(e.target);if(t!==null){var n=Mi(t);if(n!==null){if(t=n.tag,t===13){if(t=Qm(n),t!==null){e.blockedOn=t,o0(e.priority,function(){i0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Df=r,n.target.dispatchEvent(r),Df=null}else return t=al(n),t!==null&&qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Qp(e,t,n){oa(e)&&n.delete(t)}function yb(){Lf=!1,Mr!==null&&oa(Mr)&&(Mr=null),Dr!==null&&oa(Dr)&&(Dr=null),Tr!==null&&oa(Tr)&&(Tr=null),Co.forEach(Qp),Ao.forEach(Qp)}function Ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Lf||(Lf=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,yb)))}function Mo(e){function t(i){return Ks(i,e)}if(0<Ol.length){Ks(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&Ks(Mr,e),Dr!==null&&Ks(Dr,e),Tr!==null&&Ks(Tr,e),Co.forEach(t),Ao.forEach(t),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&Er.shift()}var is=hr.ReactCurrentBatchConfig,Ba=!0;function gb(e,t,n,r){var i=kt,s=is.transition;is.transition=null;try{kt=1,th(e,t,n,r)}finally{kt=i,is.transition=s}}function mb(e,t,n,r){var i=kt,s=is.transition;is.transition=null;try{kt=4,th(e,t,n,r)}finally{kt=i,is.transition=s}}function th(e,t,n,r){if(Ba){var i=Rf(e,t,n,r);if(i===null)Vc(e,t,r,Fa,n),Kp(e,r);else if(pb(i,e,t,n,r))r.stopPropagation();else if(Kp(e,r),t&4&&-1<hb.indexOf(e)){for(;i!==null;){var s=al(i);if(s!==null&&r0(s),s=Rf(e,t,n,r),s===null&&Vc(e,t,r,Fa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vc(e,t,r,null,n)}}var Fa=null;function Rf(e,t,n,r){if(Fa=null,e=Gd(r),e=ri(e),e!==null)if(t=Mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fa=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ib()){case Zd:return 1;case qm:return 4;case Da:case sb:return 16;case t0:return 536870912;default:return 16}default:return 16}}var Cr=null,eh=null,la=null;function u0(){if(la)return la;var e,t=eh,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return la=i.slice(e,1<r?1-r:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Gp(){return!1}function He(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ll:Gp,this.isPropagationStopped=Gp,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=He(Rs),ll=Vt({},Rs,{view:0,detail:0}),vb=He(ll),Fc,Oc,Qs,zu=Vt({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(Fc=e.screenX-Qs.screenX,Oc=e.screenY-Qs.screenY):Oc=Fc=0,Qs=e),Fc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),Zp=He(zu),wb=Vt({},zu,{dataTransfer:0}),_b=He(wb),xb=Vt({},ll,{relatedTarget:0}),Lc=He(xb),Sb=Vt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),bb=He(Sb),Ib=Vt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eb=He(Ib),Nb=Vt({},Rs,{data:0}),Jp=He(Nb),kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ab[e])?!!t[e]:!1}function rh(){return Mb}var Db=Vt({},ll,{key:function(e){if(e.key){var t=kb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tb=He(Db),Bb=Vt({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=He(Bb),Fb=Vt({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),Ob=He(Fb),Lb=Vt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rb=He(Lb),Pb=Vt({},zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zb=He(Pb),$b=[9,13,27,32],ih=lr&&"CompositionEvent"in window,ho=null;lr&&"documentMode"in document&&(ho=document.documentMode);var Ub=lr&&"TextEvent"in window&&!ho,c0=lr&&(!ih||ho&&8<ho&&11>=ho),ty=" ",ey=!1;function f0(e,t){switch(e){case"keyup":return $b.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function jb(e,t){switch(e){case"compositionend":return d0(t);case"keypress":return t.which!==32?null:(ey=!0,ty);case"textInput":return e=t.data,e===ty&&ey?null:e;default:return null}}function Vb(e,t){if(ji)return e==="compositionend"||!ih&&f0(e,t)?(e=u0(),la=eh=Cr=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c0&&t.locale!=="ko"?null:t.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hb[e.type]:t==="textarea"}function h0(e,t,n,r){Hm(r),t=Oa(t,"onChange"),0<t.length&&(n=new nh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var po=null,Do=null;function Wb(e){I0(e,0)}function $u(e){var t=Wi(e);if(Rm(t))return e}function Yb(e,t){if(e==="change")return t}var p0=!1;if(lr){var Rc;if(lr){var Pc="oninput"in document;if(!Pc){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Pc=typeof ry.oninput=="function"}Rc=Pc}else Rc=!1;p0=Rc&&(!document.documentMode||9<document.documentMode)}function iy(){po&&(po.detachEvent("onpropertychange",y0),Do=po=null)}function y0(e){if(e.propertyName==="value"&&$u(Do)){var t=[];h0(t,Do,e,Gd(e)),Km(Wb,t)}}function Xb(e,t,n){e==="focusin"?(iy(),po=t,Do=n,po.attachEvent("onpropertychange",y0)):e==="focusout"&&iy()}function Kb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(Do)}function Qb(e,t){if(e==="click")return $u(t)}function Gb(e,t){if(e==="input"||e==="change")return $u(t)}function Zb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:Zb;function To(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wf.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oy(e,t){var n=sy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=sy(n)}}function g0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function m0(){for(var e=window,t=Ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ca(e.document)}return t}function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jb(e){var t=m0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&g0(n.ownerDocument.documentElement,n)){if(r!==null&&sh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=oy(n,s);var o=oy(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qb=lr&&"documentMode"in document&&11>=document.documentMode,Vi=null,Pf=null,yo=null,zf=!1;function ly(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||Vi==null||Vi!==Ca(r)||(r=Vi,"selectionStart"in r&&sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&To(yo,r)||(yo=r,r=Oa(Pf,"onSelect"),0<r.length&&(t=new nh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vi)))}function Rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hi={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},zc={},v0={};lr&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Uu(e){if(zc[e])return zc[e];if(!Hi[e])return e;var t=Hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in v0)return zc[e]=t[n];return e}var w0=Uu("animationend"),_0=Uu("animationiteration"),x0=Uu("animationstart"),S0=Uu("transitionend"),b0=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(e,t){b0.set(e,t),Ai(t,[e])}for(var $c=0;$c<ay.length;$c++){var Uc=ay[$c],t2=Uc.toLowerCase(),e2=Uc[0].toUpperCase()+Uc.slice(1);Yr(t2,"on"+e2)}Yr(w0,"onAnimationEnd");Yr(_0,"onAnimationIteration");Yr(x0,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(S0,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function uy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tb(r,t,void 0,e),e.currentTarget=null}function I0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break t;uy(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break t;uy(i,l,u),s=a}}}if(Ma)throw e=Ff,Ma=!1,Ff=null,e}function Ft(e,t){var n=t[Hf];n===void 0&&(n=t[Hf]=new Set);var r=e+"__bubble";n.has(r)||(E0(t,e,2,!1),n.add(r))}function jc(e,t,n){var r=0;t&&(r|=4),E0(n,e,r,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Pl]){e[Pl]=!0,Tm.forEach(function(n){n!=="selectionchange"&&(n2.has(n)||jc(n,!1,e),jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,jc("selectionchange",!1,t))}}function E0(e,t,n,r){switch(a0(t)){case 1:var i=gb;break;case 4:i=mb;break;default:i=th}n=i.bind(null,t,n,e),i=void 0,!Bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ri(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue t}l=l.parentNode}}r=r.return}Km(function(){var u=s,f=Gd(n),c=[];t:{var d=b0.get(e);if(d!==void 0){var y=nh,v=e;switch(e){case"keypress":if(aa(n)===0)break t;case"keydown":case"keyup":y=Tb;break;case"focusin":v="focus",y=Lc;break;case"focusout":v="blur",y=Lc;break;case"beforeblur":case"afterblur":y=Lc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ob;break;case w0:case _0:case x0:y=bb;break;case S0:y=Rb;break;case"scroll":y=vb;break;case"wheel":y=zb;break;case"copy":case"cut":case"paste":y=Eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qp}var m=(t&4)!==0,_=!m&&e==="scroll",p=m?d!==null?d+"Capture":null:d;m=[];for(var g=u,h;g!==null;){h=g;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,p!==null&&(w=ko(g,p),w!=null&&m.push(Fo(g,w,h)))),_)break;g=g.return}0<m.length&&(d=new y(d,v,null,n,f),c.push({event:d,listeners:m}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==Df&&(v=n.relatedTarget||n.fromElement)&&(ri(v)||v[ar]))break t;if((y||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?ri(v):null,v!==null&&(_=Mi(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(m=Zp,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=qp,w="onPointerLeave",p="onPointerEnter",g="pointer"),_=y==null?d:Wi(y),h=v==null?d:Wi(v),d=new m(w,g+"leave",y,n,f),d.target=_,d.relatedTarget=h,w=null,ri(f)===u&&(m=new m(p,g+"enter",v,n,f),m.target=h,m.relatedTarget=_,w=m),_=w,y&&v)e:{for(m=y,p=v,g=0,h=m;h;h=Bi(h))g++;for(h=0,w=p;w;w=Bi(w))h++;for(;0<g-h;)m=Bi(m),g--;for(;0<h-g;)p=Bi(p),h--;for(;g--;){if(m===p||p!==null&&m===p.alternate)break e;m=Bi(m),p=Bi(p)}m=null}else m=null;y!==null&&cy(c,d,y,m,!1),v!==null&&_!==null&&cy(c,_,v,m,!0)}}t:{if(d=u?Wi(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var S=Yb;else if(ny(d))if(p0)S=Gb;else{S=Kb;var b=Xb}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Qb);if(S&&(S=S(e,u))){h0(c,S,n,f);break t}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Nf(d,"number",d.value)}switch(b=u?Wi(u):window,e){case"focusin":(ny(b)||b.contentEditable==="true")&&(Vi=b,Pf=u,yo=null);break;case"focusout":yo=Pf=Vi=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,ly(c,n,f);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":ly(c,n,f)}var N;if(ih)t:{switch(e){case"compositionstart":var k="onCompositionStart";break t;case"compositionend":k="onCompositionEnd";break t;case"compositionupdate":k="onCompositionUpdate";break t}k=void 0}else ji?f0(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(c0&&n.locale!=="ko"&&(ji||k!=="onCompositionStart"?k==="onCompositionEnd"&&ji&&(N=u0()):(Cr=f,eh="value"in Cr?Cr.value:Cr.textContent,ji=!0)),b=Oa(u,k),0<b.length&&(k=new Jp(k,e,null,n,f),c.push({event:k,listeners:b}),N?k.data=N:(N=d0(n),N!==null&&(k.data=N)))),(N=Ub?jb(e,n):Vb(e,n))&&(u=Oa(u,"onBeforeInput"),0<u.length&&(f=new Jp("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}I0(c,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ko(e,n),s!=null&&r.unshift(Fo(e,s,i)),s=ko(e,t),s!=null&&r.push(Fo(e,s,i))),e=e.return}return r}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cy(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ko(n,s),a!=null&&o.unshift(Fo(n,a,l))):i||(a=ko(n,s),a!=null&&o.push(Fo(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var r2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(r2,`
`).replace(i2,"")}function zl(e,t,n){if(t=fy(t),fy(e)!==t&&n)throw Error(j(425))}function La(){}var $f=null,Uf=null;function jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,o2=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(e){return dy.resolve(null).then(e).catch(l2)}:Vf;function l2(e){setTimeout(function(){throw e})}function Hc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Mo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mo(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),kn="__reactFiber$"+Ps,Oo="__reactProps$"+Ps,ar="__reactContainer$"+Ps,Hf="__reactEvents$"+Ps,a2="__reactListeners$"+Ps,u2="__reactHandles$"+Ps;function ri(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hy(e);e!==null;){if(n=e[kn])return n;e=hy(e)}return t}e=n,n=e.parentNode}return null}function al(e){return e=e[kn]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function ju(e){return e[Oo]||null}var Wf=[],Yi=-1;function Xr(e){return{current:e}}function Ot(e){0>Yi||(e.current=Wf[Yi],Wf[Yi]=null,Yi--)}function Tt(e,t){Yi++,Wf[Yi]=e.current,e.current=t}var zr={},ce=Xr(zr),Ee=Xr(!1),wi=zr;function ys(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ne(e){return e=e.childContextTypes,e!=null}function Ra(){Ot(Ee),Ot(ce)}function py(e,t,n){if(ce.current!==zr)throw Error(j(168));Tt(ce,t),Tt(Ee,n)}function N0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(j(108,XS(e)||"Unknown",i));return Vt({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,wi=ce.current,Tt(ce,e),Tt(Ee,Ee.current),!0}function yy(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=N0(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,Ot(Ee),Ot(ce),Tt(ce,e)):Ot(Ee),Tt(Ee,n)}var Zn=null,Vu=!1,Wc=!1;function k0(e){Zn===null?Zn=[e]:Zn.push(e)}function c2(e){Vu=!0,k0(e)}function Kr(){if(!Wc&&Zn!==null){Wc=!0;var e=0,t=kt;try{var n=Zn;for(kt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,Vu=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),Jm(Zd,Kr),i}finally{kt=t,Wc=!1}}return null}var Xi=[],Ki=0,za=null,$a=0,Qe=[],Ge=0,_i=null,tr=1,er="";function ti(e,t){Xi[Ki++]=$a,Xi[Ki++]=za,za=e,$a=t}function C0(e,t,n){Qe[Ge++]=tr,Qe[Ge++]=er,Qe[Ge++]=_i,_i=e;var r=tr;e=er;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-pn(t)+i|n<<i|r,er=s+e}else tr=1<<s|n<<i|r,er=e}function oh(e){e.return!==null&&(ti(e,1),C0(e,1,0))}function lh(e){for(;e===za;)za=Xi[--Ki],Xi[Ki]=null,$a=Xi[--Ki],Xi[Ki]=null;for(;e===_i;)_i=Qe[--Ge],Qe[Ge]=null,er=Qe[--Ge],Qe[Ge]=null,tr=Qe[--Ge],Qe[Ge]=null}var Pe=null,Re=null,Rt=!1,cn=null;function A0(e,t){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,Re=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_i!==null?{id:tr,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pe=e,Re=null,!0):!1;default:return!1}}function Yf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xf(e){if(Rt){var t=Re;if(t){var n=t;if(!gy(e,t)){if(Yf(e))throw Error(j(418));t=Br(n.nextSibling);var r=Pe;t&&gy(e,t)?A0(r,n):(e.flags=e.flags&-4097|2,Rt=!1,Pe=e)}}else{if(Yf(e))throw Error(j(418));e.flags=e.flags&-4097|2,Rt=!1,Pe=e}}}function my(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function $l(e){if(e!==Pe)return!1;if(!Rt)return my(e),Rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jf(e.type,e.memoizedProps)),t&&(t=Re)){if(Yf(e))throw M0(),Error(j(418));for(;t;)A0(e,t),t=Br(t.nextSibling)}if(my(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Re=Br(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Pe?Br(e.stateNode.nextSibling):null;return!0}function M0(){for(var e=Re;e;)e=Br(e.nextSibling)}function gs(){Re=Pe=null,Rt=!1}function ah(e){cn===null?cn=[e]:cn.push(e)}var f2=hr.ReactCurrentBatchConfig;function Gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Ul(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vy(e){var t=e._init;return t(e._payload)}function D0(e){function t(p,g){if(e){var h=p.deletions;h===null?(p.deletions=[g],p.flags|=16):h.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Rr(p,g),p.index=0,p.sibling=null,p}function s(p,g,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<g?(p.flags|=2,g):h):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,h,w){return g===null||g.tag!==6?(g=Jc(h,p.mode,w),g.return=p,g):(g=i(g,h),g.return=p,g)}function a(p,g,h,w){var S=h.type;return S===Ui?f(p,g,h.props.children,w,h.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xr&&vy(S)===g.type)?(w=i(g,h.props),w.ref=Gs(p,g,h),w.return=p,w):(w=ya(h.type,h.key,h.props,null,p.mode,w),w.ref=Gs(p,g,h),w.return=p,w)}function u(p,g,h,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==h.containerInfo||g.stateNode.implementation!==h.implementation?(g=qc(h,p.mode,w),g.return=p,g):(g=i(g,h.children||[]),g.return=p,g)}function f(p,g,h,w,S){return g===null||g.tag!==7?(g=pi(h,p.mode,w,S),g.return=p,g):(g=i(g,h),g.return=p,g)}function c(p,g,h){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jc(""+g,p.mode,h),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ml:return h=ya(g.type,g.key,g.props,null,p.mode,h),h.ref=Gs(p,null,g),h.return=p,h;case $i:return g=qc(g,p.mode,h),g.return=p,g;case xr:var w=g._init;return c(p,w(g._payload),h)}if(ro(g)||Ws(g))return g=pi(g,p.mode,h,null),g.return=p,g;Ul(p,g)}return null}function d(p,g,h,w){var S=g!==null?g.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:l(p,g,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ml:return h.key===S?a(p,g,h,w):null;case $i:return h.key===S?u(p,g,h,w):null;case xr:return S=h._init,d(p,g,S(h._payload),w)}if(ro(h)||Ws(h))return S!==null?null:f(p,g,h,w,null);Ul(p,h)}return null}function y(p,g,h,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(h)||null,l(g,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ml:return p=p.get(w.key===null?h:w.key)||null,a(g,p,w,S);case $i:return p=p.get(w.key===null?h:w.key)||null,u(g,p,w,S);case xr:var b=w._init;return y(p,g,h,b(w._payload),S)}if(ro(w)||Ws(w))return p=p.get(h)||null,f(g,p,w,S,null);Ul(g,w)}return null}function v(p,g,h,w){for(var S=null,b=null,N=g,k=g=0,F=null;N!==null&&k<h.length;k++){N.index>k?(F=N,N=null):F=N.sibling;var $=d(p,N,h[k],w);if($===null){N===null&&(N=F);break}e&&N&&$.alternate===null&&t(p,N),g=s($,g,k),b===null?S=$:b.sibling=$,b=$,N=F}if(k===h.length)return n(p,N),Rt&&ti(p,k),S;if(N===null){for(;k<h.length;k++)N=c(p,h[k],w),N!==null&&(g=s(N,g,k),b===null?S=N:b.sibling=N,b=N);return Rt&&ti(p,k),S}for(N=r(p,N);k<h.length;k++)F=y(N,p,k,h[k],w),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?k:F.key),g=s(F,g,k),b===null?S=F:b.sibling=F,b=F);return e&&N.forEach(function(R){return t(p,R)}),Rt&&ti(p,k),S}function m(p,g,h,w){var S=Ws(h);if(typeof S!="function")throw Error(j(150));if(h=S.call(h),h==null)throw Error(j(151));for(var b=S=null,N=g,k=g=0,F=null,$=h.next();N!==null&&!$.done;k++,$=h.next()){N.index>k?(F=N,N=null):F=N.sibling;var R=d(p,N,$.value,w);if(R===null){N===null&&(N=F);break}e&&N&&R.alternate===null&&t(p,N),g=s(R,g,k),b===null?S=R:b.sibling=R,b=R,N=F}if($.done)return n(p,N),Rt&&ti(p,k),S;if(N===null){for(;!$.done;k++,$=h.next())$=c(p,$.value,w),$!==null&&(g=s($,g,k),b===null?S=$:b.sibling=$,b=$);return Rt&&ti(p,k),S}for(N=r(p,N);!$.done;k++,$=h.next())$=y(N,p,k,$.value,w),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?k:$.key),g=s($,g,k),b===null?S=$:b.sibling=$,b=$);return e&&N.forEach(function(L){return t(p,L)}),Rt&&ti(p,k),S}function _(p,g,h,w){if(typeof h=="object"&&h!==null&&h.type===Ui&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ml:t:{for(var S=h.key,b=g;b!==null;){if(b.key===S){if(S=h.type,S===Ui){if(b.tag===7){n(p,b.sibling),g=i(b,h.props.children),g.return=p,p=g;break t}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xr&&vy(S)===b.type){n(p,b.sibling),g=i(b,h.props),g.ref=Gs(p,b,h),g.return=p,p=g;break t}n(p,b);break}else t(p,b);b=b.sibling}h.type===Ui?(g=pi(h.props.children,p.mode,w,h.key),g.return=p,p=g):(w=ya(h.type,h.key,h.props,null,p.mode,w),w.ref=Gs(p,g,h),w.return=p,p=w)}return o(p);case $i:t:{for(b=h.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){n(p,g.sibling),g=i(g,h.children||[]),g.return=p,p=g;break t}else{n(p,g);break}else t(p,g);g=g.sibling}g=qc(h,p.mode,w),g.return=p,p=g}return o(p);case xr:return b=h._init,_(p,g,b(h._payload),w)}if(ro(h))return v(p,g,h,w);if(Ws(h))return m(p,g,h,w);Ul(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,h),g.return=p,p=g):(n(p,g),g=Jc(h,p.mode,w),g.return=p,p=g),o(p)):n(p,g)}return _}var ms=D0(!0),T0=D0(!1),Ua=Xr(null),ja=null,Qi=null,uh=null;function ch(){uh=Qi=ja=null}function fh(e){var t=Ua.current;Ot(Ua),e._currentValue=t}function Kf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){ja=e,uh=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(be=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(uh!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(ja===null)throw Error(j(308));Qi=e,ja.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var ii=null;function dh(e){ii===null?ii=[e]:ii.push(e)}function B0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dh(t)):(n.next=i.next,i.next=n),t.interleaved=n,ur(e,r)}function ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sr=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ur(e,n)}return i=r.interleaved,i===null?(t.next=t,dh(r)):(t.next=i.next,i.next=t),r.interleaved=t,ur(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jd(e,n)}}function wy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var v=e,m=l;switch(d=t,y=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){c=v.call(y,c,d);break t}c=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(y,c,d):v,d==null)break t;c=Vt({},c,d);break t;case 2:Sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,a=c):f=f.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Si|=o,e.lanes=o,e.memoizedState=c}}function _y(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var ul={},Rn=Xr(ul),Lo=Xr(ul),Ro=Xr(ul);function si(e){if(e===ul)throw Error(j(174));return e}function ph(e,t){switch(Tt(Ro,t),Tt(Lo,e),Tt(Rn,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cf(t,e)}Ot(Rn),Tt(Rn,t)}function vs(){Ot(Rn),Ot(Lo),Ot(Ro)}function O0(e){si(Ro.current);var t=si(Rn.current),n=Cf(t,e.type);t!==n&&(Tt(Lo,e),Tt(Rn,n))}function yh(e){Lo.current===e&&(Ot(Rn),Ot(Lo))}var $t=Xr(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yc=[];function gh(){for(var e=0;e<Yc.length;e++)Yc[e]._workInProgressVersionPrimary=null;Yc.length=0}var ca=hr.ReactCurrentDispatcher,Xc=hr.ReactCurrentBatchConfig,xi=0,jt=null,Gt=null,te=null,Wa=!1,go=!1,Po=0,d2=0;function le(){throw Error(j(321))}function mh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function vh(e,t,n,r,i,s){if(xi=s,jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=e===null||e.memoizedState===null?g2:m2,e=n(r,i),go){s=0;do{if(go=!1,Po=0,25<=s)throw Error(j(301));s+=1,te=Gt=null,t.updateQueue=null,ca.current=v2,e=n(r,i)}while(go)}if(ca.current=Ya,t=Gt!==null&&Gt.next!==null,xi=0,te=Gt=jt=null,Wa=!1,t)throw Error(j(300));return e}function wh(){var e=Po!==0;return Po=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?jt.memoizedState=te=e:te=te.next=e,te}function nn(){if(Gt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=te===null?jt.memoizedState:te.next;if(t!==null)te=t,Gt=e;else{if(e===null)throw Error(j(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},te===null?jt.memoizedState=te=e:te=te.next=e}return te}function zo(e,t){return typeof t=="function"?t(e):t}function Kc(e){var t=nn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=Gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((xi&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,jt.lanes|=f,Si|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,mn(r,t.memoizedState)||(be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,jt.lanes|=s,Si|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qc(e){var t=nn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);mn(s,t.memoizedState)||(be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function L0(){}function R0(e,t){var n=jt,r=nn(),i=t(),s=!mn(r.memoizedState,i);if(s&&(r.memoizedState=i,be=!0),r=r.queue,_h($0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||te!==null&&te.memoizedState.tag&1){if(n.flags|=2048,$o(9,z0.bind(null,n,r,i,t),void 0,null),ee===null)throw Error(j(349));xi&30||P0(n,t,i)}return i}function P0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function z0(e,t,n,r){t.value=n,t.getSnapshot=r,U0(t)&&j0(e)}function $0(e,t,n){return n(function(){U0(t)&&j0(e)})}function U0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function j0(e){var t=ur(e,1);t!==null&&yn(t,e,1,-1)}function xy(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=y2.bind(null,jt,e),[t.memoizedState,e]}function $o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function V0(){return nn().memoizedState}function fa(e,t,n,r){var i=Sn();jt.flags|=e,i.memoizedState=$o(1|t,n,void 0,r===void 0?null:r)}function Hu(e,t,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(Gt!==null){var o=Gt.memoizedState;if(s=o.destroy,r!==null&&mh(r,o.deps)){i.memoizedState=$o(t,n,s,r);return}}jt.flags|=e,i.memoizedState=$o(1|t,n,s,r)}function Sy(e,t){return fa(8390656,8,e,t)}function _h(e,t){return Hu(2048,8,e,t)}function H0(e,t){return Hu(4,2,e,t)}function W0(e,t){return Hu(4,4,e,t)}function Y0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function X0(e,t,n){return n=n!=null?n.concat([e]):null,Hu(4,4,Y0.bind(null,t,e),n)}function xh(){}function K0(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Q0(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function G0(e,t,n){return xi&21?(mn(n,t)||(n=e0(),jt.lanes|=n,Si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,be=!0),e.memoizedState=n)}function h2(e,t){var n=kt;kt=n!==0&&4>n?n:4,e(!0);var r=Xc.transition;Xc.transition={};try{e(!1),t()}finally{kt=n,Xc.transition=r}}function Z0(){return nn().memoizedState}function p2(e,t,n){var r=Lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J0(e))q0(t,n);else if(n=B0(e,t,n,r),n!==null){var i=ye();yn(n,e,r,i),tv(n,t,r)}}function y2(e,t,n){var r=Lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J0(e))q0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,mn(l,o)){var a=t.interleaved;a===null?(i.next=i,dh(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=B0(e,t,i,r),n!==null&&(i=ye(),yn(n,e,r,i),tv(n,t,r))}}function J0(e){var t=e.alternate;return e===jt||t!==null&&t===jt}function q0(e,t){go=Wa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jd(e,n)}}var Ya={readContext:en,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useInsertionEffect:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useMutableSource:le,useSyncExternalStore:le,useId:le,unstable_isNewReconciler:!1},g2={readContext:en,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:Sy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fa(4194308,4,Y0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=p2.bind(null,jt,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:xy,useDebugValue:xh,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=xy(!1),t=e[0];return e=h2.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=jt,i=Sn();if(Rt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ee===null)throw Error(j(349));xi&30||P0(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Sy($0.bind(null,r,s,e),[e]),r.flags|=2048,$o(9,z0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Sn(),t=ee.identifierPrefix;if(Rt){var n=er,r=tr;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m2={readContext:en,useCallback:K0,useContext:en,useEffect:_h,useImperativeHandle:X0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:Q0,useReducer:Kc,useRef:V0,useState:function(){return Kc(zo)},useDebugValue:xh,useDeferredValue:function(e){var t=nn();return G0(t,Gt.memoizedState,e)},useTransition:function(){var e=Kc(zo)[0],t=nn().memoizedState;return[e,t]},useMutableSource:L0,useSyncExternalStore:R0,useId:Z0,unstable_isNewReconciler:!1},v2={readContext:en,useCallback:K0,useContext:en,useEffect:_h,useImperativeHandle:X0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:Q0,useReducer:Qc,useRef:V0,useState:function(){return Qc(zo)},useDebugValue:xh,useDeferredValue:function(e){var t=nn();return Gt===null?t.memoizedState=e:G0(t,Gt.memoizedState,e)},useTransition:function(){var e=Qc(zo)[0],t=nn().memoizedState;return[e,t]},useMutableSource:L0,useSyncExternalStore:R0,useId:Z0,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wu={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ye(),i=Lr(e),s=rr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fr(e,s,i),t!==null&&(yn(t,e,i,r),ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ye(),i=Lr(e),s=rr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fr(e,s,i),t!==null&&(yn(t,e,i,r),ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),r=Lr(e),i=rr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fr(e,i,r),t!==null&&(yn(t,e,r,n),ua(t,e,r))}};function by(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!To(n,r)||!To(i,s):!0}function ev(e,t,n){var r=!1,i=zr,s=t.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=Ne(t)?wi:ce.current,r=t.contextTypes,s=(r=r!=null)?ys(e,i):zr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Iy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function Gf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},hh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=Ne(t)?wi:ce.current,i.context=ys(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wu.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var n="",r=t;do n+=YS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Gc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var w2=typeof WeakMap=="function"?WeakMap:Map;function nv(e,t,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,ld=r),Zf(e,t)},n}function rv(e,t,n){n=rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zf(e,t),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ey(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new w2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B2.bind(null,e,t,n),t.then(e,e))}function Ny(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ky(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rr(-1,1),t.tag=2,Fr(n,t,1))),n.lanes|=1),e)}var _2=hr.ReactCurrentOwner,be=!1;function fe(e,t,n,r){t.child=e===null?T0(t,null,n,r):ms(t,e.child,n,r)}function Cy(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=vh(e,t,n,r,s,i),n=wh(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(Rt&&n&&oh(t),t.flags|=1,fe(e,t,r,i),t.child)}function Ay(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ah(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,iv(e,t,s,r,i)):(e=ya(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(o,r)&&e.ref===t.ref)return cr(e,t,i)}return t.flags|=1,e=Rr(s,r),e.ref=t.ref,e.return=t,t.child=e}function iv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(To(s,r)&&e.ref===t.ref)if(be=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(be=!0);else return t.lanes=e.lanes,cr(e,t,i)}return Jf(e,t,n,r,i)}function sv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Zi,Be),Be|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(Zi,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tt(Zi,Be),Be|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Tt(Zi,Be),Be|=r;return fe(e,t,i,n),t.child}function ov(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jf(e,t,n,r,i){var s=Ne(n)?wi:ce.current;return s=ys(t,s),ss(t,i),n=vh(e,t,n,r,s,i),r=wh(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(Rt&&r&&oh(t),t.flags|=1,fe(e,t,n,i),t.child)}function My(e,t,n,r,i){if(Ne(n)){var s=!0;Pa(t)}else s=!1;if(ss(t,i),t.stateNode===null)da(e,t),ev(t,n,r),Gf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=Ne(n)?wi:ce.current,u=ys(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Iy(t,o,r,u),Sr=!1;var d=t.memoizedState;o.state=d,Va(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Ee.current||Sr?(typeof f=="function"&&(Qf(t,n,f,r),a=t.memoizedState),(l=Sr||by(t,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,F0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:on(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=en(a):(a=Ne(n)?wi:ce.current,a=ys(t,a));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Iy(t,o,r,a),Sr=!1,d=t.memoizedState,o.state=d,Va(t,r,o,i);var v=t.memoizedState;l!==c||d!==v||Ee.current||Sr?(typeof y=="function"&&(Qf(t,n,y,r),v=t.memoizedState),(u=Sr||by(t,n,u,r,d,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return qf(e,t,n,r,s,i)}function qf(e,t,n,r,i,s){ov(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yy(t,n,!1),cr(e,t,s);r=t.stateNode,_2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,s),t.child=ms(t,null,l,s)):fe(e,t,l,s),t.memoizedState=r.state,i&&yy(t,n,!0),t.child}function lv(e){var t=e.stateNode;t.pendingContext?py(e,t.pendingContext,t.pendingContext!==t.context):t.context&&py(e,t.context,!1),ph(e,t.containerInfo)}function Dy(e,t,n,r,i){return gs(),ah(i),t.flags|=256,fe(e,t,n,r),t.child}var td={dehydrated:null,treeContext:null,retryLane:0};function ed(e){return{baseLanes:e,cachePool:null,transitions:null}}function av(e,t,n){var r=t.pendingProps,i=$t.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tt($t,i&1),e===null)return Xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ku(o,r,0,null),e=pi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ed(n),t.memoizedState=td,e):Sh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return x2(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Rr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Rr(l,s):(s=pi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?ed(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=td,r}return s=e.child,e=s.sibling,r=Rr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sh(e,t){return t=Ku({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&ah(r),ms(t,e.child,null,n),e=Sh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x2(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Gc(Error(j(422))),jl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ku({mode:"visible",children:r.children},i,0,null),s=pi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=ed(o),t.memoizedState=td,s);if(!(t.mode&1))return jl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(j(419)),r=Gc(s,r,void 0),jl(e,t,o,r)}if(l=(o&e.childLanes)!==0,be||l){if(r=ee,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(e,i),yn(r,e,i,-1))}return Ch(),r=Gc(Error(j(421))),jl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=F2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Re=Br(i.nextSibling),Pe=t,Rt=!0,cn=null,e!==null&&(Qe[Ge++]=tr,Qe[Ge++]=er,Qe[Ge++]=_i,tr=e.id,er=e.overflow,_i=t),t=Sh(t,r.children),t.flags|=4096,t)}function Ty(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kf(e.return,t,n)}function Zc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(fe(e,t,r.children,n),r=$t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,n,t);else if(e.tag===19)Ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Tt($t,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ha(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zc(t,!0,n,null,s);break;case"together":Zc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S2(e,t,n){switch(t.tag){case 3:lv(t),gs();break;case 5:O0(t);break;case 1:Ne(t.type)&&Pa(t);break;case 4:ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Tt(Ua,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Tt($t,$t.current&1),t.flags|=128,null):n&t.child.childLanes?av(e,t,n):(Tt($t,$t.current&1),e=cr(e,t,n),e!==null?e.sibling:null);Tt($t,$t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt($t,$t.current),r)break;return null;case 22:case 23:return t.lanes=0,sv(e,t,n)}return cr(e,t,n)}var cv,nd,fv,dv;cv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nd=function(){};fv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,si(Rn.current);var s=null;switch(n){case"input":i=If(e,i),r=If(e,r),s=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),s=[];break;case"textarea":i=kf(e,i),r=kf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=La)}Af(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ft("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};dv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!Rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function b2(e,t,n){var r=t.pendingProps;switch(lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(t),null;case 1:return Ne(t.type)&&Ra(),ae(t),null;case 3:return r=t.stateNode,vs(),Ot(Ee),Ot(ce),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(cd(cn),cn=null))),nd(e,t),ae(t),null;case 5:yh(t);var i=si(Ro.current);if(n=t.type,e!==null&&t.stateNode!=null)fv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return ae(t),null}if(e=si(Rn.current),$l(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kn]=t,r[Oo]=s,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(i=0;i<so.length;i++)Ft(so[i],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":Up(r,s),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",r);break;case"textarea":Vp(r,s),Ft("invalid",r)}Af(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&zl(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&zl(r.textContent,l,e),i=["children",""+l]):Eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ft("scroll",r)}switch(n){case"input":Dl(r),jp(r,s,!0);break;case"textarea":Dl(r),Hp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=La)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$m(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kn]=t,e[Oo]=r,cv(e,t,!1,!1),t.stateNode=e;t:{switch(o=Mf(n,r),n){case"dialog":Ft("cancel",e),Ft("close",e),i=r;break;case"iframe":case"object":case"embed":Ft("load",e),i=r;break;case"video":case"audio":for(i=0;i<so.length;i++)Ft(so[i],e);i=r;break;case"source":Ft("error",e),i=r;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),i=r;break;case"details":Ft("toggle",e),i=r;break;case"input":Up(e,r),i=If(e,r),Ft("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Ft("invalid",e);break;case"textarea":Vp(e,r),i=kf(e,r),Ft("invalid",e);break;default:i=r}Af(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Vm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Um(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&No(e,a):typeof a=="number"&&No(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ft("scroll",e):a!=null&&Yd(e,s,a,o))}switch(n){case"input":Dl(e),jp(e,r,!1);break;case"textarea":Dl(e),Hp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?es(e,!!r.multiple,s,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ae(t),null;case 6:if(e&&t.stateNode!=null)dv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=si(Ro.current),si(Rn.current),$l(t)){if(r=t.stateNode,n=t.memoizedProps,r[kn]=t,(s=r.nodeValue!==n)&&(e=Pe,e!==null))switch(e.tag){case 3:zl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=t,t.stateNode=r}return ae(t),null;case 13:if(Ot($t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&Re!==null&&t.mode&1&&!(t.flags&128))M0(),gs(),t.flags|=98560,s=!1;else if(s=$l(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[kn]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ae(t),s=!1}else cn!==null&&(cd(cn),cn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?qt===0&&(qt=3):Ch())),t.updateQueue!==null&&(t.flags|=4),ae(t),null);case 4:return vs(),nd(e,t),e===null&&Bo(t.stateNode.containerInfo),ae(t),null;case 10:return fh(t.type._context),ae(t),null;case 17:return Ne(t.type)&&Ra(),ae(t),null;case 19:if(Ot($t),s=t.memoizedState,s===null)return ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Zs(s,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ha(e),o!==null){for(t.flags|=128,Zs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tt($t,$t.current&1|2),t.child}e=e.sibling}s.tail!==null&&Yt()>_s&&(t.flags|=128,r=!0,Zs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ha(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return ae(t),null}else 2*Yt()-s.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,Zs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Yt(),t.sibling=null,n=$t.current,Tt($t,r?n&1|2:n&1),t):(ae(t),null);case 22:case 23:return kh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(ae(t),t.subtreeFlags&6&&(t.flags|=8192)):ae(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function I2(e,t){switch(lh(t),t.tag){case 1:return Ne(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),Ot(Ee),Ot(ce),gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yh(t),null;case 13:if(Ot($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot($t),null;case 4:return vs(),null;case 10:return fh(t.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Vl=!1,ue=!1,E2=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Gi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(e,t,r)}else n.current=null}function rd(e,t,n){try{n()}catch(r){Wt(e,t,r)}}var By=!1;function N2(e,t){if($f=Ba,e=m0(),sh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,l=-1,a=-1,u=0,f=0,c=e,d=null;e:for(;;){for(var y;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(y=c.firstChild)!==null;)d=c,c=y;for(;;){if(c===e)break e;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(y=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},Ba=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,_=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:on(t.type,m),_);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Wt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=By,By=!1,v}function mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&rd(t,n,s)}i=i.next}while(i!==r)}}function Yu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function id(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hv(e){var t=e.alternate;t!==null&&(e.alternate=null,hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kn],delete t[Oo],delete t[Hf],delete t[a2],delete t[u2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pv(e){return e.tag===5||e.tag===3||e.tag===4}function Fy(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(r!==4&&(e=e.child,e!==null))for(sd(e,t,n),e=e.sibling;e!==null;)sd(e,t,n),e=e.sibling}function od(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(od(e,t,n),e=e.sibling;e!==null;)od(e,t,n),e=e.sibling}var ie=null,ln=!1;function mr(e,t,n){for(n=n.child;n!==null;)yv(e,t,n),n=n.sibling}function yv(e,t,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Pu,n)}catch{}switch(n.tag){case 5:ue||Gi(n,t);case 6:var r=ie,i=ln;ie=null,mr(e,t,n),ie=r,ln=i,ie!==null&&(ln?(e=ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(ln?(e=ie,n=n.stateNode,e.nodeType===8?Hc(e.parentNode,n):e.nodeType===1&&Hc(e,n),Mo(e)):Hc(ie,n.stateNode));break;case 4:r=ie,i=ln,ie=n.stateNode.containerInfo,ln=!0,mr(e,t,n),ie=r,ln=i;break;case 0:case 11:case 14:case 15:if(!ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rd(n,t,o),i=i.next}while(i!==r)}mr(e,t,n);break;case 1:if(!ue&&(Gi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Wt(n,t,l)}mr(e,t,n);break;case 21:mr(e,t,n);break;case 22:n.mode&1?(ue=(r=ue)||n.memoizedState!==null,mr(e,t,n),ue=r):mr(e,t,n);break;default:mr(e,t,n)}}function Oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E2),t.forEach(function(r){var i=O2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;t:for(;l!==null;){switch(l.tag){case 5:ie=l.stateNode,ln=!1;break t;case 3:ie=l.stateNode.containerInfo,ln=!0;break t;case 4:ie=l.stateNode.containerInfo,ln=!0;break t}l=l.return}if(ie===null)throw Error(j(160));yv(s,o,i),ie=null,ln=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Wt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gv(t,e),t=t.sibling}function gv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),_n(e),r&4){try{mo(3,e,e.return),Yu(3,e)}catch(m){Wt(e,e.return,m)}try{mo(5,e,e.return)}catch(m){Wt(e,e.return,m)}}break;case 1:sn(t,e),_n(e),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(sn(t,e),_n(e),r&512&&n!==null&&Gi(n,n.return),e.flags&32){var i=e.stateNode;try{No(i,"")}catch(m){Wt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pm(i,s),Mf(l,o);var u=Mf(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?Vm(i,c):f==="dangerouslySetInnerHTML"?Um(i,c):f==="children"?No(i,c):Yd(i,f,c,u)}switch(l){case"input":Ef(i,s);break;case"textarea":zm(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?es(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oo]=s}catch(m){Wt(e,e.return,m)}}break;case 6:if(sn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(j(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Wt(e,e.return,m)}}break;case 3:if(sn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mo(t.containerInfo)}catch(m){Wt(e,e.return,m)}break;case 4:sn(t,e),_n(e);break;case 13:sn(t,e),_n(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Eh=Yt())),r&4&&Oy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ue=(u=ue)||f,sn(t,e),ue=u):sn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Y=e,f=e.child;f!==null;){for(c=Y=f;Y!==null;){switch(d=Y,y=d.child,d.tag){case 0:case 11:case 14:case 15:mo(4,d,d.return);break;case 1:Gi(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Wt(r,n,m)}}break;case 5:Gi(d,d.return);break;case 22:if(d.memoizedState!==null){Ry(c);continue}}y!==null?(y.return=d,Y=y):Ry(c)}f=f.sibling}t:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=jm("display",o))}catch(m){Wt(e,e.return,m)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){Wt(e,e.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:sn(t,e),_n(e),r&4&&Oy(e);break;case 21:break;default:sn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(pv(n)){var r=n;break t}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(No(i,""),r.flags&=-33);var s=Fy(e);od(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fy(e);sd(e,l,o);break;default:throw Error(j(161))}}catch(a){Wt(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k2(e,t,n){Y=e,mv(e)}function mv(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vl;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ue;l=Vl;var u=ue;if(Vl=o,(ue=a)&&!u)for(Y=i;Y!==null;)o=Y,a=o.child,o.tag===22&&o.memoizedState!==null?Py(i):a!==null?(a.return=o,Y=a):Py(i);for(;s!==null;)Y=s,mv(s),s=s.sibling;Y=i,Vl=l,ue=u}Ly(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Ly(e)}}function Ly(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ue||Yu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_y(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_y(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Mo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ue||t.flags&512&&id(t)}catch(d){Wt(t,t.return,d)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ry(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Py(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yu(4,t)}catch(a){Wt(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Wt(t,i,a)}}var s=t.return;try{id(t)}catch(a){Wt(t,s,a)}break;case 5:var o=t.return;try{id(t)}catch(a){Wt(t,o,a)}}}catch(a){Wt(t,t.return,a)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var C2=Math.ceil,Xa=hr.ReactCurrentDispatcher,bh=hr.ReactCurrentOwner,tn=hr.ReactCurrentBatchConfig,vt=0,ee=null,Xt=null,se=0,Be=0,Zi=Xr(0),qt=0,Uo=null,Si=0,Xu=0,Ih=0,vo=null,_e=null,Eh=0,_s=1/0,Xn=null,Ka=!1,ld=null,Or=null,Hl=!1,Ar=null,Qa=0,wo=0,ad=null,ha=-1,pa=0;function ye(){return vt&6?Yt():ha!==-1?ha:ha=Yt()}function Lr(e){return e.mode&1?vt&2&&se!==0?se&-se:f2.transition!==null?(pa===0&&(pa=e0()),pa):(e=kt,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function yn(e,t,n,r){if(50<wo)throw wo=0,ad=null,Error(j(185));ol(e,n,r),(!(vt&2)||e!==ee)&&(e===ee&&(!(vt&2)&&(Xu|=n),qt===4&&Nr(e,se)),ke(e,r),n===1&&vt===0&&!(t.mode&1)&&(_s=Yt()+500,Vu&&Kr()))}function ke(e,t){var n=e.callbackNode;fb(e,t);var r=Ta(e,e===ee?se:0);if(r===0)n!==null&&Xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xp(n),t===1)e.tag===0?c2(zy.bind(null,e)):k0(zy.bind(null,e)),o2(function(){!(vt&6)&&Kr()}),n=null;else{switch(n0(r)){case 1:n=Zd;break;case 4:n=qm;break;case 16:n=Da;break;case 536870912:n=t0;break;default:n=Da}n=Ev(n,vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vv(e,t){if(ha=-1,pa=0,vt&6)throw Error(j(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=Ta(e,e===ee?se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ga(e,r);else{t=r;var i=vt;vt|=2;var s=_v();(ee!==e||se!==t)&&(Xn=null,_s=Yt()+500,hi(e,t));do try{D2();break}catch(l){wv(e,l)}while(!0);ch(),Xa.current=s,vt=i,Xt!==null?t=0:(ee=null,se=0,t=qt)}if(t!==0){if(t===2&&(i=Of(e),i!==0&&(r=i,t=ud(e,i))),t===1)throw n=Uo,hi(e,0),Nr(e,r),ke(e,Yt()),n;if(t===6)Nr(e,r);else{if(i=e.current.alternate,!(r&30)&&!A2(i)&&(t=Ga(e,r),t===2&&(s=Of(e),s!==0&&(r=s,t=ud(e,s))),t===1))throw n=Uo,hi(e,0),Nr(e,r),ke(e,Yt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:ei(e,_e,Xn);break;case 3:if(Nr(e,r),(r&130023424)===r&&(t=Eh+500-Yt(),10<t)){if(Ta(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vf(ei.bind(null,e,_e,Xn),t);break}ei(e,_e,Xn);break;case 4:if(Nr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C2(r/1960))-r,10<r){e.timeoutHandle=Vf(ei.bind(null,e,_e,Xn),r);break}ei(e,_e,Xn);break;case 5:ei(e,_e,Xn);break;default:throw Error(j(329))}}}return ke(e,Yt()),e.callbackNode===n?vv.bind(null,e):null}function ud(e,t){var n=vo;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=_e,_e=n,t!==null&&cd(t)),e}function cd(e){_e===null?_e=e:_e.push.apply(_e,e)}function A2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Ih,t&=~Xu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function zy(e){if(vt&6)throw Error(j(327));os();var t=Ta(e,0);if(!(t&1))return ke(e,Yt()),null;var n=Ga(e,t);if(e.tag!==0&&n===2){var r=Of(e);r!==0&&(t=r,n=ud(e,r))}if(n===1)throw n=Uo,hi(e,0),Nr(e,t),ke(e,Yt()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ei(e,_e,Xn),ke(e,Yt()),null}function Nh(e,t){var n=vt;vt|=1;try{return e(t)}finally{vt=n,vt===0&&(_s=Yt()+500,Vu&&Kr())}}function bi(e){Ar!==null&&Ar.tag===0&&!(vt&6)&&os();var t=vt;vt|=1;var n=tn.transition,r=kt;try{if(tn.transition=null,kt=1,e)return e()}finally{kt=r,tn.transition=n,vt=t,!(vt&6)&&Kr()}}function kh(){Be=Zi.current,Ot(Zi)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s2(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ra();break;case 3:vs(),Ot(Ee),Ot(ce),gh();break;case 5:yh(r);break;case 4:vs();break;case 13:Ot($t);break;case 19:Ot($t);break;case 10:fh(r.type._context);break;case 22:case 23:kh()}n=n.return}if(ee=e,Xt=e=Rr(e.current,null),se=Be=t,qt=0,Uo=null,Ih=Xu=Si=0,_e=vo=null,ii!==null){for(t=0;t<ii.length;t++)if(n=ii[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ii=null}return e}function wv(e,t){do{var n=Xt;try{if(ch(),ca.current=Ya,Wa){for(var r=jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wa=!1}if(xi=0,te=Gt=jt=null,go=!1,Po=0,bh.current=null,n===null||n.return===null){qt=1,Uo=t,Xt=null;break}t:{var s=e,o=n.return,l=n,a=t;if(t=se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Ny(o);if(y!==null){y.flags&=-257,ky(y,o,l,s,t),y.mode&1&&Ey(s,u,t),t=y,a=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(a),t.updateQueue=m}else v.add(a);break t}else{if(!(t&1)){Ey(s,u,t),Ch();break t}a=Error(j(426))}}else if(Rt&&l.mode&1){var _=Ny(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ky(_,o,l,s,t),ah(ws(a,l));break t}}s=a=ws(a,l),qt!==4&&(qt=2),vo===null?vo=[s]:vo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=nv(s,a,t);wy(s,p);break t;case 1:l=a;var g=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Or===null||!Or.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=rv(s,l,t);wy(s,w);break t}}s=s.return}while(s!==null)}Sv(n)}catch(S){t=S,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function _v(){var e=Xa.current;return Xa.current=Ya,e===null?Ya:e}function Ch(){(qt===0||qt===3||qt===2)&&(qt=4),ee===null||!(Si&268435455)&&!(Xu&268435455)||Nr(ee,se)}function Ga(e,t){var n=vt;vt|=2;var r=_v();(ee!==e||se!==t)&&(Xn=null,hi(e,t));do try{M2();break}catch(i){wv(e,i)}while(!0);if(ch(),vt=n,Xa.current=r,Xt!==null)throw Error(j(261));return ee=null,se=0,qt}function M2(){for(;Xt!==null;)xv(Xt)}function D2(){for(;Xt!==null&&!nb();)xv(Xt)}function xv(e){var t=Iv(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Sv(e):Xt=t,bh.current=null}function Sv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I2(n,t),n!==null){n.flags&=32767,Xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Xt=null;return}}else if(n=b2(n,t,Be),n!==null){Xt=n;return}if(t=t.sibling,t!==null){Xt=t;return}Xt=t=e}while(t!==null);qt===0&&(qt=5)}function ei(e,t,n){var r=kt,i=tn.transition;try{tn.transition=null,kt=1,T2(e,t,n,r)}finally{tn.transition=i,kt=r}return null}function T2(e,t,n,r){do os();while(Ar!==null);if(vt&6)throw Error(j(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(db(e,s),e===ee&&(Xt=ee=null,se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,Ev(Da,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var o=kt;kt=1;var l=vt;vt|=4,bh.current=null,N2(e,n),gv(n,e),Jb(Uf),Ba=!!$f,Uf=$f=null,e.current=n,k2(n),rb(),vt=l,kt=o,tn.transition=s}else e.current=n;if(Hl&&(Hl=!1,Ar=e,Qa=i),s=e.pendingLanes,s===0&&(Or=null),ob(n.stateNode),ke(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ka)throw Ka=!1,e=ld,ld=null,e;return Qa&1&&e.tag!==0&&os(),s=e.pendingLanes,s&1?e===ad?wo++:(wo=0,ad=e):wo=0,Kr(),null}function os(){if(Ar!==null){var e=n0(Qa),t=tn.transition,n=kt;try{if(tn.transition=null,kt=16>e?16:e,Ar===null)var r=!1;else{if(e=Ar,Ar=null,Qa=0,vt&6)throw Error(j(331));var i=vt;for(vt|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Y=u;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:mo(8,f,s)}var c=f.child;if(c!==null)c.return=f,Y=c;else for(;Y!==null;){f=Y;var d=f.sibling,y=f.return;if(hv(f),f===u){Y=null;break}if(d!==null){d.return=y,Y=d;break}Y=y}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else t:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Y=p;break t}Y=s.return}}var g=e.current;for(Y=g;Y!==null;){o=Y;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,Y=h;else t:for(o=g;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yu(9,l)}}catch(S){Wt(l,l.return,S)}if(l===o){Y=null;break t}var w=l.sibling;if(w!==null){w.return=l.return,Y=w;break t}Y=l.return}}if(vt=i,Kr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Pu,e)}catch{}r=!0}return r}finally{kt=n,tn.transition=t}}return!1}function $y(e,t,n){t=ws(n,t),t=nv(e,t,1),e=Fr(e,t,1),t=ye(),e!==null&&(ol(e,1,t),ke(e,t))}function Wt(e,t,n){if(e.tag===3)$y(e,e,n);else for(;t!==null;){if(t.tag===3){$y(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){e=ws(n,e),e=rv(t,e,1),t=Fr(t,e,1),e=ye(),t!==null&&(ol(t,1,e),ke(t,e));break}}t=t.return}}function B2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,ee===e&&(se&n)===n&&(qt===4||qt===3&&(se&130023424)===se&&500>Yt()-Eh?hi(e,0):Ih|=n),ke(e,t)}function bv(e,t){t===0&&(e.mode&1?(t=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):t=1);var n=ye();e=ur(e,t),e!==null&&(ol(e,t,n),ke(e,n))}function F2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bv(e,n)}function O2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),bv(e,n)}var Iv;Iv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return be=!1,S2(e,t,n);be=!!(e.flags&131072)}else be=!1,Rt&&t.flags&1048576&&C0(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;da(e,t),e=t.pendingProps;var i=ys(t,ce.current);ss(t,n),i=vh(null,t,r,e,i,n);var s=wh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(r)?(s=!0,Pa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hh(t),i.updater=Wu,t.stateNode=i,i._reactInternals=t,Gf(t,r,e,n),t=qf(null,t,r,!0,s,n)):(t.tag=0,Rt&&s&&oh(t),fe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;t:{switch(da(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=R2(r),e=on(r,e),i){case 0:t=Jf(null,t,r,e,n);break t;case 1:t=My(null,t,r,e,n);break t;case 11:t=Cy(null,t,r,e,n);break t;case 14:t=Ay(null,t,r,on(r.type,e),n);break t}throw Error(j(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Jf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),My(e,t,r,i,n);case 3:t:{if(lv(t),e===null)throw Error(j(387));r=t.pendingProps,s=t.memoizedState,i=s.element,F0(e,t),Va(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ws(Error(j(423)),t),t=Dy(e,t,r,n,i);break t}else if(r!==i){i=ws(Error(j(424)),t),t=Dy(e,t,r,n,i);break t}else for(Re=Br(t.stateNode.containerInfo.firstChild),Pe=t,Rt=!0,cn=null,n=T0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){t=cr(e,t,n);break t}fe(e,t,r,n)}t=t.child}return t;case 5:return O0(t),e===null&&Xf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,jf(r,i)?o=null:s!==null&&jf(r,s)&&(t.flags|=32),ov(e,t),fe(e,t,o,n),t.child;case 6:return e===null&&Xf(t),null;case 13:return av(e,t,n);case 4:return ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ms(t,null,r,n):fe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Cy(e,t,r,i,n);case 7:return fe(e,t,t.pendingProps,n),t.child;case 8:return fe(e,t,t.pendingProps.children,n),t.child;case 12:return fe(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Tt(Ua,r._currentValue),r._currentValue=o,s!==null)if(mn(s.value,o)){if(s.children===i.children&&!Ee.current){t=cr(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=rr(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Kf(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ss(t,n),i=en(i),r=r(i),t.flags|=1,fe(e,t,r,n),t.child;case 14:return r=t.type,i=on(r,t.pendingProps),i=on(r.type,i),Ay(e,t,r,i,n);case 15:return iv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),da(e,t),t.tag=1,Ne(r)?(e=!0,Pa(t)):e=!1,ss(t,n),ev(t,r,i),Gf(t,r,i,n),qf(null,t,r,!0,e,n);case 19:return uv(e,t,n);case 22:return sv(e,t,n)}throw Error(j(156,t.tag))};function Ev(e,t){return Jm(e,t)}function L2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,r){return new L2(e,t,n,r)}function Ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R2(e){if(typeof e=="function")return Ah(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kd)return 11;if(e===Qd)return 14}return 2}function Rr(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ya(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ah(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Ui:return pi(n.children,i,s,t);case Xd:o=8,i|=8;break;case _f:return e=qe(12,n,t,i|2),e.elementType=_f,e.lanes=s,e;case xf:return e=qe(13,n,t,i),e.elementType=xf,e.lanes=s,e;case Sf:return e=qe(19,n,t,i),e.elementType=Sf,e.lanes=s,e;case Om:return Ku(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bm:o=10;break t;case Fm:o=9;break t;case Kd:o=11;break t;case Qd:o=14;break t;case xr:o=16,r=null;break t}throw Error(j(130,e==null?e:typeof e,""))}return t=qe(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function pi(e,t,n,r){return e=qe(7,e,r,t),e.lanes=n,e}function Ku(e,t,n,r){return e=qe(22,e,r,t),e.elementType=Om,e.lanes=n,e.stateNode={isHidden:!1},e}function Jc(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function qc(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mh(e,t,n,r,i,s,o,l,a){return e=new P2(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(s),e}function z2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nv(e){if(!e)return zr;e=e._reactInternals;t:{if(Mi(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Ne(n))return N0(e,n,t)}return t}function kv(e,t,n,r,i,s,o,l,a){return e=Mh(n,r,!0,e,i,s,o,l,a),e.context=Nv(null),n=e.current,r=ye(),i=Lr(n),s=rr(r,i),s.callback=t??null,Fr(n,s,i),e.current.lanes=i,ol(e,i,r),ke(e,r),e}function Qu(e,t,n,r){var i=t.current,s=ye(),o=Lr(i);return n=Nv(n),t.context===null?t.context=n:t.pendingContext=n,t=rr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fr(i,t,o),e!==null&&(yn(e,i,o,s),ua(e,i,o)),o}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dh(e,t){Uy(e,t),(e=e.alternate)&&Uy(e,t)}function $2(){return null}var Cv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Th(e){this._internalRoot=e}Gu.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Qu(e,t,null,null)};Gu.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){Qu(null,e,null,null)}),t[ar]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=s0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Er.length&&t!==0&&t<Er[n].priority;n++);Er.splice(n,0,e),n===0&&l0(e)}};function Bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jy(){}function U2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Za(o);s.call(u)}}var o=kv(t,r,e,0,null,!1,!1,"",jy);return e._reactRootContainer=o,e[ar]=o.current,Bo(e.nodeType===8?e.parentNode:e),bi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Za(a);l.call(u)}}var a=Mh(e,0,!1,null,null,!1,!1,"",jy);return e._reactRootContainer=a,e[ar]=a.current,Bo(e.nodeType===8?e.parentNode:e),bi(function(){Qu(t,a,n,r)}),a}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Za(o);l.call(a)}}Qu(t,o,e,i)}else o=U2(n,t,e,i,r);return Za(o)}r0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=io(t.pendingLanes);n!==0&&(Jd(t,n|1),ke(t,Yt()),!(vt&6)&&(_s=Yt()+500,Kr()))}break;case 13:bi(function(){var r=ur(e,1);if(r!==null){var i=ye();yn(r,e,1,i)}}),Dh(e,1)}};qd=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var n=ye();yn(t,e,134217728,n)}Dh(e,134217728)}};i0=function(e){if(e.tag===13){var t=Lr(e),n=ur(e,t);if(n!==null){var r=ye();yn(n,e,t,r)}Dh(e,t)}};s0=function(){return kt};o0=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}};Tf=function(e,t,n){switch(t){case"input":if(Ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ju(r);if(!i)throw Error(j(90));Rm(r),Ef(r,i)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};Ym=Nh;Xm=bi;var j2={usingClientEntryPoint:!1,Events:[al,Wi,ju,Hm,Wm,Nh]},Js={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V2={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gm(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Pu=Wl.inject(V2),Ln=Wl}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(t))throw Error(j(200));return z2(e,t,null,n)};Ve.createRoot=function(e,t){if(!Bh(e))throw Error(j(299));var n=!1,r="",i=Cv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mh(e,1,!1,null,null,n,!1,r,i),e[ar]=t.current,Bo(e.nodeType===8?e.parentNode:e),new Th(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Gm(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return bi(e)};Ve.hydrate=function(e,t,n){if(!Zu(t))throw Error(j(200));return Ju(null,e,t,!0,n)};Ve.hydrateRoot=function(e,t,n){if(!Bh(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Cv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kv(t,null,e,1,n??null,i,!1,s,o),e[ar]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)};Ve.render=function(e,t,n){if(!Zu(t))throw Error(j(200));return Ju(null,e,t,!1,n)};Ve.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(j(40));return e._reactRootContainer?(bi(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};Ve.unstable_batchedUpdates=Nh;Ve.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Ju(e,t,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function Av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Av)}catch(e){console.error(e)}}Av(),Am.exports=Ve;var H2=Am.exports,Vy=H2;vf.createRoot=Vy.createRoot,vf.hydrateRoot=Vy.hydrateRoot;function Qt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Qt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var W2={value:()=>{}};function qu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ga(n)}function ga(e){this._=e}function Y2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ga.prototype=qu.prototype={constructor:ga,on:function(e,t){var n=this._,r=Y2(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=X2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Hy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Hy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ga(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function X2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Hy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=W2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var fd="http://www.w3.org/1999/xhtml";const Wy={svg:"http://www.w3.org/2000/svg",xhtml:fd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Wy.hasOwnProperty(t)?{space:Wy[t],local:e}:e}function K2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fd&&t.documentElement.namespaceURI===fd?t.createElement(e):t.createElementNS(n,e)}}function Q2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Mv(e){var t=tc(e);return(t.local?Q2:K2)(t)}function G2(){}function Fh(e){return e==null?G2:function(){return this.querySelector(e)}}function Z2(e){typeof e!="function"&&(e=Fh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,l=r[i]=new Array(o),a,u,f=0;f<o;++f)(a=s[f])&&(u=e.call(a,a.__data__,f,s))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new $e(r,this._parents)}function J2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function q2(){return[]}function Dv(e){return e==null?q2:function(){return this.querySelectorAll(e)}}function tI(e){return function(){return J2(e.apply(this,arguments))}}function eI(e){typeof e=="function"?e=tI(e):e=Dv(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&(r.push(e.call(a,a.__data__,u,o)),i.push(a));return new $e(r,i)}function Tv(e){return function(){return this.matches(e)}}function Bv(e){return function(t){return t.matches(e)}}var nI=Array.prototype.find;function rI(e){return function(){return nI.call(this.children,e)}}function iI(){return this.firstElementChild}function sI(e){return this.select(e==null?iI:rI(typeof e=="function"?e:Bv(e)))}var oI=Array.prototype.filter;function lI(){return Array.from(this.children)}function aI(e){return function(){return oI.call(this.children,e)}}function uI(e){return this.selectAll(e==null?lI:aI(typeof e=="function"?e:Bv(e)))}function cI(e){typeof e!="function"&&(e=Tv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,l=r[i]=[],a,u=0;u<o;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new $e(r,this._parents)}function Fv(e){return new Array(e.length)}function fI(){return new $e(this._enter||this._groups.map(Fv),this._parents)}function Ja(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ja.prototype={constructor:Ja,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function dI(e){return function(){return e}}function hI(e,t,n,r,i,s){for(var o=0,l,a=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new Ja(e,s[o]);for(;o<a;++o)(l=t[o])&&(i[o]=l)}function pI(e,t,n,r,i,s,o){var l,a,u=new Map,f=t.length,c=s.length,d=new Array(f),y;for(l=0;l<f;++l)(a=t[l])&&(d[l]=y=o.call(a,a.__data__,l,t)+"",u.has(y)?i[l]=a:u.set(y,a));for(l=0;l<c;++l)y=o.call(e,s[l],l,s)+"",(a=u.get(y))?(r[l]=a,a.__data__=s[l],u.delete(y)):n[l]=new Ja(e,s[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(i[l]=a)}function yI(e){return e.__data__}function gI(e,t){if(!arguments.length)return Array.from(this,yI);var n=t?pI:hI,r=this._parents,i=this._groups;typeof e!="function"&&(e=dI(e));for(var s=i.length,o=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var f=r[u],c=i[u],d=c.length,y=mI(e.call(f,f&&f.__data__,u,r)),v=y.length,m=l[u]=new Array(v),_=o[u]=new Array(v),p=a[u]=new Array(d);n(f,c,m,_,p,y,t);for(var g=0,h=0,w,S;g<v;++g)if(w=m[g]){for(g>=h&&(h=g+1);!(S=_[h])&&++h<v;);w._next=S||null}}return o=new $e(o,r),o._enter=l,o._exit=a,o}function mI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vI(){return new $e(this._exit||this._groups.map(Fv),this._parents)}function wI(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function _I(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),a=0;a<o;++a)for(var u=n[a],f=r[a],c=u.length,d=l[a]=new Array(c),y,v=0;v<c;++v)(y=u[v]||f[v])&&(d[v]=y);for(;a<i;++a)l[a]=n[a];return new $e(l,this._parents)}function xI(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function SI(e){e||(e=bI);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,a=i[s]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(a[f]=u);a.sort(t)}return new $e(i,this._parents).order()}function bI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function II(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function EI(){return Array.from(this)}function NI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function kI(){let e=0;for(const t of this)++e;return e}function CI(){return!this.node()}function AI(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function MI(e){return function(){this.removeAttribute(e)}}function DI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TI(e,t){return function(){this.setAttribute(e,t)}}function BI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function FI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function OI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function LI(e,t){var n=tc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?DI:MI:typeof t=="function"?n.local?OI:FI:n.local?BI:TI)(n,t))}function Ov(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RI(e){return function(){this.style.removeProperty(e)}}function PI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zI(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $I(e,t,n){return arguments.length>1?this.each((t==null?RI:typeof t=="function"?zI:PI)(e,t,n??"")):xs(this.node(),e)}function xs(e,t){return e.style.getPropertyValue(t)||Ov(e).getComputedStyle(e,null).getPropertyValue(t)}function UI(e){return function(){delete this[e]}}function jI(e,t){return function(){this[e]=t}}function VI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function HI(e,t){return arguments.length>1?this.each((t==null?UI:typeof t=="function"?VI:jI)(e,t)):this.node()[e]}function Lv(e){return e.trim().split(/^|\s+/)}function Oh(e){return e.classList||new Rv(e)}function Rv(e){this._node=e,this._names=Lv(e.getAttribute("class")||"")}Rv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Pv(e,t){for(var n=Oh(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zv(e,t){for(var n=Oh(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function WI(e){return function(){Pv(this,e)}}function YI(e){return function(){zv(this,e)}}function XI(e,t){return function(){(t.apply(this,arguments)?Pv:zv)(this,e)}}function KI(e,t){var n=Lv(e+"");if(arguments.length<2){for(var r=Oh(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?XI:t?WI:YI)(n,t))}function QI(){this.textContent=""}function GI(e){return function(){this.textContent=e}}function ZI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JI(e){return arguments.length?this.each(e==null?QI:(typeof e=="function"?ZI:GI)(e)):this.node().textContent}function qI(){this.innerHTML=""}function tE(e){return function(){this.innerHTML=e}}function eE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nE(e){return arguments.length?this.each(e==null?qI:(typeof e=="function"?eE:tE)(e)):this.node().innerHTML}function rE(){this.nextSibling&&this.parentNode.appendChild(this)}function iE(){return this.each(rE)}function sE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oE(){return this.each(sE)}function lE(e){var t=typeof e=="function"?e:Mv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aE(){return null}function uE(e,t){var n=typeof e=="function"?e:Mv(e),r=t==null?aE:typeof t=="function"?t:Fh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cE(){var e=this.parentNode;e&&e.removeChild(this)}function fE(){return this.each(cE)}function dE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pE(e){return this.select(e?hE:dE)}function yE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gE(e){return function(t){e.call(this,t,this.__data__)}}function mE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function vE(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function wE(e,t,n){return function(){var r=this.__on,i,s=gE(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function _E(e,t,n){var r=mE(e+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(i=0,f=l[a];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?wE:vE,i=0;i<s;++i)this.each(l(r[i],t,n));return this}function $v(e,t,n){var r=Ov(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xE(e,t){return function(){return $v(this,e,t)}}function SE(e,t){return function(){return $v(this,e,t.apply(this,arguments))}}function bE(e,t){return this.each((typeof t=="function"?SE:xE)(e,t))}function*IE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Uv=[null];function $e(e,t){this._groups=e,this._parents=t}function cl(){return new $e([[document.documentElement]],Uv)}function EE(){return this}$e.prototype=cl.prototype={constructor:$e,select:Z2,selectAll:eI,selectChild:sI,selectChildren:uI,filter:cI,data:gI,enter:fI,exit:vI,join:wI,merge:_I,selection:EE,order:xI,sort:SI,call:II,nodes:EI,node:NI,size:kI,empty:CI,each:AI,attr:LI,style:$I,property:HI,classed:KI,text:JI,html:nE,raise:iE,lower:oE,append:lE,insert:uE,remove:fE,clone:pE,datum:yE,on:_E,dispatch:bE,[Symbol.iterator]:IE};function Oe(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],Uv)}function NE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function an(e,t){if(e=NE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const kE={passive:!1},jo={capture:!0,passive:!1};function tf(e){e.stopImmediatePropagation()}function ls(e){e.preventDefault(),e.stopImmediatePropagation()}function jv(e){var t=e.document.documentElement,n=Oe(e).on("dragstart.drag",ls,jo);"onselectstart"in t?n.on("selectstart.drag",ls,jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vv(e,t){var n=e.document.documentElement,r=Oe(e).on("dragstart.drag",null);t&&(r.on("click.drag",ls,jo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Yl=e=>()=>e;function dd(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}dd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function CE(e){return!e.ctrlKey&&!e.button}function AE(){return this.parentNode}function ME(e,t){return t??{x:e.x,y:e.y}}function DE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hv(){var e=CE,t=AE,n=ME,r=DE,i={},s=qu("start","drag","end"),o=0,l,a,u,f,c=0;function d(w){w.on("mousedown.drag",y).filter(r).on("touchstart.drag",_).on("touchmove.drag",p,kE).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(w,S){if(!(f||!e.call(this,w,S))){var b=h(this,t.call(this,w,S),w,S,"mouse");b&&(Oe(w.view).on("mousemove.drag",v,jo).on("mouseup.drag",m,jo),jv(w.view),tf(w),u=!1,l=w.clientX,a=w.clientY,b("start",w))}}function v(w){if(ls(w),!u){var S=w.clientX-l,b=w.clientY-a;u=S*S+b*b>c}i.mouse("drag",w)}function m(w){Oe(w.view).on("mousemove.drag mouseup.drag",null),Vv(w.view,u),ls(w),i.mouse("end",w)}function _(w,S){if(e.call(this,w,S)){var b=w.changedTouches,N=t.call(this,w,S),k=b.length,F,$;for(F=0;F<k;++F)($=h(this,N,w,S,b[F].identifier,b[F]))&&(tf(w),$("start",w,b[F]))}}function p(w){var S=w.changedTouches,b=S.length,N,k;for(N=0;N<b;++N)(k=i[S[N].identifier])&&(ls(w),k("drag",w,S[N]))}function g(w){var S=w.changedTouches,b=S.length,N,k;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<b;++N)(k=i[S[N].identifier])&&(tf(w),k("end",w,S[N]))}function h(w,S,b,N,k,F){var $=s.copy(),R=an(F||b,S),L,U,E;if((E=n.call(w,new dd("beforestart",{sourceEvent:b,target:d,identifier:k,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:$}),N))!=null)return L=E.x-R[0]||0,U=E.y-R[1]||0,function O(M,A,x){var I=R,D;switch(M){case"start":i[k]=O,D=o++;break;case"end":delete i[k],--o;case"drag":R=an(x||A,S),D=o;break}$.call(M,w,new dd(M,{sourceEvent:A,subject:E,target:d,identifier:k,active:D,x:R[0]+L,y:R[1]+U,dx:R[0]-I[0],dy:R[1]-I[1],dispatch:$}),N)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Yl(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:Yl(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Yl(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Yl(!!w),d):r},d.on=function(){var w=s.on.apply(s,arguments);return w===s?d:w},d.clickDistance=function(w){return arguments.length?(c=(w=+w)*w,d):Math.sqrt(c)},d}function Lh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fl(){}var Vo=.7,qa=1/Vo,as="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TE=/^#([0-9a-f]{3,8})$/,BE=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),FE=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),OE=new RegExp(`^rgba\\(${as},${as},${as},${Ho}\\)$`),LE=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Ho}\\)$`),RE=new RegExp(`^hsl\\(${Ho},${Pn},${Pn}\\)$`),PE=new RegExp(`^hsla\\(${Ho},${Pn},${Pn},${Ho}\\)$`),Yy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lh(fl,Ii,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xy,formatHex:Xy,formatHex8:zE,formatHsl:$E,formatRgb:Ky,toString:Ky});function Xy(){return this.rgb().formatHex()}function zE(){return this.rgb().formatHex8()}function $E(){return Yv(this).formatHsl()}function Ky(){return this.rgb().formatRgb()}function Ii(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qy(t):n===3?new Ie(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BE.exec(e))?new Ie(t[1],t[2],t[3],1):(t=FE.exec(e))?new Ie(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OE.exec(e))?Xl(t[1],t[2],t[3],t[4]):(t=LE.exec(e))?Xl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RE.exec(e))?Jy(t[1],t[2]/100,t[3]/100,1):(t=PE.exec(e))?Jy(t[1],t[2]/100,t[3]/100,t[4]):Yy.hasOwnProperty(e)?Qy(Yy[e]):e==="transparent"?new Ie(NaN,NaN,NaN,0):null}function Qy(e){return new Ie(e>>16&255,e>>8&255,e&255,1)}function Xl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ie(e,t,n,r)}function UE(e){return e instanceof fl||(e=Ii(e)),e?(e=e.rgb(),new Ie(e.r,e.g,e.b,e.opacity)):new Ie}function hd(e,t,n,r){return arguments.length===1?UE(e):new Ie(e,t,n,r??1)}function Ie(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lh(Ie,hd,Wv(fl,{brighter(e){return e=e==null?qa:Math.pow(qa,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ie(yi(this.r),yi(this.g),yi(this.b),tu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gy,formatHex:Gy,formatHex8:jE,formatRgb:Zy,toString:Zy}));function Gy(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function jE(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zy(){const e=tu(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function tu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oi(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function Jy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,n,r)}function Yv(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof fl||(e=Ii(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-i,a=(s+i)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=a<.5?s+i:2-s-i,o*=60):l=a>0&&a<1?0:o,new fn(o,l,a,e.opacity)}function VE(e,t,n,r){return arguments.length===1?Yv(e):new fn(e,t,n,r??1)}function fn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lh(fn,VE,Wv(fl,{brighter(e){return e=e==null?qa:Math.pow(qa,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ie(ef(e>=240?e-240:e+120,i,r),ef(e,i,r),ef(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fn(qy(this.h),Kl(this.s),Kl(this.l),tu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tu(this.opacity);return`${e===1?"hsl(":"hsla("}${qy(this.h)}, ${Kl(this.s)*100}%, ${Kl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qy(e){return e=(e||0)%360,e<0?e+360:e}function Kl(e){return Math.max(0,Math.min(1,e||0))}function ef(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Rh=e=>()=>e;function HE(e,t){return function(n){return e+n*t}}function WE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function YE(e){return(e=+e)==1?Xv:function(t,n){return n-t?WE(t,n,e):Rh(isNaN(t)?n:t)}}function Xv(e,t){var n=t-e;return n?HE(e,n):Rh(isNaN(e)?t:e)}const eu=function e(t){var n=YE(t);function r(i,s){var o=n((i=hd(i)).r,(s=hd(s)).r),l=n(i.g,s.g),a=n(i.b,s.b),u=Xv(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function XE(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function KE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QE(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=_o(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function GE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ZE(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_o(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var pd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nf=new RegExp(pd.source,"g");function JE(e){return function(){return e}}function qE(e){return function(t){return e(t)+""}}function Kv(e,t){var n=pd.lastIndex=nf.lastIndex=0,r,i,s,o=-1,l=[],a=[];for(e=e+"",t=t+"";(r=pd.exec(e))&&(i=nf.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,a.push({i:o,x:Nn(r,i)})),n=nf.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?a[0]?qE(a[0].x):JE(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function _o(e,t){var n=typeof t,r;return t==null||n==="boolean"?Rh(t):(n==="number"?Nn:n==="string"?(r=Ii(t))?(t=r,eu):Kv:t instanceof Ii?eu:t instanceof Date?GE:KE(t)?XE:Array.isArray(t)?QE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZE:Nn)(e,t)}var tg=180/Math.PI,yd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qv(e,t,n,r,i,s){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*tg,skewX:Math.atan(a)*tg,scaleX:o,scaleY:l}}var Ql;function tN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yd:Qv(t.a,t.b,t.c,t.d,t.e,t.f)}function eN(e){return e==null||(Ql||(Ql=document.createElementNS("http://www.w3.org/2000/svg","g")),Ql.setAttribute("transform",e),!(e=Ql.transform.baseVal.consolidate()))?yd:(e=e.matrix,Qv(e.a,e.b,e.c,e.d,e.e,e.f))}function Gv(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,f,c,d,y,v){if(u!==c||f!==d){var m=y.push("translate(",null,t,null,n);v.push({i:m-4,x:Nn(u,c)},{i:m-2,x:Nn(f,d)})}else(c||d)&&y.push("translate("+c+t+d+n)}function o(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Nn(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Nn(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function a(u,f,c,d,y,v){if(u!==c||f!==d){var m=y.push(i(y)+"scale(",null,",",null,")");v.push({i:m-4,x:Nn(u,c)},{i:m-2,x:Nn(f,d)})}else(c!==1||d!==1)&&y.push(i(y)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,c,d),o(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(y){for(var v=-1,m=d.length,_;++v<m;)c[(_=d[v]).i]=_.x(y);return c.join("")}}}var nN=Gv(tN,"px, ","px)","deg)"),rN=Gv(eN,", ",")",")"),iN=1e-12;function eg(e){return((e=Math.exp(e))+1/e)/2}function sN(e){return((e=Math.exp(e))-1/e)/2}function oN(e){return((e=Math.exp(2*e))-1)/(e+1)}const ma=function e(t,n,r){function i(s,o){var l=s[0],a=s[1],u=s[2],f=o[0],c=o[1],d=o[2],y=f-l,v=c-a,m=y*y+v*v,_,p;if(m<iN)p=Math.log(d/u)/t,_=function(N){return[l+N*y,a+N*v,u*Math.exp(t*N*p)]};else{var g=Math.sqrt(m),h=(d*d-u*u+r*m)/(2*u*n*g),w=(d*d-u*u-r*m)/(2*d*n*g),S=Math.log(Math.sqrt(h*h+1)-h),b=Math.log(Math.sqrt(w*w+1)-w);p=(b-S)/t,_=function(N){var k=N*p,F=eg(S),$=u/(n*g)*(F*oN(t*k+S)-sN(S));return[l+$*y,a+$*v,u*F/eg(t*k+S)]}}return _.duration=p*1e3*t/Math.SQRT2,_}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,a=l*l;return e(o,l,a)},i}(Math.SQRT2,2,4);var Ss=0,oo=0,qs=0,Zv=1e3,nu,lo,ru=0,Ei=0,ec=0,Wo=typeof performance=="object"&&performance.now?performance:Date,Jv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ph(){return Ei||(Jv(lN),Ei=Wo.now()+ec)}function lN(){Ei=0}function iu(){this._call=this._time=this._next=null}iu.prototype=qv.prototype={constructor:iu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ph():+n)+(t==null?0:+t),!this._next&&lo!==this&&(lo?lo._next=this:nu=this,lo=this),this._call=e,this._time=n,gd()},stop:function(){this._call&&(this._call=null,this._time=1/0,gd())}};function qv(e,t,n){var r=new iu;return r.restart(e,t,n),r}function aN(){Ph(),++Ss;for(var e=nu,t;e;)(t=Ei-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ss}function ng(){Ei=(ru=Wo.now())+ec,Ss=oo=0;try{aN()}finally{Ss=0,cN(),Ei=0}}function uN(){var e=Wo.now(),t=e-ru;t>Zv&&(ec-=t,ru=e)}function cN(){for(var e,t=nu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:nu=n);lo=e,gd(r)}function gd(e){if(!Ss){oo&&(oo=clearTimeout(oo));var t=e-Ei;t>24?(e<1/0&&(oo=setTimeout(ng,e-Wo.now()-ec)),qs&&(qs=clearInterval(qs))):(qs||(ru=Wo.now(),qs=setInterval(uN,Zv)),Ss=1,Jv(ng))}}function rg(e,t,n){var r=new iu;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fN=qu("start","end","cancel","interrupt"),dN=[],tw=0,ig=1,md=2,va=3,sg=4,vd=5,wa=6;function nc(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;hN(e,n,{name:t,index:r,group:i,on:fN,tween:dN,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tw})}function zh(e,t){var n=vn(e,t);if(n.state>tw)throw new Error("too late; already scheduled");return n}function Vn(e,t){var n=vn(e,t);if(n.state>va)throw new Error("too late; already running");return n}function vn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hN(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=qv(s,0,n.time);function s(u){n.state=ig,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,c,d,y;if(n.state!==ig)return a();for(f in r)if(y=r[f],y.name===n.name){if(y.state===va)return rg(o);y.state===sg?(y.state=wa,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=wa,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(rg(function(){n.state===va&&(n.state=sg,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=md,n.on.call("start",e,e.__data__,n.index,n.group),n.state===md){for(n.state=va,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=y);i.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=vd,1),c=-1,d=i.length;++c<d;)i[c].call(e,f);n.state===vd&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=wa,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function _a(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>md&&r.state<vd,r.state=wa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function pN(e){return this.each(function(){_a(this,e)})}function yN(e,t){var n,r;return function(){var i=Vn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gN(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Vn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}s.tween=i}}function mN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=vn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?yN:gN)(n,e,t))}function $h(e,t,n){var r=e._id;return e.each(function(){var i=Vn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return vn(i,r).value[t]}}function ew(e,t){var n;return(typeof t=="number"?Nn:t instanceof Ii?eu:(n=Ii(t))?(t=n,eu):Kv)(e,t)}function vN(e){return function(){this.removeAttribute(e)}}function wN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _N(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function xN(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function SN(e,t,n){var r,i,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===r&&a===i?s:(i=a,s=t(r=o,l)))}}function bN(e,t,n){var r,i,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===r&&a===i?s:(i=a,s=t(r=o,l)))}}function IN(e,t){var n=tc(e),r=n==="transform"?rN:ew;return this.attrTween(e,typeof t=="function"?(n.local?bN:SN)(n,r,$h(this,"attr."+e,t)):t==null?(n.local?wN:vN)(n):(n.local?xN:_N)(n,r,t))}function EN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function NN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kN(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&NN(e,s)),n}return i._value=t,i}function CN(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&EN(e,s)),n}return i._value=t,i}function AN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tc(e);return this.tween(n,(r.local?kN:CN)(r,t))}function MN(e,t){return function(){zh(this,e).delay=+t.apply(this,arguments)}}function DN(e,t){return t=+t,function(){zh(this,e).delay=t}}function TN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?MN:DN)(t,e)):vn(this.node(),t).delay}function BN(e,t){return function(){Vn(this,e).duration=+t.apply(this,arguments)}}function FN(e,t){return t=+t,function(){Vn(this,e).duration=t}}function ON(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?BN:FN)(t,e)):vn(this.node(),t).duration}function LN(e,t){if(typeof t!="function")throw new Error;return function(){Vn(this,e).ease=t}}function RN(e){var t=this._id;return arguments.length?this.each(LN(t,e)):vn(this.node(),t).ease}function PN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vn(this,e).ease=n}}function zN(e){if(typeof e!="function")throw new Error;return this.each(PN(this._id,e))}function $N(e){typeof e!="function"&&(e=Tv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,l=r[i]=[],a,u=0;u<o;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new fr(r,this._parents,this._name,this._id)}function UN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var a=t[l],u=n[l],f=a.length,c=o[l]=new Array(f),d,y=0;y<f;++y)(d=a[y]||u[y])&&(c[y]=d);for(;l<r;++l)o[l]=t[l];return new fr(o,this._parents,this._name,this._id)}function jN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function VN(e,t,n){var r,i,s=jN(t)?zh:Vn;return function(){var o=s(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function HN(e,t){var n=this._id;return arguments.length<2?vn(this.node(),n).on.on(e):this.each(VN(n,e,t))}function WN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function YN(){return this.on("end.remove",WN(this._id))}function XN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fh(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],a=l.length,u=s[o]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,nc(u[d],t,n,d,u,vn(f,n)));return new fr(s,this._parents,t,n)}function KN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dv(e));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),y,v=vn(f,n),m=0,_=d.length;m<_;++m)(y=d[m])&&nc(y,t,n,m,d,v);s.push(d),o.push(f)}return new fr(s,o,t,n)}var QN=cl.prototype.constructor;function GN(){return new QN(this._groups,this._parents)}function ZN(e,t){var n,r,i;return function(){var s=xs(this,e),o=(this.style.removeProperty(e),xs(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function nw(e){return function(){this.style.removeProperty(e)}}function JN(e,t,n){var r,i=n+"",s;return function(){var o=xs(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function qN(e,t,n){var r,i,s;return function(){var o=xs(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),xs(this,e))),o===a?null:o===r&&a===i?s:(i=a,s=t(r=o,l))}}function tk(e,t){var n,r,i,s="style."+t,o="end."+s,l;return function(){var a=Vn(this,e),u=a.on,f=a.value[s]==null?l||(l=nw(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(o,i=f),a.on=r}}function ek(e,t,n){var r=(e+="")=="transform"?nN:ew;return t==null?this.styleTween(e,ZN(e,r)).on("end.style."+e,nw(e)):typeof t=="function"?this.styleTween(e,qN(e,r,$h(this,"style."+e,t))).each(tk(this._id,e)):this.styleTween(e,JN(e,r,t),n).on("end.style."+e,null)}function nk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rk(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&nk(e,o,n)),r}return s._value=t,s}function ik(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rk(e,t,n??""))}function sk(e){return function(){this.textContent=e}}function ok(e){return function(){var t=e(this);this.textContent=t??""}}function lk(e){return this.tween("text",typeof e=="function"?ok($h(this,"text",e)):sk(e==null?"":e+""))}function ak(e){return function(t){this.textContent=e.call(this,t)}}function uk(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&ak(i)),t}return r._value=e,r}function ck(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uk(e))}function fk(){for(var e=this._name,t=this._id,n=rw(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,a,u=0;u<l;++u)if(a=o[u]){var f=vn(a,t);nc(a,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fr(r,this._parents,e,n)}function dk(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},a={value:function(){--i===0&&s()}};n.each(function(){var u=Vn(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&s()})}var hk=0;function fr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rw(){return++hk}var Wn=cl.prototype;fr.prototype={constructor:fr,select:XN,selectAll:KN,selectChild:Wn.selectChild,selectChildren:Wn.selectChildren,filter:$N,merge:UN,selection:GN,transition:fk,call:Wn.call,nodes:Wn.nodes,node:Wn.node,size:Wn.size,empty:Wn.empty,each:Wn.each,on:HN,attr:IN,attrTween:AN,style:ek,styleTween:ik,text:lk,textTween:ck,remove:YN,tween:mN,delay:TN,duration:ON,ease:RN,easeVarying:zN,end:dk,[Symbol.iterator]:Wn[Symbol.iterator]};function pk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yk={time:null,delay:0,duration:250,ease:pk};function gk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mk(e){var t,n;e instanceof fr?(t=e._id,e=e._name):(t=rw(),(n=yk).time=Ph(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&nc(a,e,t,u,o,n||gk(a,t));return new fr(r,this._parents,e,t)}cl.prototype.interrupt=pN;cl.prototype.transition=mk;const Gl=e=>()=>e;function vk(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function nr(e,t,n){this.k=e,this.x=t,this.y=n}nr.prototype={constructor:nr,scale:function(e){return e===1?this:new nr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new nr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rc=new nr(1,0,0);iw.prototype=nr.prototype;function iw(e){for(;!e.__zoom;)if(!(e=e.parentNode))return rc;return e.__zoom}function rf(e){e.stopImmediatePropagation()}function to(e){e.preventDefault(),e.stopImmediatePropagation()}function wk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function _k(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function og(){return this.__zoom||rc}function xk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Sk(){return navigator.maxTouchPoints||"ontouchstart"in this}function bk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function sw(){var e=wk,t=_k,n=bk,r=xk,i=Sk,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=ma,u=qu("start","zoom","end"),f,c,d,y=500,v=150,m=0,_=10;function p(E){E.property("__zoom",og).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(E,O,M,A){var x=E.selection?E.selection():E;x.property("__zoom",og),E!==x?S(E,O,M,A):x.interrupt().each(function(){b(this,arguments).event(A).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},p.scaleBy=function(E,O,M,A){p.scaleTo(E,function(){var x=this.__zoom.k,I=typeof O=="function"?O.apply(this,arguments):O;return x*I},M,A)},p.scaleTo=function(E,O,M,A){p.transform(E,function(){var x=t.apply(this,arguments),I=this.__zoom,D=M==null?w(x):typeof M=="function"?M.apply(this,arguments):M,z=I.invert(D),P=typeof O=="function"?O.apply(this,arguments):O;return n(h(g(I,P),D,z),x,o)},M,A)},p.translateBy=function(E,O,M,A){p.transform(E,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),o)},null,A)},p.translateTo=function(E,O,M,A,x){p.transform(E,function(){var I=t.apply(this,arguments),D=this.__zoom,z=A==null?w(I):typeof A=="function"?A.apply(this,arguments):A;return n(rc.translate(z[0],z[1]).scale(D.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof M=="function"?-M.apply(this,arguments):-M),I,o)},A,x)};function g(E,O){return O=Math.max(s[0],Math.min(s[1],O)),O===E.k?E:new nr(O,E.x,E.y)}function h(E,O,M){var A=O[0]-M[0]*E.k,x=O[1]-M[1]*E.k;return A===E.x&&x===E.y?E:new nr(E.k,A,x)}function w(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,O,M,A){E.on("start.zoom",function(){b(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(A).end()}).tween("zoom",function(){var x=this,I=arguments,D=b(x,I).event(A),z=t.apply(x,I),P=M==null?w(z):typeof M=="function"?M.apply(x,I):M,W=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=x.__zoom,Q=typeof O=="function"?O.apply(x,I):O,G=a(V.invert(P).concat(W/V.k),Q.invert(P).concat(W/Q.k));return function(X){if(X===1)X=Q;else{var H=G(X),Z=W/H[2];X=new nr(Z,P[0]-H[0]*Z,P[1]-H[1]*Z)}D.zoom(null,X)}})}function b(E,O,M){return!M&&E.__zooming||new N(E,O)}function N(E,O){this.that=E,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,O),this.taps=0}N.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,O){return this.mouse&&E!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var O=Oe(this.that).datum();u.call(E,this.that,new vk(E,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),O)}};function k(E,...O){if(!e.apply(this,arguments))return;var M=b(this,O).event(E),A=this.__zoom,x=Math.max(s[0],Math.min(s[1],A.k*Math.pow(2,r.apply(this,arguments)))),I=an(E);if(M.wheel)(M.mouse[0][0]!==I[0]||M.mouse[0][1]!==I[1])&&(M.mouse[1]=A.invert(M.mouse[0]=I)),clearTimeout(M.wheel);else{if(A.k===x)return;M.mouse=[I,A.invert(I)],_a(this),M.start()}to(E),M.wheel=setTimeout(D,v),M.zoom("mouse",n(h(g(A,x),M.mouse[0],M.mouse[1]),M.extent,o));function D(){M.wheel=null,M.end()}}function F(E,...O){if(d||!e.apply(this,arguments))return;var M=E.currentTarget,A=b(this,O,!0).event(E),x=Oe(E.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",W,!0),I=an(E,M),D=E.clientX,z=E.clientY;jv(E.view),rf(E),A.mouse=[I,this.__zoom.invert(I)],_a(this),A.start();function P(V){if(to(V),!A.moved){var Q=V.clientX-D,G=V.clientY-z;A.moved=Q*Q+G*G>m}A.event(V).zoom("mouse",n(h(A.that.__zoom,A.mouse[0]=an(V,M),A.mouse[1]),A.extent,o))}function W(V){x.on("mousemove.zoom mouseup.zoom",null),Vv(V.view,A.moved),to(V),A.event(V).end()}}function $(E,...O){if(e.apply(this,arguments)){var M=this.__zoom,A=an(E.changedTouches?E.changedTouches[0]:E,this),x=M.invert(A),I=M.k*(E.shiftKey?.5:2),D=n(h(g(M,I),A,x),t.apply(this,O),o);to(E),l>0?Oe(this).transition().duration(l).call(S,D,A,E):Oe(this).call(p.transform,D,A,E)}}function R(E,...O){if(e.apply(this,arguments)){var M=E.touches,A=M.length,x=b(this,O,E.changedTouches.length===A).event(E),I,D,z,P;for(rf(E),D=0;D<A;++D)z=M[D],P=an(z,this),P=[P,this.__zoom.invert(P),z.identifier],x.touch0?!x.touch1&&x.touch0[2]!==P[2]&&(x.touch1=P,x.taps=0):(x.touch0=P,I=!0,x.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(x.taps<2&&(c=P[0],f=setTimeout(function(){f=null},y)),_a(this),x.start())}}function L(E,...O){if(this.__zooming){var M=b(this,O).event(E),A=E.changedTouches,x=A.length,I,D,z,P;for(to(E),I=0;I<x;++I)D=A[I],z=an(D,this),M.touch0&&M.touch0[2]===D.identifier?M.touch0[0]=z:M.touch1&&M.touch1[2]===D.identifier&&(M.touch1[0]=z);if(D=M.that.__zoom,M.touch1){var W=M.touch0[0],V=M.touch0[1],Q=M.touch1[0],G=M.touch1[1],X=(X=Q[0]-W[0])*X+(X=Q[1]-W[1])*X,H=(H=G[0]-V[0])*H+(H=G[1]-V[1])*H;D=g(D,Math.sqrt(X/H)),z=[(W[0]+Q[0])/2,(W[1]+Q[1])/2],P=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(M.touch0)z=M.touch0[0],P=M.touch0[1];else return;M.zoom("touch",n(h(D,z,P),M.extent,o))}}function U(E,...O){if(this.__zooming){var M=b(this,O).event(E),A=E.changedTouches,x=A.length,I,D;for(rf(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},y),I=0;I<x;++I)D=A[I],M.touch0&&M.touch0[2]===D.identifier?delete M.touch0:M.touch1&&M.touch1[2]===D.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(D=an(D,this),Math.hypot(c[0]-D[0],c[1]-D[1])<_)){var z=Oe(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return p.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Gl(+E),p):r},p.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Gl(!!E),p):e},p.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Gl(!!E),p):i},p.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Gl([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),p):t},p.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],p):[s[0],s[1]]},p.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(E){return arguments.length?(n=E,p):n},p.duration=function(E){return arguments.length?(l=+E,p):l},p.interpolate=function(E){return arguments.length?(a=E,p):a},p.on=function(){var E=u.on.apply(u,arguments);return E===u?p:E},p.clickDistance=function(E){return arguments.length?(m=(E=+E)*E,p):Math.sqrt(m)},p.tapDistance=function(E){return arguments.length?(_=+E,p):_},p}const zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Yo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ow=["Enter"," ","Escape"],lw={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var bs;(function(e){e.Strict="strict",e.Loose="loose"})(bs||(bs={}));var gi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gi||(gi={}));var Xo;(function(e){e.Partial="partial",e.Full="full"})(Xo||(Xo={}));const aw={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var kr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(kr||(kr={}));var Is;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Is||(Is={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const lg={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function uw(e){return e===null?null:e?"valid":"invalid"}const cw=e=>"id"in e&&"source"in e&&"target"in e,Ik=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Uh=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),dl=(e,t=[0,0])=>{const{width:n,height:r}=pr(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},Ek=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):Uh(i)?i:t.nodeLookup.get(i.id));const l=o?su(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ic(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sc(n)},hl=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=ic(n,su(i)),r=!0)}),r?sc(n):{x:0,y:0,width:0,height:0}},jh=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...yl(t,[n,r,i]),width:t.width/i,height:t.height/i},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(o&&!c||d)continue;const y=f.width??u.width??u.initialWidth??null,v=f.height??u.height??u.initialHeight??null,m=Ko(l,Ns(u)),_=(y??0)*(v??0),p=s&&m>0;(!u.internals.handleBounds||p||m>=_||u.dragging)&&a.push(u)}return a},Nk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function kk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Ck({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const l=kk(e,o),a=hl(l),u=Vh(a,t,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function fw({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),l=o.parentId?n.get(o.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let c=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!l)s==null||s("005",zn.error005());else{const y=l.measured.width,v=l.measured.height;y&&v&&(c=[[a,u],[a+y,u+v]])}else l&&ks(o.extent)&&(c=[[o.extent[0][0]+a,o.extent[0][1]+u],[o.extent[1][0]+a,o.extent[1][1]+u]]);const d=ks(c)?Ni(t,c,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",zn.error015())),{position:{x:d.x-a+(o.measured.width??0)*f[0],y:d.y-u+(o.measured.height??0)*f[1]},positionAbsolute:d}}async function Ak({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(d=>d.id)),o=[];for(const d of n){if(d.deletable===!1)continue;const y=s.has(d.id),v=!y&&d.parentId&&o.find(m=>m.id===d.parentId);(y||v)&&o.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),f=Nk(o,a);for(const d of a)l.has(d.id)&&!f.find(v=>v.id===d.id)&&f.push(d);if(!i)return{edges:f,nodes:o};const c=await i({nodes:o,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:o}:{edges:[],nodes:[]}:c}const Es=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ni=(e={x:0,y:0},t,n)=>({x:Es(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Es(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function dw(e,t,n){const{width:r,height:i}=pr(n),{x:s,y:o}=n.internals.positionAbsolute;return Ni(e,[[s,o],[s+r,o+i]],t)}const ag=(e,t,n)=>e<t?Es(Math.abs(e-t),1,t)/t:e>n?-Es(Math.abs(e-n),1,t)/t:0,hw=(e,t,n=15,r=40)=>{const i=ag(e.x,r,t.width-r)*n,s=ag(e.y,r,t.height-r)*n;return[i,s]},ic=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),wd=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),sc=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ns=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=Uh(e)?e.internals.positionAbsolute:dl(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},su=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=Uh(e)?e.internals.positionAbsolute:dl(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},pw=(e,t)=>sc(ic(wd(e),wd(t))),Ko=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ug=e=>dn(e.width)&&dn(e.height)&&dn(e.x)&&dn(e.y),dn=e=>!isNaN(e)&&isFinite(e),Mk=(e,t)=>{},pl=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),yl=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?pl(l,o):l},ou=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Fi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Dk(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Fi(e,n),i=Fi(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Fi(e.top??e.y??0,n),i=Fi(e.bottom??e.y??0,n),s=Fi(e.left??e.x??0,t),o=Fi(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Tk(e,t,n,r,i,s){const{x:o,y:l}=ou(e,[t,n,r]),{x:a,y:u}=ou({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=i-a,c=s-u;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const Vh=(e,t,n,r,i,s)=>{const o=Dk(s,t,n),l=(t-o.x)/e.width,a=(n-o.y)/e.height,u=Math.min(l,a),f=Es(u,r,i),c=e.x+e.width/2,d=e.y+e.height/2,y=t/2-c*f,v=n/2-d*f,m=Tk(e,y,v,f,t,n),_={left:Math.min(m.left-o.left,0),top:Math.min(m.top-o.top,0),right:Math.min(m.right-o.right,0),bottom:Math.min(m.bottom-o.bottom,0)};return{x:y-_.left+_.right,y:v-_.top+_.bottom,zoom:f}},Qo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ks(e){return e!=null&&e!=="parent"}function pr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function yw(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function gw(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function cg(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Bk(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function Fk(e){return{...lw,...e||{}}}function xo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=hn(e),l=yl({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:a,y:u}=n?pl(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Hh=e=>({width:e.offsetWidth,height:e.offsetHeight}),mw=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ok=["INPUT","SELECT","TEXTAREA"];function vw(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ok.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ww=e=>"clientX"in e,hn=(e,t)=>{var s,o;const n=ww(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},fg=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Hh(o)}})};function _w({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const a=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function Zl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function dg({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case K.Left:return[t-Zl(t-r,s),n];case K.Right:return[t+Zl(r-t,s),n];case K.Top:return[t,n-Zl(n-i,s)];case K.Bottom:return[t,n+Zl(i-n,s)]}}function xw({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:s=K.Top,curvature:o=.25}){const[l,a]=dg({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,f]=dg({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[c,d,y,v]=_w({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${i}`,c,d,y,v]}function Sw({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[s,l,i,o]}function Lk({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+o}function Rk({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=ic(su(e),su(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Ko(o,sc(s))>0}const Pk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,zk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),bw=(e,t)=>{if(!e.source||!e.target)return t;let n;return cw(e)?n={...e}:n={...e,id:Pk(e)},zk(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Iw({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,l]=Sw({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,l]}const hg={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},$k=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},pg=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Uk({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:s,stepPosition:o}){const l=hg[t],a=hg[r],u={x:e.x+l.x*s,y:e.y+l.y*s},f={x:n.x+a.x*s,y:n.y+a.y*s},c=$k({source:u,sourcePosition:t,target:f}),d=c.x!==0?"x":"y",y=c[d];let v=[],m,_;const p={x:0,y:0},g={x:0,y:0},[,,h,w]=Sw({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(m=i.x??u.x+(f.x-u.x)*o,_=i.y??(u.y+f.y)/2):(m=i.x??(u.x+f.x)/2,_=i.y??u.y+(f.y-u.y)*o);const b=[{x:m,y:u.y},{x:m,y:f.y}],N=[{x:u.x,y:_},{x:f.x,y:_}];l[d]===y?v=d==="x"?b:N:v=d==="x"?N:b}else{const b=[{x:u.x,y:f.y}],N=[{x:f.x,y:u.y}];if(d==="x"?v=l.x===y?N:b:v=l.y===y?b:N,t===r){const L=Math.abs(e[d]-n[d]);if(L<=s){const U=Math.min(s-1,s-L);l[d]===y?p[d]=(u[d]>e[d]?-1:1)*U:g[d]=(f[d]>n[d]?-1:1)*U}}if(t!==r){const L=d==="x"?"y":"x",U=l[d]===a[L],E=u[L]>f[L],O=u[L]<f[L];(l[d]===1&&(!U&&E||U&&O)||l[d]!==1&&(!U&&O||U&&E))&&(v=d==="x"?b:N)}const k={x:u.x+p.x,y:u.y+p.y},F={x:f.x+g.x,y:f.y+g.y},$=Math.max(Math.abs(k.x-v[0].x),Math.abs(F.x-v[0].x)),R=Math.max(Math.abs(k.y-v[0].y),Math.abs(F.y-v[0].y));$>=R?(m=(k.x+F.x)/2,_=v[0].y):(m=v[0].x,_=(k.y+F.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...v,{x:f.x+g.x,y:f.y+g.y},n],m,_,h,w]}function jk(e,t,n,r){const i=Math.min(pg(e,t)/2,pg(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${o+i*a}Q ${s},${o} ${s+i*l},${o}`}function _d({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:s=K.Top,borderRadius:o=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,d,y,v,m]=Uk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((p,g,h)=>{let w="";return h>0&&h<c.length-1?w=jk(c[h-1],g,c[h+1],o):w=`${h===0?"M":"L"}${g.x} ${g.y}`,p+=w,p},""),d,y,v,m]}function yg(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Vk(e){var c;const{sourceNode:t,targetNode:n}=e;if(!yg(t)||!yg(n))return null;const r=t.internals.handleBounds||gg(t.handles),i=n.internals.handleBounds||gg(n.handles),s=mg((r==null?void 0:r.source)??[],e.sourceHandle),o=mg(e.connectionMode===bs.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!s||!o)return(c=e.onError)==null||c.call(e,"008",zn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||K.Bottom,a=(o==null?void 0:o.position)||K.Top,u=Go(t,s,l),f=Go(n,o,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function gg(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Go(e,t,n=K.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??pr(e);if(r)return{x:i+o/2,y:s+l/2};switch((t==null?void 0:t.position)??n){case K.Top:return{x:i+o/2,y:s};case K.Right:return{x:i+o,y:s+l/2};case K.Bottom:return{x:i+o/2,y:s+l};case K.Left:return{x:i,y:s+l/2}}}function mg(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function xd(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Hk(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(a=>{if(a&&typeof a=="object"){const u=xd(a,t);s.has(u)||(o.push({id:u,color:a.color||n,...a}),s.add(u))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const Ew=1e3,Wk=10,Wh={nodeOrigin:[0,0],nodeExtent:Yo,elevateNodesOnSelect:!0,defaults:{}},Yk={...Wh,checkEquality:!0};function Yh(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Xk(e,t,n){const r=Yh(Wh,n);for(const i of e.values())if(i.parentId)Xh(i,e,t,r);else{const s=dl(i,r.nodeOrigin),o=ks(i.extent)?i.extent:r.nodeExtent,l=Ni(s,o,pr(i));i.internals.positionAbsolute=l}}function Kk(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function Sd(e,t,n,r){var u,f;const i=Yh(Yk,r);let s={i:-1},o=e.length>0;const l=new Map(t),a=i!=null&&i.elevateNodesOnSelect?Ew:0;t.clear(),n.clear();for(const c of e){let d=l.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))t.set(c.id,d);else{const y=dl(c,i.nodeOrigin),v=ks(c.extent)?c.extent:i.nodeExtent,m=Ni(y,v,pr(c));d={...i.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:m,handleBounds:Kk(c,d),z:Nw(c,a),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&Xh(d,t,n,r,s)}return o}function Qk(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Xh(e,t,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:l}=Yh(Wh,r),a=e.parentId,u=t.get(a);if(!u){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Qk(e,n),i&&!u.parentId&&u.internals.rootParentIndex===void 0&&(u.internals.rootParentIndex=++i.i,u.internals.z=u.internals.z+i.i*Wk),i&&u.internals.rootParentIndex!==void 0&&(i.i=u.internals.rootParentIndex);const f=s?Ew:0,{x:c,y:d,z:y}=Gk(e,u,o,l,f),{positionAbsolute:v}=e.internals,m=c!==v.x||d!==v.y;(m||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:c,y:d}:v,z:y}})}function Nw(e,t){return(dn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Gk(e,t,n,r,i){const{x:s,y:o}=t.internals.positionAbsolute,l=pr(e),a=dl(e,n),u=ks(e.extent)?Ni(a,e.extent,l):a;let f=Ni({x:s+u.x,y:o+u.y},r,l);e.extent==="parent"&&(f=dw(f,l,t));const c=Nw(e,i),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>=c?d+1:c}}function Kh(e,t,n,r=[0,0]){var o;const i=[],s=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((o=s.get(l.parentId))==null?void 0:o.expandedRect)??Ns(a),f=pw(u,l.rect);s.set(l.parentId,{expandedRect:f,parent:a})}return s.size>0&&s.forEach(({expandedRect:l,parent:a},u)=>{var h;const f=a.internals.positionAbsolute,c=pr(a),d=a.origin??r,y=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,v=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,m=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),p=(m-c.width)*d[0],g=(_-c.height)*d[1];(y>0||v>0||p||g)&&(i.push({id:u,type:"position",position:{x:a.position.x-y+p,y:a.position.y-v+g}}),(h=n.get(u))==null||h.forEach(w=>{e.some(S=>S.id===w.id)||i.push({id:w.id,type:"position",position:{x:w.position.x+y,y:w.position.y+v}})})),(c.width<l.width||c.height<l.height||y||v)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(y?d[0]*y-p:0),height:_+(v?d[1]*v-g:0)}})}),i}function Zk(e,t,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of e.values()){const y=t.get(d.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),l=!0;continue}const v=Hh(d.nodeElement),m=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(m||!y.internals.handleBounds||d.force))){const p=d.nodeElement.getBoundingClientRect(),g=ks(y.extent)?y.extent:s;let{positionAbsolute:h}=y.internals;y.parentId&&y.extent==="parent"?h=dw(h,v,t.get(y.parentId)):g&&(h=Ni(h,g,v));const w={...y,measured:v,internals:{...y.internals,positionAbsolute:h,handleBounds:{source:fg("source",d.nodeElement,p,f,y.id),target:fg("target",d.nodeElement,p,f,y.id)}}};t.set(y.id,w),y.parentId&&Xh(w,t,n,{nodeOrigin:i}),l=!0,m&&(a.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&c.push({id:y.id,parentId:y.parentId,rect:Ns(w,i)}))}}if(c.length>0){const d=Kh(c,t,n,i);a.push(...d)}return{changes:a,updatedInternals:l}}async function Jk({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function vg(e,t,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,t)),o=`${i}-${e}`;const a=r.get(o)||new Map;if(r.set(o,a.set(n,t)),s){o=`${i}-${e}-${s}`;const u=r.get(o)||new Map;r.set(o,u.set(n,t))}}function kw(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,a={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},u=`${i}-${o}--${s}-${l}`,f=`${s}-${l}--${i}-${o}`;vg("source",a,f,e,i,o),vg("target",a,u,e,s,l),t.set(r.id,r)}}function Cw(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Cw(n,t):!1}function wg(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function qk(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!Cw(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function sf({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,l,a;const i=[];for(const[u,f]of t){const c=(o=n.get(u))==null?void 0:o.internals.userNode;c&&i.push({...c,position:f.position,dragging:r})}if(!e)return[i[0],i];const s=(l=n.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((a=t.get(e))==null?void 0:a.position)||s.position,dragging:r}:i[0],i]}function tC({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=pl(s,t);return{x:o.x-s.x,y:o.y-s.y}}function eC({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,y=!1,v=!1,m=null;function _({noDragClassName:g,handleSelector:h,domNode:w,isSelectable:S,nodeId:b,nodeClickDistance:N=0}){d=Oe(w);function k({x:L,y:U}){const{nodeLookup:E,nodeExtent:O,snapGrid:M,snapToGrid:A,nodeOrigin:x,onNodeDrag:I,onSelectionDrag:D,onError:z,updateNodePositions:P}=t();s={x:L,y:U};let W=!1;const V=l.size>1,Q=V&&O?wd(hl(l)):null,G=V&&A?tC({dragItems:l,snapGrid:M,x:L,y:U}):null;for(const[X,H]of l){if(!E.has(X))continue;let Z={x:L-H.distance.x,y:U-H.distance.y};A&&(Z=G?{x:Math.round(Z.x+G.x),y:Math.round(Z.y+G.y)}:pl(Z,M));let ht=null;if(V&&O&&!H.extent&&Q){const{positionAbsolute:J}=H.internals,wt=J.x-Q.x+O[0][0],Bt=J.x+H.measured.width-Q.x2+O[1][0],_t=J.y-Q.y+O[0][1],re=J.y+H.measured.height-Q.y2+O[1][1];ht=[[wt,_t],[Bt,re]]}const{position:ot,positionAbsolute:q}=fw({nodeId:X,nextPosition:Z,nodeLookup:E,nodeExtent:ht||O,nodeOrigin:x,onError:z});W=W||H.position.x!==ot.x||H.position.y!==ot.y,H.position=ot,H.internals.positionAbsolute=q}if(v=v||W,!!W&&(P(l,!0),m&&(r||I||!b&&D))){const[X,H]=sf({nodeId:b,dragItems:l,nodeLookup:E});r==null||r(m,l,X,H),I==null||I(m,X,H),b||D==null||D(m,H)}}async function F(){if(!f)return;const{transform:L,panBy:U,autoPanSpeed:E,autoPanOnNodeDrag:O}=t();if(!O){a=!1,cancelAnimationFrame(o);return}const[M,A]=hw(u,f,E);(M!==0||A!==0)&&(s.x=(s.x??0)-M/L[2],s.y=(s.y??0)-A/L[2],await U({x:M,y:A})&&k(s)),o=requestAnimationFrame(F)}function $(L){var V;const{nodeLookup:U,multiSelectionActive:E,nodesDraggable:O,transform:M,snapGrid:A,snapToGrid:x,selectNodesOnDrag:I,onNodeDragStart:D,onSelectionDragStart:z,unselectNodesAndEdges:P}=t();c=!0,(!I||!S)&&!E&&b&&((V=U.get(b))!=null&&V.selected||P()),S&&I&&b&&(e==null||e(b));const W=xo(L.sourceEvent,{transform:M,snapGrid:A,snapToGrid:x,containerBounds:f});if(s=W,l=qk(U,O,W,b),l.size>0&&(n||D||!b&&z)){const[Q,G]=sf({nodeId:b,dragItems:l,nodeLookup:U});n==null||n(L.sourceEvent,l,Q,G),D==null||D(L.sourceEvent,Q,G),b||z==null||z(L.sourceEvent,G)}}const R=Hv().clickDistance(N).on("start",L=>{const{domNode:U,nodeDragThreshold:E,transform:O,snapGrid:M,snapToGrid:A}=t();f=(U==null?void 0:U.getBoundingClientRect())||null,y=!1,v=!1,m=L.sourceEvent,E===0&&$(L),s=xo(L.sourceEvent,{transform:O,snapGrid:M,snapToGrid:A,containerBounds:f}),u=hn(L.sourceEvent,f)}).on("drag",L=>{const{autoPanOnNodeDrag:U,transform:E,snapGrid:O,snapToGrid:M,nodeDragThreshold:A,nodeLookup:x}=t(),I=xo(L.sourceEvent,{transform:E,snapGrid:O,snapToGrid:M,containerBounds:f});if(m=L.sourceEvent,(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||b&&!x.has(b))&&(y=!0),!y){if(!a&&U&&c&&(a=!0,F()),!c){const D=hn(L.sourceEvent,f),z=D.x-u.x,P=D.y-u.y;Math.sqrt(z*z+P*P)>A&&$(L)}(s.x!==I.xSnapped||s.y!==I.ySnapped)&&l&&c&&(u=hn(L.sourceEvent,f),k(I))}}).on("end",L=>{if(!(!c||y)&&(a=!1,c=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:U,updateNodePositions:E,onNodeDragStop:O,onSelectionDragStop:M}=t();if(v&&(E(l,!1),v=!1),i||O||!b&&M){const[A,x]=sf({nodeId:b,dragItems:l,nodeLookup:U,dragging:!1});i==null||i(L.sourceEvent,l,A,x),O==null||O(L.sourceEvent,A,x),b||M==null||M(L.sourceEvent,x)}}}).filter(L=>{const U=L.target;return!L.button&&(!g||!wg(U,`.${g}`,w))&&(!h||wg(U,h,w))});d.call(R)}function p(){d==null||d.on(".drag",null)}return{update:_,destroy:p}}function nC(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ko(i,Ns(s))>0&&r.push(s);return r}const rC=250;function iC(e,t,n,r){var l,a;let i=[],s=1/0;const o=nC(e,n,t+rC);for(const u of o){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y}=Go(u,c,c.position,!0),v=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(y-e.y,2));v>t||(v<s?(i=[{...c,x:d,y}],s=v):v===s&&i.push({...c,x:d,y}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(f=>f.type===u)??i[0]}return i[0]}function Aw(e,t,n,r,i,s=!1){var u,f,c;const o=r.get(e);if(!o)return null;const l=i==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((c=o.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&s?{...a,...Go(o,a,a.position,!0)}:a}function Mw(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function sC(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Dw=()=>!0;function oC(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:y,onConnectStart:v,onConnect:m,onConnectEnd:_,isValidConnection:p=Dw,onReconnectEnd:g,updateConnection:h,getTransform:w,getFromHandle:S,autoPanSpeed:b,dragThreshold:N=1,handleDomNode:k}){const F=mw(e.target);let $=0,R;const{x:L,y:U}=hn(e),E=Mw(s,k),O=l==null?void 0:l.getBoundingClientRect();let M=!1;if(!O||!E)return;const A=Aw(i,E,r,a,t);if(!A)return;let x=hn(e,O),I=!1,D=null,z=!1,P=null;function W(){if(!f||!O)return;const[ot,q]=hw(x,O,b);d({x:ot,y:q}),$=requestAnimationFrame(W)}const V={...A,nodeId:i,type:E,position:A.position},Q=a.get(i);let X={inProgress:!0,isValid:null,from:Go(Q,V,K.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Q,to:x,toHandle:null,toPosition:lg[V.position],toNode:null,pointer:x};function H(){M=!0,h(X),v==null||v(e,{nodeId:i,handleId:r,handleType:E})}N===0&&H();function Z(ot){if(!M){const{x:Bt,y:_t}=hn(ot),re=Bt-L,Hn=_t-U;if(!(re*re+Hn*Hn>N*N))return;H()}if(!S()||!V){ht(ot);return}const q=w();x=hn(ot,O),R=iC(yl(x,q,!1,[1,1]),n,a,V),I||(W(),I=!0);const J=Tw(ot,{handle:R,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:F,lib:u,flowId:c,nodeLookup:a});P=J.handleDomNode,D=J.connection,z=sC(!!R,J.isValid);const wt={...X,isValid:z,to:J.toHandle&&z?ou({x:J.toHandle.x,y:J.toHandle.y},q):x,toHandle:J.toHandle,toPosition:z&&J.toHandle?J.toHandle.position:lg[V.position],toNode:J.toHandle?a.get(J.toHandle.nodeId):null,pointer:x};h(wt),X=wt}function ht(ot){if(!("touches"in ot&&ot.touches.length>0)){if(M){(R||P)&&D&&z&&(m==null||m(D));const{inProgress:q,...J}=X,wt={...J,toPosition:X.toHandle?X.toPosition:null};_==null||_(ot,wt),s&&(g==null||g(ot,wt))}y(),cancelAnimationFrame($),I=!1,z=!1,D=null,P=null,F.removeEventListener("mousemove",Z),F.removeEventListener("mouseup",ht),F.removeEventListener("touchmove",Z),F.removeEventListener("touchend",ht)}}F.addEventListener("mousemove",Z),F.addEventListener("mouseup",ht),F.addEventListener("touchmove",Z),F.addEventListener("touchend",ht)}function Tw(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:a,isValidConnection:u=Dw,nodeLookup:f}){const c=s==="target",d=t?o.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:v}=hn(e),m=o.elementFromPoint(y,v),_=m!=null&&m.classList.contains(`${l}-flow__handle`)?m:d,p={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const g=Mw(void 0,_),h=_.getAttribute("data-nodeid"),w=_.getAttribute("data-handleid"),S=_.classList.contains("connectable"),b=_.classList.contains("connectableend");if(!h||!g)return p;const N={source:c?h:r,sourceHandle:c?w:i,target:c?r:h,targetHandle:c?i:w};p.connection=N;const F=S&&b&&(n===bs.Strict?c&&g==="source"||!c&&g==="target":h!==r||w!==i);p.isValid=F&&u(N),p.toHandle=Aw(h,g,w,f,n,!0)}return p}const bd={onPointerDown:oC,isValid:Tw};function lC({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Oe(e);function s({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:d=!0,inversePan:y=!1}){const v=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const w=n(),S=h.sourceEvent.ctrlKey&&Qo()?10:1,b=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*f,N=w[2]*Math.pow(2,b*S);t.scaleTo(N)};let m=[0,0];const _=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(m=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},p=h=>{const w=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const S=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],b=[S[0]-m[0],S[1]-m[1]];m=S;const N=r()*Math.max(w[2],Math.log(w[2]))*(y?-1:1),k={x:w[0]-b[0]*N,y:w[1]-b[1]*N},F=[[0,0],[a,u]];t.setViewportConstrained({x:k.x,y:k.y,zoom:w[2]},F,l)},g=sw().on("start",_).on("zoom",c?p:null).on("zoom.wheel",d?v:null);i.call(g,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:an}}const oc=e=>({x:e.x,y:e.y,zoom:e.k}),of=({x:e,y:t,zoom:n})=>rc.translate(e,t).scale(n),Ji=(e,t)=>e.target.closest(`.${t}`),Bw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),aC=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,lf=(e,t=0,n=aC,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Fw=e=>{const t=e.ctrlKey&&Qo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function uC({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Ji(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&o){const _=an(f),p=Fw(f),g=c*Math.pow(2,p);r.scaleTo(n,g,_,f);return}const d=f.deltaMode===1?20:1;let y=i===gi.Vertical?0:f.deltaX*d,v=i===gi.Horizontal?0:f.deltaY*d;!Qo()&&f.shiftKey&&i!==gi.Vertical&&(y=f.deltaY*d,v=0),r.translateBy(n,-(y/c)*s,-(v/c)*s,{internal:!0});const m=oc(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,m),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,m))}}function cC({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!t&&s&&!r.ctrlKey,l=Ji(r,e);if(r.ctrlKey&&s&&l&&r.preventDefault(),o||l)return null;r.preventDefault(),n.call(this,r,i)}}function fC({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,o,l;if((s=r.sourceEvent)!=null&&s.internal)return;const i=oc(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function dC({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,l;e.usedRightMouseButton=!!(n&&Bw(t,e.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((l=s.sourceEvent)!=null&&l.internal)&&(i==null||i(s.sourceEvent,oc(s.transform)))}}function hC({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&Bw(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const a=oc(o.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,a)},n?150:0)}}}function pC({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var _;const d=e||t,y=n&&c.ctrlKey,v=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(Ji(c,`${u}-flow__node`)||Ji(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||f&&!v||Ji(c,l)&&v||Ji(c,a)&&(!v||i&&v&&!e)||!n&&c.ctrlKey&&v)return!1;if(!n&&c.type==="touchstart"&&((_=c.touches)==null?void 0:_.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!y&&v||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||v)&&m}}function yC({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=sw().scaleExtent([t,n]).translateExtent(r),d=Oe(e).call(c);g({x:i.x,y:i.y,zoom:Es(i.zoom,t,n)},[[0,0],[f.width,f.height]],r);const y=d.on("wheel.zoom"),v=d.on("dblclick.zoom");c.wheelDelta(Fw);function m(R,L){return d?new Promise(U=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?_o:ma).transform(lf(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>U(!0)),R)}):Promise.resolve(!1)}function _({noWheelClassName:R,noPanClassName:L,onPaneContextMenu:U,userSelectionActive:E,panOnScroll:O,panOnDrag:M,panOnScrollMode:A,panOnScrollSpeed:x,preventScrolling:I,zoomOnPinch:D,zoomOnScroll:z,zoomOnDoubleClick:P,zoomActivationKeyPressed:W,lib:V,onTransformChange:Q,connectionInProgress:G,paneClickDistance:X,selectionOnDrag:H}){E&&!u.isZoomingOrPanning&&p();const Z=O&&!W&&!E;c.clickDistance(H?1/0:!dn(X)||X<0?0:X);const ht=Z?uC({zoomPanValues:u,noWheelClassName:R,d3Selection:d,d3Zoom:c,panOnScrollMode:A,panOnScrollSpeed:x,zoomOnPinch:D,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:l}):cC({noWheelClassName:R,preventScrolling:I,d3ZoomHandler:y});if(d.on("wheel.zoom",ht,{passive:!1}),!E){const q=fC({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:o});c.on("start",q);const J=dC({zoomPanValues:u,panOnDrag:M,onPaneContextMenu:!!U,onPanZoom:s,onTransformChange:Q});c.on("zoom",J);const wt=hC({zoomPanValues:u,panOnDrag:M,panOnScroll:O,onPaneContextMenu:U,onPanZoomEnd:l,onDraggingChange:a});c.on("end",wt)}const ot=pC({zoomActivationKeyPressed:W,panOnDrag:M,zoomOnScroll:z,panOnScroll:O,zoomOnDoubleClick:P,zoomOnPinch:D,userSelectionActive:E,noPanClassName:L,noWheelClassName:R,lib:V,connectionInProgress:G});c.filter(ot),P?d.on("dblclick.zoom",v):d.on("dblclick.zoom",null)}function p(){c.on("zoom",null)}async function g(R,L,U){const E=of(R),O=c==null?void 0:c.constrain()(E,L,U);return O&&await m(O),new Promise(M=>M(O))}async function h(R,L){const U=of(R);return await m(U,L),new Promise(E=>E(U))}function w(R){if(d){const L=of(R),U=d.property("__zoom");(U.k!==R.zoom||U.x!==R.x||U.y!==R.y)&&(c==null||c.transform(d,L,null,{sync:!0}))}}function S(){const R=d?iw(d.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function b(R,L){return d?new Promise(U=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?_o:ma).scaleTo(lf(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>U(!0)),R)}):Promise.resolve(!1)}function N(R,L){return d?new Promise(U=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?_o:ma).scaleBy(lf(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>U(!0)),R)}):Promise.resolve(!1)}function k(R){c==null||c.scaleExtent(R)}function F(R){c==null||c.translateExtent(R)}function $(R){const L=!dn(R)||R<0?0:R;c==null||c.clickDistance(L)}return{update:_,destroy:p,setViewport:h,setViewportConstrained:g,getViewport:S,scaleTo:b,scaleBy:N,setScaleExtent:k,setTranslateExtent:F,syncViewport:w,setClickDistance:$}}var ki;(function(e){e.Line="line",e.Handle="handle"})(ki||(ki={}));const gC=["top-left","top-right","bottom-left","bottom-right"],mC=["top","right","bottom","left"];function vC({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=e-t,l=n-r,a=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(a[0]=a[0]*-1),l&&s&&(a[1]=a[1]*-1),a}function _g(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function vr(e,t){return Math.max(0,t-e)}function wr(e,t){return Math.max(0,e-t)}function Jl(e,t,n){return Math.max(0,t-e,e-n)}function xg(e,t){return e?!t:t}function wC(e,t,n,r,i,s,o,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,d=f&&c,{xSnapped:y,ySnapped:v}=n,{minWidth:m,maxWidth:_,minHeight:p,maxHeight:g}=r,{x:h,y:w,width:S,height:b,aspectRatio:N}=e;let k=Math.floor(f?y-e.pointerX:0),F=Math.floor(c?v-e.pointerY:0);const $=S+(a?-k:k),R=b+(u?-F:F),L=-s[0]*S,U=-s[1]*b;let E=Jl($,m,_),O=Jl(R,p,g);if(o){let x=0,I=0;a&&k<0?x=vr(h+k+L,o[0][0]):!a&&k>0&&(x=wr(h+$+L,o[1][0])),u&&F<0?I=vr(w+F+U,o[0][1]):!u&&F>0&&(I=wr(w+R+U,o[1][1])),E=Math.max(E,x),O=Math.max(O,I)}if(l){let x=0,I=0;a&&k>0?x=wr(h+k,l[0][0]):!a&&k<0&&(x=vr(h+$,l[1][0])),u&&F>0?I=wr(w+F,l[0][1]):!u&&F<0&&(I=vr(w+R,l[1][1])),E=Math.max(E,x),O=Math.max(O,I)}if(i){if(f){const x=Jl($/N,p,g)*N;if(E=Math.max(E,x),o){let I=0;!a&&!u||a&&!u&&d?I=wr(w+U+$/N,o[1][1])*N:I=vr(w+U+(a?k:-k)/N,o[0][1])*N,E=Math.max(E,I)}if(l){let I=0;!a&&!u||a&&!u&&d?I=vr(w+$/N,l[1][1])*N:I=wr(w+(a?k:-k)/N,l[0][1])*N,E=Math.max(E,I)}}if(c){const x=Jl(R*N,m,_)/N;if(O=Math.max(O,x),o){let I=0;!a&&!u||u&&!a&&d?I=wr(h+R*N+L,o[1][0])/N:I=vr(h+(u?F:-F)*N+L,o[0][0])/N,O=Math.max(O,I)}if(l){let I=0;!a&&!u||u&&!a&&d?I=vr(h+R*N,l[1][0])/N:I=wr(h+(u?F:-F)*N,l[0][0])/N,O=Math.max(O,I)}}}F=F+(F<0?O:-O),k=k+(k<0?E:-E),i&&(d?$>R*N?F=(xg(a,u)?-k:k)/N:k=(xg(a,u)?-F:F)*N:f?(F=k/N,u=a):(k=F*N,a=u));const M=a?h+k:h,A=u?w+F:w;return{width:S+(a?-k:k),height:b+(u?-F:F),x:s[0]*k*(a?-1:1)+M,y:s[1]*F*(u?-1:1)+A}}const Ow={width:0,height:0,x:0,y:0},_C={...Ow,pointerX:0,pointerY:0,aspectRatio:1};function xC(e){return[[0,0],[e.measured.width,e.measured.height]]}function SC(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,o=e.measured.height??0,l=n[0]*s,a=n[1]*o;return[[r-l,i-a],[r+s-l,i+o-a]]}function bC({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const s=Oe(e);let o={controlDirection:_g("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:d,onResizeStart:y,onResize:v,onResizeEnd:m,shouldResize:_}){let p={...Ow},g={..._C};o={boundaries:f,resizeDirection:d,keepAspectRatio:c,controlDirection:_g(u)};let h,w=null,S=[],b,N,k,F=!1;const $=Hv().on("start",R=>{const{nodeLookup:L,transform:U,snapGrid:E,snapToGrid:O,nodeOrigin:M,paneDomNode:A}=n();if(h=L.get(t),!h)return;w=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:x,ySnapped:I}=xo(R.sourceEvent,{transform:U,snapGrid:E,snapToGrid:O,containerBounds:w});p={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},g={...p,pointerX:x,pointerY:I,aspectRatio:p.width/p.height},b=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(b=L.get(h.parentId),N=b&&h.extent==="parent"?xC(b):void 0),S=[],k=void 0;for(const[D,z]of L)if(z.parentId===t&&(S.push({id:D,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const P=SC(z,h,z.origin??M);k?k=[[Math.min(P[0][0],k[0][0]),Math.min(P[0][1],k[0][1])],[Math.max(P[1][0],k[1][0]),Math.max(P[1][1],k[1][1])]]:k=P}y==null||y(R,{...p})}).on("drag",R=>{const{transform:L,snapGrid:U,snapToGrid:E,nodeOrigin:O}=n(),M=xo(R.sourceEvent,{transform:L,snapGrid:U,snapToGrid:E,containerBounds:w}),A=[];if(!h)return;const{x,y:I,width:D,height:z}=p,P={},W=h.origin??O,{width:V,height:Q,x:G,y:X}=wC(g,o.controlDirection,M,o.boundaries,o.keepAspectRatio,W,N,k),H=V!==D,Z=Q!==z,ht=G!==x&&H,ot=X!==I&&Z;if(!ht&&!ot&&!H&&!Z)return;if((ht||ot||W[0]===1||W[1]===1)&&(P.x=ht?G:p.x,P.y=ot?X:p.y,p.x=P.x,p.y=P.y,S.length>0)){const Bt=G-x,_t=X-I;for(const re of S)re.position={x:re.position.x-Bt+W[0]*(V-D),y:re.position.y-_t+W[1]*(Q-z)},A.push(re)}if((H||Z)&&(P.width=H&&(!o.resizeDirection||o.resizeDirection==="horizontal")?V:p.width,P.height=Z&&(!o.resizeDirection||o.resizeDirection==="vertical")?Q:p.height,p.width=P.width,p.height=P.height),b&&h.expandParent){const Bt=W[0]*(P.width??0);P.x&&P.x<Bt&&(p.x=Bt,g.x=g.x-(P.x-Bt));const _t=W[1]*(P.height??0);P.y&&P.y<_t&&(p.y=_t,g.y=g.y-(P.y-_t))}const q=vC({width:p.width,prevWidth:D,height:p.height,prevHeight:z,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),J={...p,direction:q};(_==null?void 0:_(R,J))!==!1&&(F=!0,v==null||v(R,J),r(P,A))}).on("end",R=>{F&&(m==null||m(R,{...p}),i==null||i({...p}),F=!1)});s.call($)}function a(){s.on(".drag",null)}return{update:l,destroy:a}}var Lw={exports:{}},Rw={},Pw={exports:{}},zw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=B;function IC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EC=typeof Object.is=="function"?Object.is:IC,NC=Cs.useState,kC=Cs.useEffect,CC=Cs.useLayoutEffect,AC=Cs.useDebugValue;function MC(e,t){var n=t(),r=NC({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return CC(function(){i.value=n,i.getSnapshot=t,af(i)&&s({inst:i})},[e,n,t]),kC(function(){return af(i)&&s({inst:i}),e(function(){af(i)&&s({inst:i})})},[e]),AC(n),n}function af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EC(e,n)}catch{return!0}}function DC(e,t){return t()}var TC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DC:MC;zw.useSyncExternalStore=Cs.useSyncExternalStore!==void 0?Cs.useSyncExternalStore:TC;Pw.exports=zw;var BC=Pw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=B,FC=BC;function OC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LC=typeof Object.is=="function"?Object.is:OC,RC=FC.useSyncExternalStore,PC=lc.useRef,zC=lc.useEffect,$C=lc.useMemo,UC=lc.useDebugValue;Rw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=PC(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$C(function(){function a(y){if(!u){if(u=!0,f=y,y=r(y),i!==void 0&&o.hasValue){var v=o.value;if(i(v,y))return c=v}return c=y}if(v=c,LC(f,y))return v;var m=r(y);return i!==void 0&&i(v,m)?(f=y,v):(f=y,c=m)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,i]);var l=RC(e,s[0],s[1]);return zC(function(){o.hasValue=!0,o.value=l},[l]),UC(l),l};Lw.exports=Rw;var jC=Lw.exports;const VC=mm(jC),HC={},Sg=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const y=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,y))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(HC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},WC=e=>e?Sg(e):Sg,{useDebugValue:YC}=Vd,{useSyncExternalStoreWithSelector:XC}=VC,KC=e=>e;function $w(e,t=KC,n){const r=XC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return YC(r),r}const bg=(e,t)=>{const n=WC(e),r=(i,s=t)=>$w(n,i,s);return Object.assign(r,n),r},QC=(e,t)=>e?bg(e,t):bg;function Ht(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ac=B.createContext(null),GC=ac.Provider,Uw=zn.error001();function mt(e,t){const n=B.useContext(ac);if(n===null)throw new Error(Uw);return $w(n,e,t)}function Pt(){const e=B.useContext(ac);if(e===null)throw new Error(Uw);return B.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ig={display:"none"},ZC={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jw="react-flow__node-desc",Vw="react-flow__edge-desc",JC="react-flow__aria-live",qC=e=>e.ariaLiveMessage,tA=e=>e.ariaLabelConfig;function eA({rfId:e}){const t=mt(qC);return C.jsx("div",{id:`${JC}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ZC,children:t})}function nA({rfId:e,disableKeyboardA11y:t}){const n=mt(tA);return C.jsxs(C.Fragment,{children:[C.jsx("div",{id:`${jw}-${e}`,style:Ig,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),C.jsx("div",{id:`${Vw}-${e}`,style:Ig,children:n["edge.a11yDescription.default"]}),!t&&C.jsx(eA,{rfId:e})]})}const gl=B.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{const o=`${e}`.split("-");return C.jsx("div",{className:Qt(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:t})});gl.displayName="Panel";function rA({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:C.jsx(gl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:C.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const iA=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ql=e=>e.id;function sA(e,t){return Ht(e.selectedNodes.map(ql),t.selectedNodes.map(ql))&&Ht(e.selectedEdges.map(ql),t.selectedEdges.map(ql))}function oA({onSelectionChange:e}){const t=Pt(),{selectedNodes:n,selectedEdges:r}=mt(iA,sA);return B.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,e]),null}const lA=e=>!!e.onSelectionChangeHandlers;function aA({onSelectionChange:e}){const t=mt(lA);return e||t?C.jsx(oA,{onSelectionChange:e}):null}const Hw=[0,0],uA={x:0,y:0,zoom:1},cA=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Eg=[...cA,"rfId"],fA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Ng={translateExtent:Yo,nodeOrigin:Hw,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function dA(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:a}=mt(fA,Ht),u=Pt();B.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=Ng,l()}),[]);const f=B.useRef(Ng);return B.useEffect(()=>{for(const c of Eg){const d=e[c],y=f.current[c];d!==y&&(typeof e[c]>"u"||(c==="nodes"?t(d):c==="edges"?n(d):c==="minZoom"?r(d):c==="maxZoom"?i(d):c==="translateExtent"?s(d):c==="nodeExtent"?o(d):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:Fk(d)}):c==="fitView"?u.setState({fitViewQueued:d}):c==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[c]:d})))}f.current=e},Eg.map(c=>e[c])),null}function kg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hA(e){var r;const[t,n]=B.useState(e==="system"?null:e);return B.useEffect(()=>{if(e!=="system"){n(e);return}const i=kg(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[e]),t!==null?t:(r=kg())!=null&&r.matches?"dark":"light"}const Cg=typeof document<"u"?document:null;function Zo(e=null,t={target:Cg,actInsideInputWithModifier:!0}){const[n,r]=B.useState(!1),i=B.useRef(!1),s=B.useRef(new Set([])),[o,l]=B.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return B.useEffect(()=>{const a=(t==null?void 0:t.target)??Cg,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=y=>{var _,p;if(i.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!i.current||i.current&&!u)&&vw(y))return!1;const m=Mg(y.code,l);if(s.current.add(y[m]),Ag(o,s.current,!1)){const g=((p=(_=y.composedPath)==null?void 0:_.call(y))==null?void 0:p[0])||y.target,h=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(i.current||!h)&&y.preventDefault(),r(!0)}},c=y=>{const v=Mg(y.code,l);Ag(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(y[v]),y.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Ag(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Mg(e,t){return t.includes(e)?"code":"key"}const pA=()=>{const e=Pt();return B.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,s],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=e.getState(),a=Vh(t,r,i,s,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=e.getState();if(!o)return t;const{x:l,y:a}=o.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??i,c=n.snapToGrid??s;return yl(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:s}=r.getBoundingClientRect(),o=ou(t,n);return{x:o.x+i,y:o.y+s}}}),[])};function Ww(e,t){const n=[],r=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of t){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const a of o)yA(a,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function yA(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Yw(e,t){return Ww(e,t)}function Xw(e,t){return Ww(e,t)}function ni(e,t){return{id:e,type:"select",selected:t}}function qi(e,t=new Set,n=!1){const r=[];for(const[i,s]of e){const o=t.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(ni(s.id,o)))}return r}function Dg({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,o]of e.entries()){const l=t.get(o.id),a=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;a!==void 0&&a!==o&&n.push({id:o.id,item:o,type:"replace"}),a===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function Tg(e){return{id:e.id,type:"remove"}}const Bg=e=>Ik(e),gA=e=>cw(e);function Kw(e){return B.forwardRef(e)}const mA=typeof window<"u"?B.useLayoutEffect:B.useEffect;function Fg(e){const[t,n]=B.useState(BigInt(0)),[r]=B.useState(()=>vA(()=>n(i=>i+BigInt(1))));return mA(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function vA(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Qw=B.createContext(null);function wA({children:e}){const t=Pt(),n=B.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:d,fitViewQueued:y}=t.getState();let v=a;for(const _ of l)v=typeof _=="function"?_(v):_;const m=Dg({items:v,lookup:d});f&&u(v),m.length>0?c==null||c(m):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:p,setNodes:g}=t.getState();_&&g(p)})},[]),r=Fg(n),i=B.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:d}=t.getState();let y=a;for(const v of l)y=typeof v=="function"?v(y):v;f?u(y):c&&c(Dg({items:y,lookup:d}))},[]),s=Fg(i),o=B.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return C.jsx(Qw.Provider,{value:o,children:e})}function _A(){const e=B.useContext(Qw);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const xA=e=>!!e.panZoom;function ml(){const e=pA(),t=Pt(),n=_A(),r=mt(xA),i=B.useMemo(()=>{const s=c=>t.getState().nodeLookup.get(c),o=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var p,g;const{nodeLookup:d,nodeOrigin:y}=t.getState(),v=Bg(c)?c:d.get(c.id),m=v.parentId?gw(v.position,v.measured,v.parentId,d,y):v.position,_={...v,position:m,width:((p=v.measured)==null?void 0:p.width)??v.width,height:((g=v.measured)==null?void 0:g.height)??v.height};return Ns(_)},u=(c,d,y={replace:!1})=>{o(v=>v.map(m=>{if(m.id===c){const _=typeof d=="function"?d(m):d;return y.replace&&Bg(_)?_:{...m,..._}}return m}))},f=(c,d,y={replace:!1})=>{l(v=>v.map(m=>{if(m.id===c){const _=typeof d=="function"?d(m):d;return y.replace&&gA(_)?_:{...m,..._}}return m}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var d;return(d=s(c))==null?void 0:d.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(d=>({...d}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:o,setEdges:l,addNodes:c=>{const d=Array.isArray(c)?c:[c];n.nodeQueue.push(y=>[...y,...d])},addEdges:c=>{const d=Array.isArray(c)?c:[c];n.edgeQueue.push(y=>[...y,...d])},toObject:()=>{const{nodes:c=[],edges:d=[],transform:y}=t.getState(),[v,m,_]=y;return{nodes:c.map(p=>({...p})),edges:d.map(p=>({...p})),viewport:{x:v,y:m,zoom:_}}},deleteElements:async({nodes:c=[],edges:d=[]})=>{const{nodes:y,edges:v,onNodesDelete:m,onEdgesDelete:_,triggerNodeChanges:p,triggerEdgeChanges:g,onDelete:h,onBeforeDelete:w}=t.getState(),{nodes:S,edges:b}=await Ak({nodesToRemove:c,edgesToRemove:d,nodes:y,edges:v,onBeforeDelete:w}),N=b.length>0,k=S.length>0;if(N){const F=b.map(Tg);_==null||_(b),g(F)}if(k){const F=S.map(Tg);m==null||m(S),p(F)}return(k||N)&&(h==null||h({nodes:S,edges:b})),{deletedNodes:S,deletedEdges:b}},getIntersectingNodes:(c,d=!0,y)=>{const v=ug(c),m=v?c:a(c),_=y!==void 0;return m?(y||t.getState().nodes).filter(p=>{const g=t.getState().nodeLookup.get(p.id);if(g&&!v&&(p.id===c.id||!g.internals.positionAbsolute))return!1;const h=Ns(_?p:g),w=Ko(h,m);return d&&w>0||w>=h.width*h.height||w>=m.width*m.height}):[]},isNodeIntersecting:(c,d,y=!0)=>{const m=ug(c)?c:a(c);if(!m)return!1;const _=Ko(m,d);return y&&_>0||_>=d.width*d.height||_>=m.width*m.height},updateNode:u,updateNodeData:(c,d,y={replace:!1})=>{u(c,v=>{const m=typeof d=="function"?d(v):d;return y.replace?{...v,data:m}:{...v,data:{...v.data,...m}}},y)},updateEdge:f,updateEdgeData:(c,d,y={replace:!1})=>{f(c,v=>{const m=typeof d=="function"?d(v):d;return y.replace?{...v,data:m}:{...v,data:{...v.data,...m}}},y)},getNodesBounds:c=>{const{nodeLookup:d,nodeOrigin:y}=t.getState();return Ek(c,{nodeLookup:d,nodeOrigin:y})},getHandleConnections:({type:c,id:d,nodeId:y})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${y}-${c}${d?`-${d}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:c,handleId:d,nodeId:y})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${y}${c?d?`-${c}-${d}`:`-${c}`:""}`))==null?void 0:v.values())??[])},fitView:async c=>{const d=t.getState().fitViewResolver??Bk();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:d}),n.nodeQueue.push(y=>[...y]),d.promise}}},[]);return B.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Og=e=>e.selected,SA=typeof window<"u"?window:void 0;function bA({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Pt(),{deleteElements:r}=ml(),i=Zo(e,{actInsideInputWithModifier:!1}),s=Zo(t,{target:SA});B.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(Og),edges:o.filter(Og)}),n.setState({nodesSelectionActive:!1})}},[i]),B.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function IA(e){const t=Pt();B.useEffect(()=>{const n=()=>{var i,s,o,l;if(!e.current||!(((s=(i=e.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=Hh(e.current);(r.height===0||r.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",zn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const uc={position:"absolute",width:"100%",height:"100%",top:0,left:0},EA=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function NA({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=gi.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:d,preventScrolling:y=!0,children:v,noWheelClassName:m,noPanClassName:_,onViewportChange:p,isControlledViewport:g,paneClickDistance:h,selectionOnDrag:w}){const S=Pt(),b=B.useRef(null),{userSelectionActive:N,lib:k,connectionInProgress:F}=mt(EA,Ht),$=Zo(d),R=B.useRef();IA(b);const L=B.useCallback(U=>{p==null||p({x:U[0],y:U[1],zoom:U[2]}),g||S.setState({transform:U})},[p,g]);return B.useEffect(()=>{if(b.current){R.current=yC({domNode:b.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:M=>S.setState({paneDragging:M}),onPanZoomStart:(M,A)=>{const{onViewportChangeStart:x,onMoveStart:I}=S.getState();I==null||I(M,A),x==null||x(A)},onPanZoom:(M,A)=>{const{onViewportChange:x,onMove:I}=S.getState();I==null||I(M,A),x==null||x(A)},onPanZoomEnd:(M,A)=>{const{onViewportChangeEnd:x,onMoveEnd:I}=S.getState();I==null||I(M,A),x==null||x(A)}});const{x:U,y:E,zoom:O}=R.current.getViewport();return S.setState({panZoom:R.current,transform:[U,E,O],domNode:b.current.closest(".react-flow")}),()=>{var M;(M=R.current)==null||M.destroy()}}},[]),B.useEffect(()=>{var U;(U=R.current)==null||U.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:$,preventScrolling:y,noPanClassName:_,userSelectionActive:N,noWheelClassName:m,lib:k,onTransformChange:L,connectionInProgress:F,selectionOnDrag:w,paneClickDistance:h})},[e,t,n,r,i,s,o,l,$,y,_,N,m,k,L,F,w,h]),C.jsx("div",{className:"react-flow__renderer",ref:b,style:uc,children:v})}const kA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function CA(){const{userSelectionActive:e,userSelectionRect:t}=mt(kA,Ht);return e&&t?C.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const uf=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},AA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function MA({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Xo.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:y,children:v}){const m=Pt(),{userSelectionActive:_,elementsSelectable:p,dragging:g,connectionInProgress:h}=mt(AA,Ht),w=p&&(e||_),S=B.useRef(null),b=B.useRef(),N=B.useRef(new Set),k=B.useRef(new Set),F=B.useRef(!1),$=x=>{if(F.current||h){F.current=!1;return}a==null||a(x),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},R=x=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){x.preventDefault();return}u==null||u(x)},L=f?x=>f(x):void 0,U=x=>{F.current&&(x.stopPropagation(),F.current=!1)},E=x=>{var Q,G;const{domNode:I}=m.getState();if(b.current=I==null?void 0:I.getBoundingClientRect(),!b.current)return;const D=x.target===S.current;if(!D&&!!x.target.closest(".nokey")||!e||!(s&&D||t)||x.button!==0||!x.isPrimary)return;(G=(Q=x.target)==null?void 0:Q.setPointerCapture)==null||G.call(Q,x.pointerId),F.current=!1;const{x:W,y:V}=hn(x.nativeEvent,b.current);m.setState({userSelectionRect:{width:0,height:0,startX:W,startY:V,x:W,y:V}}),D||(x.stopPropagation(),x.preventDefault())},O=x=>{const{userSelectionRect:I,transform:D,nodeLookup:z,edgeLookup:P,connectionLookup:W,triggerNodeChanges:V,triggerEdgeChanges:Q,defaultEdgeOptions:G,resetSelectedElements:X}=m.getState();if(!b.current||!I)return;const{x:H,y:Z}=hn(x.nativeEvent,b.current),{startX:ht,startY:ot}=I;if(!F.current){const _t=t?0:i;if(Math.hypot(H-ht,Z-ot)<=_t)return;X(),o==null||o(x)}F.current=!0;const q={startX:ht,startY:ot,x:H<ht?H:ht,y:Z<ot?Z:ot,width:Math.abs(H-ht),height:Math.abs(Z-ot)},J=N.current,wt=k.current;N.current=new Set(jh(z,q,D,n===Xo.Partial,!0).map(_t=>_t.id)),k.current=new Set;const Bt=(G==null?void 0:G.selectable)??!0;for(const _t of N.current){const re=W.get(_t);if(re)for(const{edgeId:Hn}of re.values()){const Jr=P.get(Hn);Jr&&(Jr.selectable??Bt)&&k.current.add(Hn)}}if(!cg(J,N.current)){const _t=qi(z,N.current,!0);V(_t)}if(!cg(wt,k.current)){const _t=qi(P,k.current);Q(_t)}m.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},M=x=>{var I,D;x.button===0&&((D=(I=x.target)==null?void 0:I.releasePointerCapture)==null||D.call(I,x.pointerId),!_&&x.target===S.current&&m.getState().userSelectionRect&&($==null||$(x)),m.setState({userSelectionActive:!1,userSelectionRect:null}),F.current&&(l==null||l(x),m.setState({nodesSelectionActive:N.current.size>0})))},A=r===!0||Array.isArray(r)&&r.includes(0);return C.jsxs("div",{className:Qt(["react-flow__pane",{draggable:A,dragging:g,selection:e}]),onClick:w?void 0:uf($,S),onContextMenu:uf(R,S),onWheel:uf(L,S),onPointerEnter:w?void 0:c,onPointerMove:w?O:d,onPointerUp:w?M:void 0,onPointerDownCapture:w?E:void 0,onClickCapture:w?U:void 0,onPointerLeave:y,ref:S,style:uc,children:[v,C.jsx(CA,{})]})}function Id({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",zn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function Gw({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=Pt(),[a,u]=B.useState(!1),f=B.useRef();return B.useEffect(()=>{f.current=eC({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{Id({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),B.useEffect(()=>{var c,d;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var y;(y=f.current)==null||y.destroy()}},[n,r,t,s,e,i]),a}const DA=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Zw(){const e=Pt();return B.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,d=DA(o),y=i?s[0]:5,v=i?s[1]:5,m=n.direction.x*y*n.factor,_=n.direction.y*v*n.factor;for(const[,p]of u){if(!d(p))continue;let g={x:p.internals.positionAbsolute.x+m,y:p.internals.positionAbsolute.y+_};i&&(g=pl(g,s));const{position:h,positionAbsolute:w}=fw({nodeId:p.id,nextPosition:g,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});p.position=h,p.internals.positionAbsolute=w,c.set(p.id,p)}a(c)},[])}const Qh=B.createContext(null),TA=Qh.Provider;Qh.Consumer;const Jw=()=>B.useContext(Qh),BA=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),FA=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:a,isValid:u}=o,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===bs.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:f&&u}};function OA({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...d},y){var O,M;const v=o||null,m=e==="target",_=Pt(),p=Jw(),{connectOnClick:g,noPanClassName:h,rfId:w}=mt(BA,Ht),{connectingFrom:S,connectingTo:b,clickConnecting:N,isPossibleEndHandle:k,connectionInProcess:F,clickConnectionInProcess:$,valid:R}=mt(FA(p,v,e),Ht);p||(M=(O=_.getState()).onError)==null||M.call(O,"010",zn.error010());const L=A=>{const{defaultEdgeOptions:x,onConnect:I,hasDefaultEdges:D}=_.getState(),z={...x,...A};if(D){const{edges:P,setEdges:W}=_.getState();W(bw(z,P))}I==null||I(z),l==null||l(z)},U=A=>{if(!p)return;const x=ww(A.nativeEvent);if(i&&(x&&A.button===0||!x)){const I=_.getState();bd.onPointerDown(A.nativeEvent,{handleDomNode:A.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:m,handleId:v,nodeId:p,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:L,isValidConnection:n||I.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}x?f==null||f(A):c==null||c(A)},E=A=>{const{onClickConnectStart:x,onClickConnectEnd:I,connectionClickStartHandle:D,connectionMode:z,isValidConnection:P,lib:W,rfId:V,nodeLookup:Q,connection:G}=_.getState();if(!p||!D&&!i)return;if(!D){x==null||x(A.nativeEvent,{nodeId:p,handleId:v,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:p,type:e,id:v}});return}const X=mw(A.target),H=n||P,{connection:Z,isValid:ht}=bd.isValid(A.nativeEvent,{handle:{nodeId:p,id:v,type:e},connectionMode:z,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:H,flowId:V,doc:X,lib:W,nodeLookup:Q});ht&&Z&&L(Z);const ot=structuredClone(G);delete ot.inProgress,ot.toPosition=ot.toHandle?ot.toHandle.position:null,I==null||I(A,ot),_.setState({connectionClickStartHandle:null})};return C.jsx("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${w}-${p}-${v}-${e}`,className:Qt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!m,target:m,connectable:r,connectablestart:i,connectableend:s,clickconnecting:N,connectingfrom:S,connectingto:b,valid:R,connectionindicator:r&&(!F||k)&&(F||$?s:i)}]),onMouseDown:U,onTouchStart:U,onClick:g?E:void 0,ref:y,...d,children:a})}const Xe=B.memo(Kw(OA));function LA({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return C.jsxs(C.Fragment,{children:[e==null?void 0:e.label,C.jsx(Xe,{type:"source",position:n,isConnectable:t})]})}function RA({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return C.jsxs(C.Fragment,{children:[C.jsx(Xe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,C.jsx(Xe,{type:"source",position:r,isConnectable:t})]})}function PA(){return null}function zA({data:e,isConnectable:t,targetPosition:n=K.Top}){return C.jsxs(C.Fragment,{children:[C.jsx(Xe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const lu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Lg={input:LA,default:RA,output:zA,group:PA};function $A(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const UA=e=>{const{width:t,height:n,x:r,y:i}=hl(e.nodeLookup,{filter:s=>!!s.selected});return{width:dn(t)?t:null,height:dn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function jA({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Pt(),{width:i,height:s,transformString:o,userSelectionActive:l}=mt(UA,Ht),a=Zw(),u=B.useRef(null);if(B.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),Gw({nodeRef:u}),l||!i||!s)return null;const f=e?d=>{const y=r.getState().nodes.filter(v=>v.selected);e(d,y)}:void 0,c=d=>{Object.prototype.hasOwnProperty.call(lu,d.key)&&(d.preventDefault(),a({direction:lu[d.key],factor:d.shiftKey?4:1}))};return C.jsx("div",{className:Qt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:C.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:i,height:s}})})}const Rg=typeof window<"u"?window:void 0,VA=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function qw({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:d,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:m,zoomActivationKeyCode:_,elementsSelectable:p,zoomOnScroll:g,zoomOnPinch:h,panOnScroll:w,panOnScrollSpeed:S,panOnScrollMode:b,zoomOnDoubleClick:N,panOnDrag:k,defaultViewport:F,translateExtent:$,minZoom:R,maxZoom:L,preventScrolling:U,onSelectionContextMenu:E,noWheelClassName:O,noPanClassName:M,disableKeyboardA11y:A,onViewportChange:x,isControlledViewport:I}){const{nodesSelectionActive:D,userSelectionActive:z}=mt(VA),P=Zo(u,{target:Rg}),W=Zo(m,{target:Rg}),V=W||k,Q=W||w,G=f&&V!==!0,X=P||z||G;return bA({deleteKeyCode:a,multiSelectionKeyCode:v}),C.jsx(NA,{onPaneContextMenu:s,elementsSelectable:p,zoomOnScroll:g,zoomOnPinch:h,panOnScroll:Q,panOnScrollSpeed:S,panOnScrollMode:b,zoomOnDoubleClick:N,panOnDrag:!P&&V,defaultViewport:F,translateExtent:$,minZoom:R,maxZoom:L,zoomActivationKeyCode:_,preventScrolling:U,noWheelClassName:O,noPanClassName:M,onViewportChange:x,isControlledViewport:I,paneClickDistance:l,selectionOnDrag:G,children:C.jsxs(MA,{onSelectionStart:d,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:V,isSelecting:!!X,selectionMode:c,selectionKeyPressed:P,paneClickDistance:l,selectionOnDrag:G,children:[e,D&&C.jsx(jA,{onSelectionContextMenu:E,noPanClassName:M,disableKeyboardA11y:A})]})})}qw.displayName="FlowRenderer";const HA=B.memo(qw),WA=e=>t=>e?jh(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function YA(e){return mt(B.useCallback(WA(e),[e]),Ht)}const XA=e=>e.updateNodeInternals;function KA(){const e=mt(XA),[t]=B.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),e(r)}));return B.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function QA({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Pt(),s=B.useRef(null),o=B.useRef(null),l=B.useRef(e.sourcePosition),a=B.useRef(e.targetPosition),u=B.useRef(t),f=n&&!!e.internals.handleBounds;return B.useEffect(()=>{s.current&&!e.hidden&&(!f||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[f,e.hidden]),B.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),B.useEffect(()=>{if(s.current){const c=u.current!==t,d=l.current!==e.sourcePosition,y=a.current!==e.targetPosition;(c||d||y)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function GA({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:d,noPanClassName:y,disableKeyboardA11y:v,rfId:m,nodeTypes:_,nodeClickDistance:p,onError:g}){const{node:h,internals:w,isParent:S}=mt(H=>{const Z=H.nodeLookup.get(e),ht=H.parentLookup.has(e);return{node:Z,internals:Z.internals,isParent:ht}},Ht);let b=h.type||"default",N=(_==null?void 0:_[b])||Lg[b];N===void 0&&(g==null||g("003",zn.error003(b)),b="default",N=(_==null?void 0:_.default)||Lg.default);const k=!!(h.draggable||l&&typeof h.draggable>"u"),F=!!(h.selectable||a&&typeof h.selectable>"u"),$=!!(h.connectable||u&&typeof h.connectable>"u"),R=!!(h.focusable||f&&typeof h.focusable>"u"),L=Pt(),U=yw(h),E=QA({node:h,nodeType:b,hasDimensions:U,resizeObserver:c}),O=Gw({nodeRef:E,disabled:h.hidden||!k,noDragClassName:d,handleSelector:h.dragHandle,nodeId:e,isSelectable:F,nodeClickDistance:p}),M=Zw();if(h.hidden)return null;const A=pr(h),x=$A(h),I=F||k||t||n||r||i,D=n?H=>n(H,{...w.userNode}):void 0,z=r?H=>r(H,{...w.userNode}):void 0,P=i?H=>i(H,{...w.userNode}):void 0,W=s?H=>s(H,{...w.userNode}):void 0,V=o?H=>o(H,{...w.userNode}):void 0,Q=H=>{const{selectNodesOnDrag:Z,nodeDragThreshold:ht}=L.getState();F&&(!Z||!k||ht>0)&&Id({id:e,store:L,nodeRef:E}),t&&t(H,{...w.userNode})},G=H=>{if(!(vw(H.nativeEvent)||v)){if(ow.includes(H.key)&&F){const Z=H.key==="Escape";Id({id:e,store:L,unselect:Z,nodeRef:E})}else if(k&&h.selected&&Object.prototype.hasOwnProperty.call(lu,H.key)){H.preventDefault();const{ariaLabelConfig:Z}=L.getState();L.setState({ariaLiveMessage:Z["node.a11yDescription.ariaLiveMessage"]({direction:H.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),M({direction:lu[H.key],factor:H.shiftKey?4:1})}}},X=()=>{var wt;if(v||!((wt=E.current)!=null&&wt.matches(":focus-visible")))return;const{transform:H,width:Z,height:ht,autoPanOnNodeFocus:ot,setCenter:q}=L.getState();if(!ot)return;jh(new Map([[e,h]]),{x:0,y:0,width:Z,height:ht},H,!0).length>0||q(h.position.x+A.width/2,h.position.y+A.height/2,{zoom:H[2]})};return C.jsx("div",{className:Qt(["react-flow__node",`react-flow__node-${b}`,{[y]:k},h.className,{selected:h.selected,selectable:F,parent:S,draggable:k,dragging:O}]),ref:E,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:U?"visible":"hidden",...h.style,...x},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:z,onMouseLeave:P,onContextMenu:W,onClick:Q,onDoubleClick:V,onKeyDown:R?G:void 0,tabIndex:R?0:void 0,onFocus:R?X:void 0,role:h.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${jw}-${m}`,"aria-label":h.ariaLabel,...h.domAttributes,children:C.jsx(TA,{value:e,children:C.jsx(N,{id:e,data:h.data,type:b,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:h.selected??!1,selectable:F,draggable:k,deletable:h.deletable??!0,isConnectable:$,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:O,dragHandle:h.dragHandle,zIndex:w.z,parentId:h.parentId,...A})})})}var ZA=B.memo(GA);const JA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function t1(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=mt(JA,Ht),o=YA(e.onlyRenderVisibleElements),l=KA();return C.jsx("div",{className:"react-flow__nodes",style:uc,children:o.map(a=>C.jsx(ZA,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},a))})}t1.displayName="NodeRenderer";const qA=B.memo(t1);function tM(e){return mt(B.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&Rk({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ht)}const eM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return C.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},nM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return C.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Pg={[Is.Arrow]:eM,[Is.ArrowClosed]:nM};function rM(e){const t=Pt();return B.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(Pg,e)?Pg[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",zn.error009(e)),null)},[e])}const iM=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const a=rM(t);return a?C.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:C.jsx(a,{color:n,strokeWidth:o})}):null},e1=({defaultColor:e,rfId:t})=>{const n=mt(s=>s.edges),r=mt(s=>s.defaultEdgeOptions),i=B.useMemo(()=>Hk(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?C.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:C.jsx("defs",{children:i.map(s=>C.jsx(iM,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};e1.displayName="MarkerDefinitions";var sM=B.memo(e1);function n1({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,d]=B.useState({x:1,y:0,width:0,height:0}),y=Qt(["react-flow__edge-textwrapper",u]),v=B.useRef(null);return B.useEffect(()=>{if(v.current){const m=v.current.getBBox();d({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?C.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:y,visibility:c.width?"visible":"hidden",...f,children:[i&&C.jsx("rect",{width:c.width+2*o[0],x:-o[0],y:-o[1],height:c.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),C.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:v,style:r,children:n}),a]}):null}n1.displayName="EdgeText";const oM=B.memo(n1);function cc({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return C.jsxs(C.Fragment,{children:[C.jsx("path",{...f,d:e,fill:"none",className:Qt(["react-flow__edge-path",f.className])}),u?C.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&dn(t)&&dn(n)?C.jsx(oM,{x:t,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function zg({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function r1({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:s=K.Top}){const[o,l]=zg({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=zg({pos:s,x1:r,y1:i,x2:e,y2:t}),[f,c,d,y]=_w({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${o},${l} ${a},${u} ${r},${i}`,f,c,d,y]}function i1(e){return B.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:y,style:v,markerEnd:m,markerStart:_,interactionWidth:p})=>{const[g,h,w]=r1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),S=e.isInternal?void 0:t;return C.jsx(cc,{id:S,path:g,labelX:h,labelY:w,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:y,style:v,markerEnd:m,markerStart:_,interactionWidth:p})})}const lM=i1({isInternal:!1}),s1=i1({isInternal:!0});lM.displayName="SimpleBezierEdge";s1.displayName="SimpleBezierEdgeInternal";function o1(e){return B.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,sourcePosition:y=K.Bottom,targetPosition:v=K.Top,markerEnd:m,markerStart:_,pathOptions:p,interactionWidth:g})=>{const[h,w,S]=_d({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:v,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),b=e.isInternal?void 0:t;return C.jsx(cc,{id:b,path:h,labelX:w,labelY:S,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:_,interactionWidth:g})})}const l1=o1({isInternal:!1}),a1=o1({isInternal:!0});l1.displayName="SmoothStepEdge";a1.displayName="SmoothStepEdgeInternal";function u1(e){return B.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return C.jsx(l1,{...n,id:r,pathOptions:B.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const aM=u1({isInternal:!1}),c1=u1({isInternal:!0});aM.displayName="StepEdge";c1.displayName="StepEdgeInternal";function f1(e){return B.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:y,markerStart:v,interactionWidth:m})=>{const[_,p,g]=Iw({sourceX:n,sourceY:r,targetX:i,targetY:s}),h=e.isInternal?void 0:t;return C.jsx(cc,{id:h,path:_,labelX:p,labelY:g,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:y,markerStart:v,interactionWidth:m})})}const uM=f1({isInternal:!1}),d1=f1({isInternal:!0});uM.displayName="StraightEdge";d1.displayName="StraightEdgeInternal";function h1(e){return B.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=K.Bottom,targetPosition:l=K.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:y,style:v,markerEnd:m,markerStart:_,pathOptions:p,interactionWidth:g})=>{const[h,w,S]=xw({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:p==null?void 0:p.curvature}),b=e.isInternal?void 0:t;return C.jsx(cc,{id:b,path:h,labelX:w,labelY:S,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:y,style:v,markerEnd:m,markerStart:_,interactionWidth:g})})}const cM=h1({isInternal:!1}),p1=h1({isInternal:!0});cM.displayName="BezierEdge";p1.displayName="BezierEdgeInternal";const $g={default:p1,straight:d1,step:c1,smoothstep:a1,simplebezier:s1},Ug={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},fM=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,dM=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,jg="react-flow__edgeupdater";function Vg({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return C.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Qt([jg,`${jg}-${l}`]),cx:fM(t,r,e),cy:dM(n,r,e),r,stroke:"transparent",fill:"transparent"})}function hM({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:d,setUpdateHover:y}){const v=Pt(),m=(w,S)=>{if(w.button!==0)return;const{autoPanOnConnect:b,domNode:N,isValidConnection:k,connectionMode:F,connectionRadius:$,lib:R,onConnectStart:L,onConnectEnd:U,cancelConnection:E,nodeLookup:O,rfId:M,panBy:A,updateConnection:x}=v.getState(),I=S.type==="target",D=(W,V)=>{d(!1),c==null||c(W,n,S.type,V)},z=W=>u==null?void 0:u(n,W),P=(W,V)=>{d(!0),f==null||f(w,n,S.type),L==null||L(W,V)};bd.onPointerDown(w.nativeEvent,{autoPanOnConnect:b,connectionMode:F,connectionRadius:$,domNode:N,handleId:S.id,nodeId:S.nodeId,nodeLookup:O,isTarget:I,edgeUpdaterType:S.type,lib:R,flowId:M,cancelConnection:E,panBy:A,isValidConnection:k,onConnect:z,onConnectStart:P,onConnectEnd:U,onReconnectEnd:D,updateConnection:x,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},_=w=>m(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=w=>m(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>y(!0),h=()=>y(!1);return C.jsxs(C.Fragment,{children:[(e===!0||e==="source")&&C.jsx(Vg,{position:l,centerX:r,centerY:i,radius:t,onMouseDown:_,onMouseEnter:g,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&C.jsx(Vg,{position:a,centerX:s,centerY:o,radius:t,onMouseDown:p,onMouseEnter:g,onMouseOut:h,type:"target"})]})}function pM({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:y,rfId:v,edgeTypes:m,noPanClassName:_,onError:p,disableKeyboardA11y:g}){let h=mt(q=>q.edgeLookup.get(e));const w=mt(q=>q.defaultEdgeOptions);h=w?{...w,...h}:h;let S=h.type||"default",b=(m==null?void 0:m[S])||$g[S];b===void 0&&(p==null||p("011",zn.error011(S)),S="default",b=(m==null?void 0:m.default)||$g.default);const N=!!(h.focusable||t&&typeof h.focusable>"u"),k=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),F=!!(h.selectable||r&&typeof h.selectable>"u"),$=B.useRef(null),[R,L]=B.useState(!1),[U,E]=B.useState(!1),O=Pt(),{zIndex:M,sourceX:A,sourceY:x,targetX:I,targetY:D,sourcePosition:z,targetPosition:P}=mt(B.useCallback(q=>{const J=q.nodeLookup.get(h.source),wt=q.nodeLookup.get(h.target);if(!J||!wt)return{zIndex:h.zIndex,...Ug};const Bt=Vk({id:e,sourceNode:J,targetNode:wt,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:q.connectionMode,onError:p});return{zIndex:Lk({selected:h.selected,zIndex:h.zIndex,sourceNode:J,targetNode:wt,elevateOnSelect:q.elevateEdgesOnSelect}),...Bt||Ug}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),Ht),W=B.useMemo(()=>h.markerStart?`url('#${xd(h.markerStart,v)}')`:void 0,[h.markerStart,v]),V=B.useMemo(()=>h.markerEnd?`url('#${xd(h.markerEnd,v)}')`:void 0,[h.markerEnd,v]);if(h.hidden||A===null||x===null||I===null||D===null)return null;const Q=q=>{var _t;const{addSelectedEdges:J,unselectNodesAndEdges:wt,multiSelectionActive:Bt}=O.getState();F&&(O.setState({nodesSelectionActive:!1}),h.selected&&Bt?(wt({nodes:[],edges:[h]}),(_t=$.current)==null||_t.blur()):J([e])),i&&i(q,h)},G=s?q=>{s(q,{...h})}:void 0,X=o?q=>{o(q,{...h})}:void 0,H=l?q=>{l(q,{...h})}:void 0,Z=a?q=>{a(q,{...h})}:void 0,ht=u?q=>{u(q,{...h})}:void 0,ot=q=>{var J;if(!g&&ow.includes(q.key)&&F){const{unselectNodesAndEdges:wt,addSelectedEdges:Bt}=O.getState();q.key==="Escape"?((J=$.current)==null||J.blur(),wt({edges:[h]})):Bt([e])}};return C.jsx("svg",{style:{zIndex:M},children:C.jsxs("g",{className:Qt(["react-flow__edge",`react-flow__edge-${S}`,h.className,_,{selected:h.selected,animated:h.animated,inactive:!F&&!i,updating:R,selectable:F}]),onClick:Q,onDoubleClick:G,onContextMenu:X,onMouseEnter:H,onMouseMove:Z,onMouseLeave:ht,onKeyDown:N?ot:void 0,tabIndex:N?0:void 0,role:h.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":N?`${Vw}-${v}`:void 0,ref:$,...h.domAttributes,children:[!U&&C.jsx(b,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:F,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:A,sourceY:x,targetX:I,targetY:D,sourcePosition:z,targetPosition:P,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:W,markerEnd:V,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),k&&C.jsx(hM,{edge:h,isReconnectable:k,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:y,sourceX:A,sourceY:x,targetX:I,targetY:D,sourcePosition:z,targetPosition:P,setUpdateHover:L,setReconnecting:E})]})})}var yM=B.memo(pM);const gM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function y1({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:d,onReconnectStart:y,onReconnectEnd:v,disableKeyboardA11y:m}){const{edgesFocusable:_,edgesReconnectable:p,elementsSelectable:g,onError:h}=mt(gM,Ht),w=tM(t);return C.jsxs("div",{className:"react-flow__edges",children:[C.jsx(sM,{defaultColor:e,rfId:n}),w.map(S=>C.jsx(yM,{id:S,edgesFocusable:_,edgesReconnectable:p,elementsSelectable:g,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:d,onReconnectStart:y,onReconnectEnd:v,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:m},S))]})}y1.displayName="EdgeRenderer";const mM=B.memo(y1),vM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wM({children:e}){const t=mt(vM);return C.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function _M(e){const t=ml(),n=B.useRef(!1);B.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function SM(e){const t=mt(xM),n=Pt();return B.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function bM(e){return e.connection.inProgress?{...e.connection,to:yl(e.connection.to,e.transform)}:{...e.connection}}function IM(e){return bM}function EM(e){const t=IM();return mt(t,Ht)}const NM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function kM({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:a}=mt(NM,Ht);return!(s&&i&&a)?null:C.jsx("svg",{style:e,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:C.jsx("g",{className:Qt(["react-flow__connection",uw(l)]),children:C.jsx(g1,{style:t,type:n,CustomComponent:r,isValid:l})})})}const g1=({style:e,type:t=kr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:d,pointer:y}=EM();if(!i)return;if(n)return C.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:uw(r),toNode:f,toHandle:c,pointer:y});let v="";const m={sourceX:s.x,sourceY:s.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case kr.Bezier:[v]=xw(m);break;case kr.SimpleBezier:[v]=r1(m);break;case kr.Step:[v]=_d({...m,borderRadius:0});break;case kr.SmoothStep:[v]=_d(m);break;default:[v]=Iw(m)}return C.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};g1.displayName="ConnectionLine";const CM={};function Hg(e=CM){B.useRef(e),Pt(),B.useEffect(()=>{},[e])}function AM(){Pt(),B.useRef(!1),B.useEffect(()=>{},[])}function m1({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:d,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:m,connectionLineComponent:_,connectionLineContainerStyle:p,selectionKeyCode:g,selectionOnDrag:h,selectionMode:w,multiSelectionKeyCode:S,panActivationKeyCode:b,zoomActivationKeyCode:N,deleteKeyCode:k,onlyRenderVisibleElements:F,elementsSelectable:$,defaultViewport:R,translateExtent:L,minZoom:U,maxZoom:E,preventScrolling:O,defaultMarkerColor:M,zoomOnScroll:A,zoomOnPinch:x,panOnScroll:I,panOnScrollSpeed:D,panOnScrollMode:z,zoomOnDoubleClick:P,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:Q,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneScroll:H,onPaneContextMenu:Z,paneClickDistance:ht,nodeClickDistance:ot,onEdgeContextMenu:q,onEdgeMouseEnter:J,onEdgeMouseMove:wt,onEdgeMouseLeave:Bt,reconnectRadius:_t,onReconnect:re,onReconnectStart:Hn,onReconnectEnd:Jr,noDragClassName:El,noWheelClassName:Nl,noPanClassName:js,disableKeyboardA11y:Vs,nodeExtent:Ec,rfId:kl,viewport:Ti,onViewportChange:Hs}){return Hg(e),Hg(t),AM(),_M(n),SM(Ti),C.jsx(HA,{onPaneClick:V,onPaneMouseEnter:Q,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:H,paneClickDistance:ht,deleteKeyCode:k,selectionKeyCode:g,selectionOnDrag:h,selectionMode:w,onSelectionStart:d,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:b,zoomActivationKeyCode:N,elementsSelectable:$,zoomOnScroll:A,zoomOnPinch:x,zoomOnDoubleClick:P,panOnScroll:I,panOnScrollSpeed:D,panOnScrollMode:z,panOnDrag:W,defaultViewport:R,translateExtent:L,minZoom:U,maxZoom:E,onSelectionContextMenu:c,preventScrolling:O,noDragClassName:El,noWheelClassName:Nl,noPanClassName:js,disableKeyboardA11y:Vs,onViewportChange:Hs,isControlledViewport:!!Ti,children:C.jsxs(wM,{children:[C.jsx(mM,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:re,onReconnectStart:Hn,onReconnectEnd:Jr,onlyRenderVisibleElements:F,onEdgeContextMenu:q,onEdgeMouseEnter:J,onEdgeMouseMove:wt,onEdgeMouseLeave:Bt,reconnectRadius:_t,defaultMarkerColor:M,noPanClassName:js,disableKeyboardA11y:Vs,rfId:kl}),C.jsx(kM,{style:m,type:v,component:_,containerStyle:p}),C.jsx("div",{className:"react-flow__edgelabel-renderer"}),C.jsx(qA,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:ot,onlyRenderVisibleElements:F,noPanClassName:js,noDragClassName:El,disableKeyboardA11y:Vs,nodeExtent:Ec,rfId:kl}),C.jsx("div",{className:"react-flow__viewport-portal"})]})})}m1.displayName="GraphView";const MM=B.memo(m1),Wg=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c}={})=>{const d=new Map,y=new Map,v=new Map,m=new Map,_=r??t??[],p=n??e??[],g=f??[0,0],h=c??Yo;kw(v,m,_);const w=Sd(p,d,y,{nodeOrigin:g,nodeExtent:h,elevateNodesOnSelect:!1});let S=[0,0,1];if(o&&i&&s){const b=hl(d,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:N,y:k,zoom:F}=Vh(b,i,s,a,u,(l==null?void 0:l.padding)??.1);S=[N,k,F]}return{rfId:"1",width:i??0,height:s??0,transform:S,nodes:p,nodesInitialized:w,nodeLookup:d,parentLookup:y,edges:_,edgeLookup:m,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:Yo,nodeExtent:h,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:bs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...aw},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Mk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:lw}},DM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c})=>QC((d,y)=>{async function v(){const{nodeLookup:m,panZoom:_,fitViewOptions:p,fitViewResolver:g,width:h,height:w,minZoom:S,maxZoom:b}=y();_&&(await Ck({nodes:m,width:h,height:w,panZoom:_,minZoom:S,maxZoom:b},p),g==null||g.resolve(!0),d({fitViewResolver:null}))}return{...Wg({nodes:e,edges:t,width:i,height:s,fitView:o,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:m=>{const{nodeLookup:_,parentLookup:p,nodeOrigin:g,elevateNodesOnSelect:h,fitViewQueued:w}=y(),S=Sd(m,_,p,{nodeOrigin:g,nodeExtent:c,elevateNodesOnSelect:h,checkEquality:!0});w&&S?(v(),d({nodes:m,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:m,nodesInitialized:S})},setEdges:m=>{const{connectionLookup:_,edgeLookup:p}=y();kw(_,p,m),d({edges:m})},setDefaultNodesAndEdges:(m,_)=>{if(m){const{setNodes:p}=y();p(m),d({hasDefaultNodes:!0})}if(_){const{setEdges:p}=y();p(_),d({hasDefaultEdges:!0})}},updateNodeInternals:m=>{const{triggerNodeChanges:_,nodeLookup:p,parentLookup:g,domNode:h,nodeOrigin:w,nodeExtent:S,debug:b,fitViewQueued:N}=y(),{changes:k,updatedInternals:F}=Zk(m,p,g,h,w,S);F&&(Xk(p,g,{nodeOrigin:w,nodeExtent:S}),N?(v(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(k==null?void 0:k.length)>0&&(b&&console.log("React Flow: trigger node changes",k),_==null||_(k)))},updateNodePositions:(m,_=!1)=>{const p=[],g=[],{nodeLookup:h,triggerNodeChanges:w}=y();for(const[S,b]of m){const N=h.get(S),k=!!(N!=null&&N.expandParent&&(N!=null&&N.parentId)&&(b!=null&&b.position)),F={id:S,type:"position",position:k?{x:Math.max(0,b.position.x),y:Math.max(0,b.position.y)}:b.position,dragging:_};k&&N.parentId&&p.push({id:S,parentId:N.parentId,rect:{...b.internals.positionAbsolute,width:b.measured.width??0,height:b.measured.height??0}}),g.push(F)}if(p.length>0){const{parentLookup:S,nodeOrigin:b}=y(),N=Kh(p,h,S,b);g.push(...N)}w(g)},triggerNodeChanges:m=>{const{onNodesChange:_,setNodes:p,nodes:g,hasDefaultNodes:h,debug:w}=y();if(m!=null&&m.length){if(h){const S=Yw(m,g);p(S)}w&&console.log("React Flow: trigger node changes",m),_==null||_(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:_,setEdges:p,edges:g,hasDefaultEdges:h,debug:w}=y();if(m!=null&&m.length){if(h){const S=Xw(m,g);p(S)}w&&console.log("React Flow: trigger edge changes",m),_==null||_(m)}},addSelectedNodes:m=>{const{multiSelectionActive:_,edgeLookup:p,nodeLookup:g,triggerNodeChanges:h,triggerEdgeChanges:w}=y();if(_){const S=m.map(b=>ni(b,!0));h(S);return}h(qi(g,new Set([...m]),!0)),w(qi(p))},addSelectedEdges:m=>{const{multiSelectionActive:_,edgeLookup:p,nodeLookup:g,triggerNodeChanges:h,triggerEdgeChanges:w}=y();if(_){const S=m.map(b=>ni(b,!0));w(S);return}w(qi(p,new Set([...m]))),h(qi(g,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:_}={})=>{const{edges:p,nodes:g,nodeLookup:h,triggerNodeChanges:w,triggerEdgeChanges:S}=y(),b=m||g,N=_||p,k=b.map($=>{const R=h.get($.id);return R&&(R.selected=!1),ni($.id,!1)}),F=N.map($=>ni($.id,!1));w(k),S(F)},setMinZoom:m=>{const{panZoom:_,maxZoom:p}=y();_==null||_.setScaleExtent([m,p]),d({minZoom:m})},setMaxZoom:m=>{const{panZoom:_,minZoom:p}=y();_==null||_.setScaleExtent([p,m]),d({maxZoom:m})},setTranslateExtent:m=>{var _;(_=y().panZoom)==null||_.setTranslateExtent(m),d({translateExtent:m})},resetSelectedElements:()=>{const{edges:m,nodes:_,triggerNodeChanges:p,triggerEdgeChanges:g,elementsSelectable:h}=y();if(!h)return;const w=_.reduce((b,N)=>N.selected?[...b,ni(N.id,!1)]:b,[]),S=m.reduce((b,N)=>N.selected?[...b,ni(N.id,!1)]:b,[]);p(w),g(S)},setNodeExtent:m=>{const{nodes:_,nodeLookup:p,parentLookup:g,nodeOrigin:h,elevateNodesOnSelect:w,nodeExtent:S}=y();m[0][0]===S[0][0]&&m[0][1]===S[0][1]&&m[1][0]===S[1][0]&&m[1][1]===S[1][1]||(Sd(_,p,g,{nodeOrigin:h,nodeExtent:m,elevateNodesOnSelect:w,checkEquality:!1}),d({nodeExtent:m}))},panBy:m=>{const{transform:_,width:p,height:g,panZoom:h,translateExtent:w}=y();return Jk({delta:m,panZoom:h,transform:_,translateExtent:w,width:p,height:g})},setCenter:async(m,_,p)=>{const{width:g,height:h,maxZoom:w,panZoom:S}=y();if(!S)return Promise.resolve(!1);const b=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:w;return await S.setViewport({x:g/2-m*b,y:h/2-_*b,zoom:b},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...aw}})},updateConnection:m=>{d({connection:m})},reset:()=>d({...Wg()})}},Object.is);function v1({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,children:d}){const[y]=B.useState(()=>DM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:u,minZoom:o,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c}));return C.jsx(GC,{value:y,children:C.jsx(wA,{children:d})})}function TM({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:d}){return B.useContext(ac)?C.jsx(C.Fragment,{children:e}):C.jsx(v1,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:d,children:e})}const BM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function FM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:y,onConnectStart:v,onConnectEnd:m,onClickConnectStart:_,onClickConnectEnd:p,onNodeMouseEnter:g,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:b,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:F,onNodesDelete:$,onEdgesDelete:R,onDelete:L,onSelectionChange:U,onSelectionDragStart:E,onSelectionDrag:O,onSelectionDragStop:M,onSelectionContextMenu:A,onSelectionStart:x,onSelectionEnd:I,onBeforeDelete:D,connectionMode:z,connectionLineType:P=kr.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:Q,deleteKeyCode:G="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:H=!1,selectionMode:Z=Xo.Full,panActivationKeyCode:ht="Space",multiSelectionKeyCode:ot=Qo()?"Meta":"Control",zoomActivationKeyCode:q=Qo()?"Meta":"Control",snapToGrid:J,snapGrid:wt,onlyRenderVisibleElements:Bt=!1,selectNodesOnDrag:_t,nodesDraggable:re,autoPanOnNodeFocus:Hn,nodesConnectable:Jr,nodesFocusable:El,nodeOrigin:Nl=Hw,edgesFocusable:js,edgesReconnectable:Vs,elementsSelectable:Ec=!0,defaultViewport:kl=uA,minZoom:Ti=.5,maxZoom:Hs=2,translateExtent:Cp=Yo,preventScrolling:gx=!0,nodeExtent:Nc,defaultMarkerColor:mx="#b1b1b7",zoomOnScroll:vx=!0,zoomOnPinch:wx=!0,panOnScroll:_x=!1,panOnScrollSpeed:xx=.5,panOnScrollMode:Sx=gi.Free,zoomOnDoubleClick:bx=!0,panOnDrag:Ix=!0,onPaneClick:Ex,onPaneMouseEnter:Nx,onPaneMouseMove:kx,onPaneMouseLeave:Cx,onPaneScroll:Ax,onPaneContextMenu:Mx,paneClickDistance:Dx=1,nodeClickDistance:Tx=0,children:Bx,onReconnect:Fx,onReconnectStart:Ox,onReconnectEnd:Lx,onEdgeContextMenu:Rx,onEdgeDoubleClick:Px,onEdgeMouseEnter:zx,onEdgeMouseMove:$x,onEdgeMouseLeave:Ux,reconnectRadius:jx=10,onNodesChange:Vx,onEdgesChange:Hx,noDragClassName:Wx="nodrag",noWheelClassName:Yx="nowheel",noPanClassName:Ap="nopan",fitView:Mp,fitViewOptions:Dp,connectOnClick:Xx,attributionPosition:Kx,proOptions:Qx,defaultEdgeOptions:Gx,elevateNodesOnSelect:Zx,elevateEdgesOnSelect:Jx,disableKeyboardA11y:Tp=!1,autoPanOnConnect:qx,autoPanOnNodeDrag:tS,autoPanSpeed:eS,connectionRadius:nS,isValidConnection:rS,onError:iS,style:sS,id:Bp,nodeDragThreshold:oS,connectionDragThreshold:lS,viewport:aS,onViewportChange:uS,width:cS,height:fS,colorMode:dS="light",debug:hS,onScroll:Cl,ariaLabelConfig:pS,...yS},gS){const kc=Bp||"1",mS=hA(dS),vS=B.useCallback(Fp=>{Fp.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Cl==null||Cl(Fp)},[Cl]);return C.jsx("div",{"data-testid":"rf__wrapper",...yS,onScroll:vS,style:{...sS,...BM},ref:gS,className:Qt(["react-flow",i,mS]),id:Bp,role:"application",children:C.jsxs(TM,{nodes:e,edges:t,width:cS,height:fS,fitView:Mp,fitViewOptions:Dp,minZoom:Ti,maxZoom:Hs,nodeOrigin:Nl,nodeExtent:Nc,children:[C.jsx(MM,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:b,nodeTypes:s,edgeTypes:o,connectionLineType:P,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:Q,selectionKeyCode:X,selectionOnDrag:H,selectionMode:Z,deleteKeyCode:G,multiSelectionKeyCode:ot,panActivationKeyCode:ht,zoomActivationKeyCode:q,onlyRenderVisibleElements:Bt,defaultViewport:kl,translateExtent:Cp,minZoom:Ti,maxZoom:Hs,preventScrolling:gx,zoomOnScroll:vx,zoomOnPinch:wx,zoomOnDoubleClick:bx,panOnScroll:_x,panOnScrollSpeed:xx,panOnScrollMode:Sx,panOnDrag:Ix,onPaneClick:Ex,onPaneMouseEnter:Nx,onPaneMouseMove:kx,onPaneMouseLeave:Cx,onPaneScroll:Ax,onPaneContextMenu:Mx,paneClickDistance:Dx,nodeClickDistance:Tx,onSelectionContextMenu:A,onSelectionStart:x,onSelectionEnd:I,onReconnect:Fx,onReconnectStart:Ox,onReconnectEnd:Lx,onEdgeContextMenu:Rx,onEdgeDoubleClick:Px,onEdgeMouseEnter:zx,onEdgeMouseMove:$x,onEdgeMouseLeave:Ux,reconnectRadius:jx,defaultMarkerColor:mx,noDragClassName:Wx,noWheelClassName:Yx,noPanClassName:Ap,rfId:kc,disableKeyboardA11y:Tp,nodeExtent:Nc,viewport:aS,onViewportChange:uS}),C.jsx(dA,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:v,onConnectEnd:m,onClickConnectStart:_,onClickConnectEnd:p,nodesDraggable:re,autoPanOnNodeFocus:Hn,nodesConnectable:Jr,nodesFocusable:El,edgesFocusable:js,edgesReconnectable:Vs,elementsSelectable:Ec,elevateNodesOnSelect:Zx,elevateEdgesOnSelect:Jx,minZoom:Ti,maxZoom:Hs,nodeExtent:Nc,onNodesChange:Vx,onEdgesChange:Hx,snapToGrid:J,snapGrid:wt,connectionMode:z,translateExtent:Cp,connectOnClick:Xx,defaultEdgeOptions:Gx,fitView:Mp,fitViewOptions:Dp,onNodesDelete:$,onEdgesDelete:R,onDelete:L,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:F,onSelectionDrag:O,onSelectionDragStart:E,onSelectionDragStop:M,onMove:f,onMoveStart:c,onMoveEnd:d,noPanClassName:Ap,nodeOrigin:Nl,rfId:kc,autoPanOnConnect:qx,autoPanOnNodeDrag:tS,autoPanSpeed:eS,onError:iS,connectionRadius:nS,isValidConnection:rS,selectNodesOnDrag:_t,nodeDragThreshold:oS,connectionDragThreshold:lS,onBeforeDelete:D,debug:hS,ariaLabelConfig:pS}),C.jsx(aA,{onSelectionChange:U}),Bx,C.jsx(rA,{proOptions:Qx,position:Kx}),C.jsx(nA,{rfId:kc,disableKeyboardA11y:Tp})]})})}var OM=Kw(FM);function LM(e){const[t,n]=B.useState(e),r=B.useCallback(i=>n(s=>Yw(i,s)),[]);return[t,n,r]}function RM(e){const[t,n]=B.useState(e),r=B.useCallback(i=>n(s=>Xw(i,s)),[]);return[t,n,r]}function PM({dimensions:e,lineWidth:t,variant:n,className:r}){return C.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Qt(["react-flow__background-pattern",n,r])})}function zM({radius:e,className:t}){return C.jsx("circle",{cx:e,cy:e,r:e,className:Qt(["react-flow__background-pattern","dots",t])})}var ir;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ir||(ir={}));const $M={[ir.Dots]:1,[ir.Lines]:1,[ir.Cross]:6},UM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function w1({id:e,variant:t=ir.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:a,className:u,patternClassName:f}){const c=B.useRef(null),{transform:d,patternId:y}=mt(UM,Ht),v=r||$M[t],m=t===ir.Dots,_=t===ir.Cross,p=Array.isArray(n)?n:[n,n],g=[p[0]*d[2]||1,p[1]*d[2]||1],h=v*d[2],w=Array.isArray(s)?s:[s,s],S=_?[h,h]:g,b=[w[0]*d[2]||1+S[0]/2,w[1]*d[2]||1+S[1]/2],N=`${y}${e||""}`;return C.jsxs("svg",{className:Qt(["react-flow__background",u]),style:{...a,...uc,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:c,"data-testid":"rf__background",children:[C.jsx("pattern",{id:N,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`,children:m?C.jsx(zM,{radius:h/2,className:f}):C.jsx(PM,{dimensions:S,lineWidth:i,variant:t,className:f})}),C.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}w1.displayName="Background";const jM=B.memo(w1);function VM(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:C.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function HM(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:C.jsx("path",{d:"M0 0h32v4.2H0z"})})}function WM(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:C.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function YM(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function XM(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ta({children:e,className:t,...n}){return C.jsx("button",{type:"button",className:Qt(["react-flow__controls-button",t]),...n,children:e})}const KM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function _1({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:d="vertical","aria-label":y}){const v=Pt(),{isInteractive:m,minZoomReached:_,maxZoomReached:p,ariaLabelConfig:g}=mt(KM,Ht),{zoomIn:h,zoomOut:w,fitView:S}=ml(),b=()=>{h(),s==null||s()},N=()=>{w(),o==null||o()},k=()=>{S(i),l==null||l()},F=()=>{v.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),a==null||a(!m)},$=d==="horizontal"?"horizontal":"vertical";return C.jsxs(gl,{className:Qt(["react-flow__controls",$,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":y??g["controls.ariaLabel"],children:[t&&C.jsxs(C.Fragment,{children:[C.jsx(ta,{onClick:b,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:p,children:C.jsx(VM,{})}),C.jsx(ta,{onClick:N,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:_,children:C.jsx(HM,{})})]}),n&&C.jsx(ta,{className:"react-flow__controls-fitview",onClick:k,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:C.jsx(WM,{})}),r&&C.jsx(ta,{className:"react-flow__controls-interactive",onClick:F,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:m?C.jsx(XM,{}):C.jsx(YM,{})}),f]})}_1.displayName="Controls";const QM=B.memo(_1);function GM({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:d,onClick:y}){const{background:v,backgroundColor:m}=s||{},_=o||v||m;return C.jsx("rect",{className:Qt(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:_,stroke:l,strokeWidth:a},shapeRendering:c,onClick:y?p=>y(p,e):void 0})}const ZM=B.memo(GM),JM=e=>e.nodes.map(t=>t.id),cf=e=>e instanceof Function?e:()=>e;function qM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=ZM,onClick:o}){const l=mt(JM,Ht),a=cf(t),u=cf(e),f=cf(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return C.jsx(C.Fragment,{children:l.map(d=>C.jsx(e3,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:c},d))})}function t3({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:d,height:y}=mt(v=>{const{internals:m}=v.nodeLookup.get(e),_=m.userNode,{x:p,y:g}=m.positionAbsolute,{width:h,height:w}=pr(_);return{node:_,x:p,y:g,width:h,height:w}},Ht);return!u||u.hidden||!yw(u)?null:C.jsx(l,{x:f,y:c,width:d,height:y,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:s,shapeRendering:o,onClick:a,id:u.id})}const e3=B.memo(t3);var n3=B.memo(qM);const r3=200,i3=150,s3=e=>!e.hidden,o3=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?pw(hl(e.nodeLookup,{filter:s3}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},l3="react-flow__minimap-desc";function x1({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:d="bottom-right",onClick:y,onNodeClick:v,pannable:m=!1,zoomable:_=!1,ariaLabel:p,inversePan:g,zoomStep:h=1,offsetScale:w=5}){const S=Pt(),b=B.useRef(null),{boundingRect:N,viewBB:k,rfId:F,panZoom:$,translateExtent:R,flowWidth:L,flowHeight:U,ariaLabelConfig:E}=mt(o3,Ht),O=(e==null?void 0:e.width)??r3,M=(e==null?void 0:e.height)??i3,A=N.width/O,x=N.height/M,I=Math.max(A,x),D=I*O,z=I*M,P=w*I,W=N.x-(D-N.width)/2-P,V=N.y-(z-N.height)/2-P,Q=D+P*2,G=z+P*2,X=`${l3}-${F}`,H=B.useRef(0),Z=B.useRef();H.current=I,B.useEffect(()=>{if(b.current&&$)return Z.current=lC({domNode:b.current,panZoom:$,getTransform:()=>S.getState().transform,getViewScale:()=>H.current}),()=>{var J;(J=Z.current)==null||J.destroy()}},[$]),B.useEffect(()=>{var J;(J=Z.current)==null||J.update({translateExtent:R,width:L,height:U,inversePan:g,pannable:m,zoomStep:h,zoomable:_})},[m,_,g,h,R,L,U]);const ht=y?J=>{var _t;const[wt,Bt]=((_t=Z.current)==null?void 0:_t.pointer(J))||[0,0];y(J,{x:wt,y:Bt})}:void 0,ot=v?B.useCallback((J,wt)=>{const Bt=S.getState().nodeLookup.get(wt).internals.userNode;v(J,Bt)},[]):void 0,q=p??E["minimap.ariaLabel"];return C.jsx(gl,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Qt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:C.jsxs("svg",{width:O,height:M,viewBox:`${W} ${V} ${Q} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":X,ref:b,onClick:ht,children:[q&&C.jsx("title",{id:X,children:q}),C.jsx(n3,{onClick:ot,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),C.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-P},${V-P}h${Q+P*2}v${G+P*2}h${-Q-P*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}x1.displayName="MiniMap";B.memo(x1);const a3=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,u3={[ki.Line]:"right",[ki.Handle]:"bottom-right"};function c3({nodeId:e,position:t,variant:n=ki.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:d,autoScale:y=!0,shouldResize:v,onResizeStart:m,onResize:_,onResizeEnd:p}){const g=Jw(),h=typeof e=="string"?e:g,w=Pt(),S=B.useRef(null),b=n===ki.Handle,N=mt(B.useCallback(a3(b&&y),[b,y]),Ht),k=B.useRef(null),F=t??u3[n];B.useEffect(()=>{if(!(!S.current||!h))return k.current||(k.current=bC({domNode:S.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:R,transform:L,snapGrid:U,snapToGrid:E,nodeOrigin:O,domNode:M}=w.getState();return{nodeLookup:R,transform:L,snapGrid:U,snapToGrid:E,nodeOrigin:O,paneDomNode:M}},onChange:(R,L)=>{const{triggerNodeChanges:U,nodeLookup:E,parentLookup:O,nodeOrigin:M}=w.getState(),A=[],x={x:R.x,y:R.y},I=E.get(h);if(I&&I.expandParent&&I.parentId){const D=I.origin??M,z=R.width??I.measured.width??0,P=R.height??I.measured.height??0,W={id:I.id,parentId:I.parentId,rect:{width:z,height:P,...gw({x:R.x??I.position.x,y:R.y??I.position.y},{width:z,height:P},I.parentId,E,D)}},V=Kh([W],E,O,M);A.push(...V),x.x=R.x?Math.max(D[0]*z,R.x):void 0,x.y=R.y?Math.max(D[1]*P,R.y):void 0}if(x.x!==void 0&&x.y!==void 0){const D={id:h,type:"position",position:{...x}};A.push(D)}if(R.width!==void 0&&R.height!==void 0){const z={id:h,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};A.push(z)}for(const D of L){const z={...D,type:"position"};A.push(z)}U(A)},onEnd:({width:R,height:L})=>{const U={id:h,type:"dimensions",resizing:!1,dimensions:{width:R,height:L}};w.getState().triggerNodeChanges([U])}})),k.current.update({controlPosition:F,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:d,onResizeStart:m,onResize:_,onResizeEnd:p,shouldResize:v}),()=>{var R;(R=k.current)==null||R.destroy()}},[F,l,a,u,f,c,m,_,p,v]);const $=F.split("-");return C.jsx("div",{className:Qt(["react-flow__resize-control","nodrag",...$,n,r]),ref:S,style:{...i,scale:N,...o&&{[b?"backgroundColor":"borderColor"]:o}},children:s})}const Yg=B.memo(c3);function f3({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:i,lineStyle:s,color:o,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,autoScale:d=!0,shouldResize:y,onResizeStart:v,onResize:m,onResizeEnd:_}){return t?C.jsxs(C.Fragment,{children:[mC.map(p=>C.jsx(Yg,{className:i,style:s,nodeId:e,position:p,variant:ki.Line,color:o,minWidth:l,minHeight:a,maxWidth:u,maxHeight:f,onResizeStart:v,keepAspectRatio:c,autoScale:d,shouldResize:y,onResize:m,onResizeEnd:_},p)),gC.map(p=>C.jsx(Yg,{className:n,style:r,nodeId:e,position:p,color:o,minWidth:l,minHeight:a,maxWidth:u,maxHeight:f,onResizeStart:v,keepAspectRatio:c,autoScale:d,shouldResize:y,onResize:m,onResizeEnd:_},p))]}):null}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Xg=e=>{const t=h3(e);return t.charAt(0).toUpperCase()+t.slice(1)},S1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),p3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},a)=>B.createElement("svg",{ref:a,...y3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:S1("lucide",i),...!s&&!p3(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>B.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=(e,t)=>{const n=B.forwardRef(({className:r,...i},s)=>B.createElement(g3,{ref:s,iconNode:t,className:S1(`lucide-${d3(Xg(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Xg(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],v3=zs("arrow-left-right",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_3=zs("arrow-left",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],S3=zs("arrow-right",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M5 12h14",key:"1ays0h"}]],I3=zs("minus",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],N3=zs("moon",E3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C3=zs("sun",k3);var b1={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=typeof Symbol=="function"&&Symbol.for,Gh=ne?Symbol.for("react.element"):60103,Zh=ne?Symbol.for("react.portal"):60106,fc=ne?Symbol.for("react.fragment"):60107,dc=ne?Symbol.for("react.strict_mode"):60108,hc=ne?Symbol.for("react.profiler"):60114,pc=ne?Symbol.for("react.provider"):60109,yc=ne?Symbol.for("react.context"):60110,Jh=ne?Symbol.for("react.async_mode"):60111,gc=ne?Symbol.for("react.concurrent_mode"):60111,mc=ne?Symbol.for("react.forward_ref"):60112,vc=ne?Symbol.for("react.suspense"):60113,A3=ne?Symbol.for("react.suspense_list"):60120,wc=ne?Symbol.for("react.memo"):60115,_c=ne?Symbol.for("react.lazy"):60116,M3=ne?Symbol.for("react.block"):60121,D3=ne?Symbol.for("react.fundamental"):60117,T3=ne?Symbol.for("react.responder"):60118,B3=ne?Symbol.for("react.scope"):60119;function We(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gh:switch(e=e.type,e){case Jh:case gc:case fc:case hc:case dc:case vc:return e;default:switch(e=e&&e.$$typeof,e){case yc:case mc:case _c:case wc:case pc:return e;default:return t}}case Zh:return t}}}function I1(e){return We(e)===gc}Ct.AsyncMode=Jh;Ct.ConcurrentMode=gc;Ct.ContextConsumer=yc;Ct.ContextProvider=pc;Ct.Element=Gh;Ct.ForwardRef=mc;Ct.Fragment=fc;Ct.Lazy=_c;Ct.Memo=wc;Ct.Portal=Zh;Ct.Profiler=hc;Ct.StrictMode=dc;Ct.Suspense=vc;Ct.isAsyncMode=function(e){return I1(e)||We(e)===Jh};Ct.isConcurrentMode=I1;Ct.isContextConsumer=function(e){return We(e)===yc};Ct.isContextProvider=function(e){return We(e)===pc};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gh};Ct.isForwardRef=function(e){return We(e)===mc};Ct.isFragment=function(e){return We(e)===fc};Ct.isLazy=function(e){return We(e)===_c};Ct.isMemo=function(e){return We(e)===wc};Ct.isPortal=function(e){return We(e)===Zh};Ct.isProfiler=function(e){return We(e)===hc};Ct.isStrictMode=function(e){return We(e)===dc};Ct.isSuspense=function(e){return We(e)===vc};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fc||e===gc||e===hc||e===dc||e===vc||e===A3||typeof e=="object"&&e!==null&&(e.$$typeof===_c||e.$$typeof===wc||e.$$typeof===pc||e.$$typeof===yc||e.$$typeof===mc||e.$$typeof===D3||e.$$typeof===T3||e.$$typeof===B3||e.$$typeof===M3)};Ct.typeOf=We;b1.exports=Ct;var F3=b1.exports,E1=F3,O3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N1={};N1[E1.ForwardRef]=O3;N1[E1.Memo]=L3;function tt(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{u(r.next(f))}catch(c){o(c)}}function a(f){try{u(r.throw(f))}catch(c){o(c)}}function u(f){f.done?s(f.value):i(f.value).then(l,a)}u((r=r.apply(e,t||[])).next())})}function Kg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(e){return this instanceof ft?(this.v=e,this):new ft(e)}function Fn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(v){return Promise.resolve(v).then(y,c)}}function l(y,v){r[y]&&(i[y]=function(m){return new Promise(function(_,p){s.push([y,m,_,p])>1||a(y,m)})},v&&(i[y]=v(i[y])))}function a(y,v){try{u(r[y](v))}catch(m){d(s[0][3],m)}}function u(y){y.value instanceof ft?Promise.resolve(y.value.v).then(f,c):d(s[0][2],y)}function f(y){a("next",y)}function c(y){a("throw",y)}function d(y,v){y(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function xa(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:ft(e[i](o)),done:!1}:s?s(o):o}:s}}function mi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Kg=="function"?Kg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}const R3=new TextDecoder("utf-8"),Ed=e=>R3.decode(e),P3=new TextEncoder,qh=e=>P3.encode(e),[MB,z3]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[vl]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[wl]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),$3=e=>typeof e=="number",k1=e=>typeof e=="boolean",Zt=e=>typeof e=="function",Ae=e=>e!=null&&Object(e)===e,$r=e=>Ae(e)&&Zt(e.then),_l=e=>Ae(e)&&Zt(e[Symbol.iterator]),$s=e=>Ae(e)&&Zt(e[Symbol.asyncIterator]),Nd=e=>Ae(e)&&Ae(e.schema),C1=e=>Ae(e)&&"done"in e&&"value"in e,A1=e=>Ae(e)&&Zt(e.stat)&&$3(e.fd),M1=e=>Ae(e)&&tp(e.body),xc=e=>"_getDOMStream"in e&&"_getNodeStream"in e,U3=e=>Ae(e)&&Zt(e.abort)&&Zt(e.getWriter)&&!xc(e),tp=e=>Ae(e)&&Zt(e.cancel)&&Zt(e.getReader)&&!xc(e),j3=e=>Ae(e)&&Zt(e.end)&&Zt(e.write)&&k1(e.writable)&&!xc(e),D1=e=>Ae(e)&&Zt(e.read)&&Zt(e.pipe)&&k1(e.readable)&&!xc(e),V3=e=>Ae(e)&&Zt(e.clear)&&Zt(e.bytes)&&Zt(e.position)&&Zt(e.setPosition)&&Zt(e.capacity)&&Zt(e.getBufferIdentifier)&&Zt(e.createLong),ep=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function H3(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,l,a=0,u=0,f=e.length;++a<f;){if(o=t[u],l=e[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset){l&&(t[++u]=l);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=l,n+i<r||r+s<n){l&&(t[++u]=l);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function Qg(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function $n(e,t){const n=H3(e),r=n.reduce((f,c)=>f+c.byteLength,0);let i,s,o,l=0,a=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const f=n.length;++a<f;){if(i=n[a],s=i.subarray(0,Math.min(i.length,u-l)),u<=l+s.length){s.length<i.length?n[a]=i.subarray(s.length):s.length===i.length&&a++,o?Qg(o,s,l):o=s;break}Qg(o||(o=new Uint8Array(u)),s,l),l+=s.length}return[o||new Uint8Array(0),n.slice(a),r-(o?o.byteLength:0)]}function At(e,t){let n=C1(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=qh(n)),n instanceof ArrayBuffer?new e(n):n instanceof ep?new e(n):V3(n)?At(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const eo=e=>At(Int32Array,e),xt=e=>At(Uint8Array,e),kd=e=>(e.next(),e);function*W3(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ep?n(t):_l(t)?t:n(t);return yield*kd(function*(i){let s=null;do s=i.next(yield At(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const Y3=e=>W3(Uint8Array,e);function T1(e,t){return Fn(this,arguments,function*(){if($r(t))return yield ft(yield ft(yield*xa(mi(T1(e,yield ft(t))))));const r=function(o){return Fn(this,arguments,function*(){yield yield ft(yield ft(o))})},i=function(o){return Fn(this,arguments,function*(){yield ft(yield*xa(mi(kd(function*(l){let a=null;do a=l.next(yield a==null?void 0:a.value);while(!a.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ep?r(t):_l(t)?i(t):$s(t)?t:r(t);return yield ft(yield*xa(mi(kd(function(o){return Fn(this,arguments,function*(){let l=null;do l=yield ft(o.next(yield yield ft(At(e,l))));while(!l.done)})}(s[Symbol.asyncIterator]()))))),yield ft(new e)})}const X3=e=>T1(Uint8Array,e);function np(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function K3(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Ke={fromIterable(e){return ea(Q3(e))},fromAsyncIterable(e){return ea(G3(e))},fromDOMStream(e){return ea(Z3(e))},fromNodeStream(e){return ea(q3(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},ea=e=>(e.next(),e);function*Q3(e){let t,n=!1,r=[],i,s,o,l=0;function a(){return s==="peek"?$n(r,o)[0]:([i,r,l]=$n(r,o),i)}({cmd:s,size:o}=yield null);const u=Y3(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-l)?u.next():u.next(o-l),!t&&i.byteLength>0&&(r.push(i),l+=i.byteLength),t||o<=l)do({cmd:s,size:o}=yield a());while(o<l);while(!t)}catch(f){(n=!0)&&typeof u.throw=="function"&&u.throw(f)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function G3(e){return Fn(this,arguments,function*(){let n,r=!1,i=[],s,o,l,a=0;function u(){return o==="peek"?$n(i,l)[0]:([s,i,a]=$n(i,l),s)}({cmd:o,size:l}=yield yield ft(null));const f=X3(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(l-a)?yield ft(f.next()):yield ft(f.next(l-a)),!n&&s.byteLength>0&&(i.push(s),a+=s.byteLength),n||l<=a)do({cmd:o,size:l}=yield yield ft(u()));while(l<a);while(!n)}catch(c){(r=!0)&&typeof f.throw=="function"&&(yield ft(f.throw(c)))}finally{r===!1&&typeof f.return=="function"&&(yield ft(f.return(new Uint8Array(0))))}return yield ft(null)})}function Z3(e){return Fn(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,l,a=0;function u(){return o==="peek"?$n(i,l)[0]:([s,i,a]=$n(i,l),s)}({cmd:o,size:l}=yield yield ft(null));const f=new J3(e);try{do if({done:n,value:s}=Number.isNaN(l-a)?yield ft(f.read()):yield ft(f.read(l-a)),!n&&s.byteLength>0&&(i.push(xt(s)),a+=s.byteLength),n||l<=a)do({cmd:o,size:l}=yield yield ft(u()));while(l<a);while(!n)}catch(c){(r=!0)&&(yield ft(f.cancel(c)))}finally{r===!1?yield ft(f.cancel()):e.locked&&f.releaseLock()}return yield ft(null)})}class J3{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return tt(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return tt(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=xt(n)),n})}}const ff=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function q3(e){return Fn(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,l,a=0,u=[],f;function c(){return o==="peek"?$n(u,l)[0]:([f,u,a]=$n(u,l),f)}if({cmd:o,size:l}=yield yield ft(null),e.isTTY)return yield yield ft(new Uint8Array(0)),yield ft(null);try{n[0]=ff(e,"end"),n[1]=ff(e,"error");do{if(n[2]=ff(e,"readable"),[r,s]=yield ft(Promise.race(n.map(y=>y[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(l-a)?(f=xt(e.read(l-a)),f.byteLength<l-a&&(f=xt(e.read()))):f=xt(e.read()),f.byteLength>0&&(u.push(f),a+=f.byteLength)),i||l<=a)do({cmd:o,size:l}=yield yield ft(c()));while(l<a)}while(!i)}finally{yield ft(d(n,r==="error"?s:null))}return yield ft(null);function d(y,v){return f=u=null,new Promise((m,_)=>{for(const[p,g]of y)e.off(p,g);try{const p=e.destroy;p&&p.call(e,v),v=void 0}catch(p){v=p||v}finally{v!=null?_(v):m()}})}})}var Le;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Le||(Le={}));var Ue;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ue||(Ue={}));var Ce;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ce||(Ce={}));var dr;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(dr||(dr={}));var St;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(St||(St={}));var Ur;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ur||(Ur={}));var bt;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(bt||(bt={}));var T;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(T||(T={}));var Kn;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Kn||(Kn={}));const tD=void 0;function Jo(e){if(e===null)return"null";if(e===tD)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof vl||e instanceof wl?`[${[...e].map(t=>Jo(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const eD=Symbol.for("isArrowBigNum");function wn(e,...t){return t.length===0?Object.setPrototypeOf(At(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}wn.prototype[eD]=!0;wn.prototype.toJSON=function(){return`"${vi(this)}"`};wn.prototype.valueOf=function(){return B1(this)};wn.prototype.toString=function(){return vi(this)};wn.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return B1(this);case"string":return vi(this);case"default":return Cd(this)}return vi(this)};function us(...e){return wn.apply(this,e)}function cs(...e){return wn.apply(this,e)}function qo(...e){return wn.apply(this,e)}Object.setPrototypeOf(us.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(cs.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(qo.prototype,Object.create(Uint32Array.prototype));Object.assign(us.prototype,wn.prototype,{constructor:us,signed:!0,TypedArray:Int32Array,BigIntArray:vl});Object.assign(cs.prototype,wn.prototype,{constructor:cs,signed:!1,TypedArray:Uint32Array,BigIntArray:wl});Object.assign(qo.prototype,wn.prototype,{constructor:qo,signed:!0,TypedArray:Uint32Array,BigIntArray:wl});function B1(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new wl(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let l=BigInt(o?1:0),a=BigInt(0);if(o){for(const u of s)l+=~u*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const u of s)l+=u*(BigInt(1)<<BigInt(32)*a++);return l}let vi,Cd;z3?(Cd=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:df(e),vi=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:df(e)):(vi=df,Cd=vi);function df(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class rp{static new(t,n){switch(n){case!0:return new us(t);case!1:return new cs(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case vl:return new us(t)}return t.byteLength===16?new qo(t):new cs(t)}static signed(t){return new us(t)}static unsigned(t){return new cs(t)}static decimal(t){return new qo(t)}constructor(t,n){return rp.new(t,n)}}var F1,O1,L1,R1,P1,z1,$1,U1,j1,V1,H1,W1,Y1,X1,K1,Q1,G1,Z1,J1;class et{static isNull(t){return(t==null?void 0:t.typeId)===T.Null}static isInt(t){return(t==null?void 0:t.typeId)===T.Int}static isFloat(t){return(t==null?void 0:t.typeId)===T.Float}static isBinary(t){return(t==null?void 0:t.typeId)===T.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===T.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===T.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===T.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===T.Date}static isTime(t){return(t==null?void 0:t.typeId)===T.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===T.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===T.Interval}static isList(t){return(t==null?void 0:t.typeId)===T.List}static isStruct(t){return(t==null?void 0:t.typeId)===T.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===T.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===T.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===T.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===T.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===T.Dictionary}static isDenseUnion(t){return et.isUnion(t)&&t.mode===Ue.Dense}static isSparseUnion(t){return et.isUnion(t)&&t.mode===Ue.Sparse}get typeId(){return T.NONE}}F1=Symbol.toStringTag;et[F1]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(et.prototype);let jr=class extends et{toString(){return"Null"}get typeId(){return T.Null}};O1=Symbol.toStringTag;jr[O1]=(e=>e[Symbol.toStringTag]="Null")(jr.prototype);class Vr extends et{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return T.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?vl:wl}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}L1=Symbol.toStringTag;Vr[L1]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Vr.prototype);class tl extends Vr{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(tl.prototype,"ArrayType",{value:Int32Array});class el extends et{constructor(t){super(),this.precision=t}get typeId(){return T.Float}get ArrayType(){switch(this.precision){case Ce.HALF:return Uint16Array;case Ce.SINGLE:return Float32Array;case Ce.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}R1=Symbol.toStringTag;el[R1]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(el.prototype);let au=class extends et{constructor(){super()}get typeId(){return T.Binary}toString(){return"Binary"}};P1=Symbol.toStringTag;au[P1]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(au.prototype);let uu=class extends et{constructor(){super()}get typeId(){return T.Utf8}toString(){return"Utf8"}};z1=Symbol.toStringTag;uu[z1]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(uu.prototype);let cu=class extends et{constructor(){super()}get typeId(){return T.Bool}toString(){return"Bool"}};$1=Symbol.toStringTag;cu[$1]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(cu.prototype);let fu=class extends et{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return T.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};U1=Symbol.toStringTag;fu[U1]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(fu.prototype);class du extends et{constructor(t){super(),this.unit=t}get typeId(){return T.Date}toString(){return`Date${(this.unit+1)*32}<${dr[this.unit]}>`}}j1=Symbol.toStringTag;du[j1]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(du.prototype);class nl extends et{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return T.Time}toString(){return`Time${this.bitWidth}<${St[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return vl}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}V1=Symbol.toStringTag;nl[V1]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(nl.prototype);class hu extends et{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return T.Timestamp}toString(){return`Timestamp<${St[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}H1=Symbol.toStringTag;hu[H1]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(hu.prototype);class pu extends et{constructor(t){super(),this.unit=t}get typeId(){return T.Interval}toString(){return`Interval<${Ur[this.unit]}>`}}W1=Symbol.toStringTag;pu[W1]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(pu.prototype);let yu=class extends et{constructor(t){super(),this.children=[t]}get typeId(){return T.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Y1=Symbol.toStringTag;yu[Y1]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(yu.prototype);class he extends et{constructor(t){super(),this.children=t}get typeId(){return T.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}X1=Symbol.toStringTag;he[X1]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(he.prototype);class gu extends et{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return T.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}K1=Symbol.toStringTag;gu[K1]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(gu.prototype);let mu=class extends et{constructor(t){super(),this.byteWidth=t}get typeId(){return T.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Q1=Symbol.toStringTag;mu[Q1]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(mu.prototype);let vu=class extends et{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return T.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};G1=Symbol.toStringTag;vu[G1]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(vu.prototype);class wu extends et{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return T.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Z1=Symbol.toStringTag;wu[Z1]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(wu.prototype);const nD=(e=>()=>++e)(-1);class As extends et{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?nD():typeof r=="number"?r:r.low}get typeId(){return T.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}J1=Symbol.toStringTag;As[J1]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(As.prototype);function Qn(e){const t=e;switch(e.typeId){case T.Decimal:return e.bitWidth/32;case T.Timestamp:return 2;case T.Date:return 1+t.unit;case T.Interval:return 1+t.unit;case T.FixedSizeList:return t.listSize;case T.FixedSizeBinary:return t.byteWidth;default:return 1}}class gt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return rD(this,t,n)}getVisitFnByTypeId(t,n=!0){return Li(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function rD(e,t,n=!0){return typeof t=="number"?Li(e,t,n):typeof t=="string"&&t in T?Li(e,T[t],n):t&&t instanceof et?Li(e,Gg(t),n):t!=null&&t.type&&t.type instanceof et?Li(e,Gg(t.type),n):Li(e,T.NONE,n)}function Li(e,t,n=!0){let r=null;switch(t){case T.Null:r=e.visitNull;break;case T.Bool:r=e.visitBool;break;case T.Int:r=e.visitInt;break;case T.Int8:r=e.visitInt8||e.visitInt;break;case T.Int16:r=e.visitInt16||e.visitInt;break;case T.Int32:r=e.visitInt32||e.visitInt;break;case T.Int64:r=e.visitInt64||e.visitInt;break;case T.Uint8:r=e.visitUint8||e.visitInt;break;case T.Uint16:r=e.visitUint16||e.visitInt;break;case T.Uint32:r=e.visitUint32||e.visitInt;break;case T.Uint64:r=e.visitUint64||e.visitInt;break;case T.Float:r=e.visitFloat;break;case T.Float16:r=e.visitFloat16||e.visitFloat;break;case T.Float32:r=e.visitFloat32||e.visitFloat;break;case T.Float64:r=e.visitFloat64||e.visitFloat;break;case T.Utf8:r=e.visitUtf8;break;case T.Binary:r=e.visitBinary;break;case T.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case T.Date:r=e.visitDate;break;case T.DateDay:r=e.visitDateDay||e.visitDate;break;case T.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case T.Timestamp:r=e.visitTimestamp;break;case T.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case T.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case T.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case T.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case T.Time:r=e.visitTime;break;case T.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case T.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case T.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case T.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case T.Decimal:r=e.visitDecimal;break;case T.List:r=e.visitList;break;case T.Struct:r=e.visitStruct;break;case T.Union:r=e.visitUnion;break;case T.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case T.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case T.Dictionary:r=e.visitDictionary;break;case T.Interval:r=e.visitInterval;break;case T.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case T.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case T.FixedSizeList:r=e.visitFixedSizeList;break;case T.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${T[t]}'`)}function Gg(e){switch(e.typeId){case T.Null:return T.Null;case T.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?T.Int8:T.Uint8;case 16:return n?T.Int16:T.Uint16;case 32:return n?T.Int32:T.Uint32;case 64:return n?T.Int64:T.Uint64}return T.Int}case T.Float:switch(e.precision){case Ce.HALF:return T.Float16;case Ce.SINGLE:return T.Float32;case Ce.DOUBLE:return T.Float64}return T.Float;case T.Binary:return T.Binary;case T.Utf8:return T.Utf8;case T.Bool:return T.Bool;case T.Decimal:return T.Decimal;case T.Time:switch(e.unit){case St.SECOND:return T.TimeSecond;case St.MILLISECOND:return T.TimeMillisecond;case St.MICROSECOND:return T.TimeMicrosecond;case St.NANOSECOND:return T.TimeNanosecond}return T.Time;case T.Timestamp:switch(e.unit){case St.SECOND:return T.TimestampSecond;case St.MILLISECOND:return T.TimestampMillisecond;case St.MICROSECOND:return T.TimestampMicrosecond;case St.NANOSECOND:return T.TimestampNanosecond}return T.Timestamp;case T.Date:switch(e.unit){case dr.DAY:return T.DateDay;case dr.MILLISECOND:return T.DateMillisecond}return T.Date;case T.Interval:switch(e.unit){case Ur.DAY_TIME:return T.IntervalDayTime;case Ur.YEAR_MONTH:return T.IntervalYearMonth}return T.Interval;case T.Map:return T.Map;case T.List:return T.List;case T.Struct:return T.Struct;case T.Union:switch(e.mode){case Ue.Dense:return T.DenseUnion;case Ue.Sparse:return T.SparseUnion}return T.Union;case T.FixedSizeBinary:return T.FixedSizeBinary;case T.FixedSizeList:return T.FixedSizeList;case T.Dictionary:return T.Dictionary}throw new Error(`Unrecognized type '${T[e.typeId]}'`)}gt.prototype.visitInt8=null;gt.prototype.visitInt16=null;gt.prototype.visitInt32=null;gt.prototype.visitInt64=null;gt.prototype.visitUint8=null;gt.prototype.visitUint16=null;gt.prototype.visitUint32=null;gt.prototype.visitUint64=null;gt.prototype.visitFloat16=null;gt.prototype.visitFloat32=null;gt.prototype.visitFloat64=null;gt.prototype.visitDateDay=null;gt.prototype.visitDateMillisecond=null;gt.prototype.visitTimestampSecond=null;gt.prototype.visitTimestampMillisecond=null;gt.prototype.visitTimestampMicrosecond=null;gt.prototype.visitTimestampNanosecond=null;gt.prototype.visitTimeSecond=null;gt.prototype.visitTimeMillisecond=null;gt.prototype.visitTimeMicrosecond=null;gt.prototype.visitTimeNanosecond=null;gt.prototype.visitDenseUnion=null;gt.prototype.visitSparseUnion=null;gt.prototype.visitIntervalDayTime=null;gt.prototype.visitIntervalYearMonth=null;const q1=new Float64Array(1),Oi=new Uint32Array(q1.buffer);function t_(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function iD(e){if(e!==e)return 32256;q1[0]=e;const t=(Oi[1]&2147483648)>>16&65535;let n=Oi[1]&2146435072,r=0;return n>=1089470464?Oi[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Oi[1]&1048575)>>10):n<=1056964608?(r=1048576+(Oi[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Oi[1]&1048575)+512>>10),t|n|r&65535}class lt extends gt{}function ct(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const sD=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},ip=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},oD=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},lD=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},e_=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},aD=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},yr=({values:e},t,n)=>{e[t]=n},sp=({values:e},t,n)=>{e[t]=n},n_=({values:e},t,n)=>{e[t]=iD(n)},uD=(e,t,n)=>{switch(e.type.precision){case Ce.HALF:return n_(e,t,n);case Ce.SINGLE:case Ce.DOUBLE:return sp(e,t,n)}},r_=({values:e},t,n)=>{sD(e,t,n.valueOf())},i_=({values:e},t,n)=>{ip(e,t*2,n.valueOf())},cD=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},fD=({values:e,valueOffsets:t},n,r)=>e_(e,t,n,r),dD=({values:e,valueOffsets:t},n,r)=>{e_(e,t,n,qh(r))},hD=(e,t,n)=>{e.type.unit===dr.DAY?r_(e,t,n):i_(e,t,n)},s_=({values:e},t,n)=>ip(e,t*2,n/1e3),o_=({values:e},t,n)=>ip(e,t*2,n),l_=({values:e},t,n)=>oD(e,t*2,n),a_=({values:e},t,n)=>lD(e,t*2,n),pD=(e,t,n)=>{switch(e.type.unit){case St.SECOND:return s_(e,t,n);case St.MILLISECOND:return o_(e,t,n);case St.MICROSECOND:return l_(e,t,n);case St.NANOSECOND:return a_(e,t,n)}},u_=({values:e},t,n)=>{e[t]=n},c_=({values:e},t,n)=>{e[t]=n},f_=({values:e},t,n)=>{e[t]=n},d_=({values:e},t,n)=>{e[t]=n},yD=(e,t,n)=>{switch(e.type.unit){case St.SECOND:return u_(e,t,n);case St.MILLISECOND:return c_(e,t,n);case St.MICROSECOND:return f_(e,t,n);case St.NANOSECOND:return d_(e,t,n)}},gD=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},mD=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=rn.getVisitFn(r);if(Array.isArray(n))for(let o=-1,l=i[t],a=i[t+1];l<a;)s(r,l++,n[++o]);else for(let o=-1,l=i[t],a=i[t+1];l<a;)s(r,l++,n.get(++o))},vD=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=rn.getVisitFn(r);let{[t]:o,[t+1]:l}=i;const a=n instanceof Map?n.entries():Object.entries(n);for(const u of a)if(s(r,o,u),++o>=l)break},wD=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),_D=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),xD=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),SD=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),bD=(e,t,n)=>{const r=e.type.children.map(s=>rn.getVisitFn(s.type)),i=n instanceof Map?xD(t,n):n instanceof It?_D(t,n):Array.isArray(n)?wD(t,n):SD(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},ID=(e,t,n)=>{e.type.mode===Ue.Dense?h_(e,t,n):p_(e,t,n)},h_=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];rn.visit(i,e.valueOffsets[t],n)},p_=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];rn.visit(i,t,n)},ED=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},ND=(e,t,n)=>{e.type.unit===Ur.DAY_TIME?y_(e,t,n):g_(e,t,n)},y_=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},g_=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},kD=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=rn.getVisitFn(i);if(Array.isArray(n))for(let o=-1,l=t*r;++o<r;)s(i,l+o,n[o]);else for(let o=-1,l=t*r;++o<r;)s(i,l+o,n.get(o))};lt.prototype.visitBool=ct(aD);lt.prototype.visitInt=ct(yr);lt.prototype.visitInt8=ct(yr);lt.prototype.visitInt16=ct(yr);lt.prototype.visitInt32=ct(yr);lt.prototype.visitInt64=ct(yr);lt.prototype.visitUint8=ct(yr);lt.prototype.visitUint16=ct(yr);lt.prototype.visitUint32=ct(yr);lt.prototype.visitUint64=ct(yr);lt.prototype.visitFloat=ct(uD);lt.prototype.visitFloat16=ct(n_);lt.prototype.visitFloat32=ct(sp);lt.prototype.visitFloat64=ct(sp);lt.prototype.visitUtf8=ct(dD);lt.prototype.visitBinary=ct(fD);lt.prototype.visitFixedSizeBinary=ct(cD);lt.prototype.visitDate=ct(hD);lt.prototype.visitDateDay=ct(r_);lt.prototype.visitDateMillisecond=ct(i_);lt.prototype.visitTimestamp=ct(pD);lt.prototype.visitTimestampSecond=ct(s_);lt.prototype.visitTimestampMillisecond=ct(o_);lt.prototype.visitTimestampMicrosecond=ct(l_);lt.prototype.visitTimestampNanosecond=ct(a_);lt.prototype.visitTime=ct(yD);lt.prototype.visitTimeSecond=ct(u_);lt.prototype.visitTimeMillisecond=ct(c_);lt.prototype.visitTimeMicrosecond=ct(f_);lt.prototype.visitTimeNanosecond=ct(d_);lt.prototype.visitDecimal=ct(gD);lt.prototype.visitList=ct(mD);lt.prototype.visitStruct=ct(bD);lt.prototype.visitUnion=ct(ID);lt.prototype.visitDenseUnion=ct(h_);lt.prototype.visitSparseUnion=ct(p_);lt.prototype.visitDictionary=ct(ED);lt.prototype.visitInterval=ct(ND);lt.prototype.visitIntervalDayTime=ct(y_);lt.prototype.visitIntervalYearMonth=ct(g_);lt.prototype.visitFixedSizeList=ct(kD);lt.prototype.visitMap=ct(vD);const rn=new lt,un=Symbol.for("parent"),fs=Symbol.for("rowIndex");class op{constructor(t,n){return this[un]=t,this[fs]=n,new Proxy(this,new AD)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[fs],n=this[un],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Me.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Jo(t)}: ${Jo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new CD(this[un],this[fs])}}class CD{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Me.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(op.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[un]:{writable:!0,enumerable:!1,configurable:!1,value:null},[fs]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class AD{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[un].type.children.map(n=>n.name)}has(t,n){return t[un].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[un].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[un].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Me.visit(t[un].children[r],t[fs]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[un].type.children.findIndex(s=>s.name===n);return i!==-1?(rn.visit(t[un].children[i],t[fs],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class nt extends gt{}function at(e){return(t,n)=>t.getValid(n)?e(t,n):null}const MD=(e,t)=>864e5*e[t],lp=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),DD=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,TD=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,m_=e=>new Date(e),BD=(e,t)=>m_(MD(e,t)),FD=(e,t)=>m_(lp(e,t)),OD=(e,t)=>null,v_=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},LD=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},w_=({values:e},t)=>BD(e,t),__=({values:e},t)=>FD(e,t*2),Qr=({stride:e,values:t},n)=>t[e*n],RD=({stride:e,values:t},n)=>t_(t[e*n]),x_=({values:e},t)=>e[t],PD=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),zD=({values:e,valueOffsets:t},n)=>v_(e,t,n),$D=({values:e,valueOffsets:t},n)=>{const r=v_(e,t,n);return r!==null?Ed(r):null},UD=({values:e},t)=>e[t],jD=({type:e,values:t},n)=>e.precision!==Ce.HALF?t[n]:t_(t[n]),VD=(e,t)=>e.type.unit===dr.DAY?w_(e,t):__(e,t),S_=({values:e},t)=>1e3*lp(e,t*2),b_=({values:e},t)=>lp(e,t*2),I_=({values:e},t)=>DD(e,t*2),E_=({values:e},t)=>TD(e,t*2),HD=(e,t)=>{switch(e.type.unit){case St.SECOND:return S_(e,t);case St.MILLISECOND:return b_(e,t);case St.MICROSECOND:return I_(e,t);case St.NANOSECOND:return E_(e,t)}},N_=({values:e},t)=>e[t],k_=({values:e},t)=>e[t],C_=({values:e},t)=>e[t],A_=({values:e},t)=>e[t],WD=(e,t)=>{switch(e.type.unit){case St.SECOND:return N_(e,t);case St.MILLISECOND:return k_(e,t);case St.MICROSECOND:return C_(e,t);case St.NANOSECOND:return A_(e,t)}},YD=({values:e,stride:t},n)=>rp.decimal(e.subarray(t*n,t*(n+1))),XD=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,a=i[0].slice(s,o-s);return new It([a])},KD=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new ap(o.slice(i,s-i))},QD=(e,t)=>new op(e,t),GD=(e,t)=>e.type.mode===Ue.Dense?M_(e,t):D_(e,t),M_=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Me.visit(r,e.valueOffsets[t])},D_=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Me.visit(r,t)},ZD=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},JD=(e,t)=>e.type.unit===Ur.DAY_TIME?T_(e,t):B_(e,t),T_=({values:e},t)=>e.subarray(2*t,2*(t+1)),B_=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},qD=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new It([s])};nt.prototype.visitNull=at(OD);nt.prototype.visitBool=at(LD);nt.prototype.visitInt=at(UD);nt.prototype.visitInt8=at(Qr);nt.prototype.visitInt16=at(Qr);nt.prototype.visitInt32=at(Qr);nt.prototype.visitInt64=at(x_);nt.prototype.visitUint8=at(Qr);nt.prototype.visitUint16=at(Qr);nt.prototype.visitUint32=at(Qr);nt.prototype.visitUint64=at(x_);nt.prototype.visitFloat=at(jD);nt.prototype.visitFloat16=at(RD);nt.prototype.visitFloat32=at(Qr);nt.prototype.visitFloat64=at(Qr);nt.prototype.visitUtf8=at($D);nt.prototype.visitBinary=at(zD);nt.prototype.visitFixedSizeBinary=at(PD);nt.prototype.visitDate=at(VD);nt.prototype.visitDateDay=at(w_);nt.prototype.visitDateMillisecond=at(__);nt.prototype.visitTimestamp=at(HD);nt.prototype.visitTimestampSecond=at(S_);nt.prototype.visitTimestampMillisecond=at(b_);nt.prototype.visitTimestampMicrosecond=at(I_);nt.prototype.visitTimestampNanosecond=at(E_);nt.prototype.visitTime=at(WD);nt.prototype.visitTimeSecond=at(N_);nt.prototype.visitTimeMillisecond=at(k_);nt.prototype.visitTimeMicrosecond=at(C_);nt.prototype.visitTimeNanosecond=at(A_);nt.prototype.visitDecimal=at(YD);nt.prototype.visitList=at(XD);nt.prototype.visitStruct=at(QD);nt.prototype.visitUnion=at(GD);nt.prototype.visitDenseUnion=at(M_);nt.prototype.visitSparseUnion=at(D_);nt.prototype.visitDictionary=at(ZD);nt.prototype.visitInterval=at(JD);nt.prototype.visitIntervalDayTime=at(T_);nt.prototype.visitIntervalYearMonth=at(B_);nt.prototype.visitFixedSizeList=at(qD);nt.prototype.visitMap=at(KD);const Me=new nt,Cn=Symbol.for("keys"),ds=Symbol.for("vals");class ap{constructor(t){return this[Cn]=new It([t.children[0]]).memoize(),this[ds]=t.children[1],new Proxy(this,new eT)}[Symbol.iterator](){return new tT(this[Cn],this[ds])}get size(){return this[Cn].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Cn],n=this[ds],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Me.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Jo(t)}: ${Jo(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class tT{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Me.visit(this.vals,t)]})}}class eT{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Cn].toArray().map(String)}has(t,n){return t[Cn].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Cn].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Cn].indexOf(n);if(r!==-1){const i=Me.visit(Reflect.get(t,ds),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Cn].indexOf(n);return i!==-1?(rn.visit(Reflect.get(t,ds),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(ap.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Cn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ds]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Zg;function F_(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Zg=s,s=o,o=Zg),o>i&&(o=i),r?r(e,s,o):[s,o]}const Jg=e=>e!==e;function Us(e){if(typeof e!=="object"||e===null)return Jg(e)?Jg:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?K3(e,n):!1:e instanceof Map?rT(e):Array.isArray(e)?nT(e):e instanceof It?iT(e):sT(e,!0)}function nT(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Us(e[n]);return Sc(t)}function rT(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Us(r);return Sc(n)}function iT(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Us(e.get(n));return Sc(t)}function sT(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Us(e[n[i]]);return Sc(r,n)}function Sc(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return oT(e,n);case Map:return qg(e,n,n.keys());case ap:case op:case Object:case void 0:return qg(e,n,t||Object.keys(n))}return n instanceof It?lT(e,n):!1}}function oT(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function lT(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function qg(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const l=e.length;let a=s.next(),u=r.next(),f=i.next();for(;o<l&&!u.done&&!f.done&&!a.done&&!(u.value!==f.value||!e[o](a.value));++o,u=r.next(),f=i.next(),a=s.next());return o===l&&u.done&&f.done&&a.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function O_(e,t,n,r){return(n&1<<r)!==0}function aT(e,t,n,r){return(n&1<<r)>>r}function up(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):_u(new cp(n,e,t,null,O_)).subarray(0,r)),i}return n}function _u(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class cp{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ad(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new cp(e,t,n-t,e,aT))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Ad(e,t,i)+Ad(e,r,n)+uT(e,i>>3,r-i>>3)}function uT(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=hf(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=hf(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=hf(s.getUint8(i)),i+=1;return r}function hf(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const cT=-1;class Dt{constructor(t,n,r,i,s,o=[],l){this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let a;s instanceof Dt?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Qn(t),s&&((a=s[0])&&(this.valueOffsets=a),(a=s[1])&&(this.values=a),(a=s[2])&&(this.nullBitmap=a),(a=s[3])&&(this.typeIds=a))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,l)=>o+l.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=cT&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Ad(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:a}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:a,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,l=r[s]>>o&1;return n?l===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):l===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Dt(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,l=i===16?r:1,a=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,a,s.length===0||this.valueOffsets?s:this._sliceChildren(s,l*t,l*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===T.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(up(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Kn.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Kn.TYPE])&&(o[Kn.TYPE]=s.subarray(t,t+n)),(s=o[Kn.OFFSET])&&(o[Kn.OFFSET]=s.subarray(t,t+n+1))||(s=o[Kn.DATA])&&(o[Kn.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Dt.prototype.children=Object.freeze([]);class So extends gt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Dt(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.data),s=xt(t.nullBitmap),o=eo(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Dt(n,r,l,a,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.data),s=xt(t.nullBitmap),o=eo(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Dt(n,r,l,a,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=xt(t.nullBitmap),o=eo(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Dt(n,r,l,a,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=xt(t.nullBitmap),{length:o=i.reduce((a,{length:u})=>Math.max(a,u),0),nullCount:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=xt(t.nullBitmap),o=At(n.ArrayType,t.typeIds),{["length"]:l=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;if(et.isSparseUnion(n))return new Dt(n,r,l,a,[void 0,void 0,s,o],i);const u=eo(t.valueOffsets);return new Dt(n,r,l,a,[u,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.indices.ArrayType,t.data),{["dictionary"]:o=new It([new So().visit({type:n.dictionary})])}=t,{["length"]:l=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Dt(n,r,l,a,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=xt(t.nullBitmap),s=At(n.ArrayType,t.data),{["length"]:o=s.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new So().visit({type:n.valueType})}=t,s=xt(t.nullBitmap),{["length"]:o=i.length/Qn(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Dt(n,r,o,l,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new So().visit({type:n.childType})}=t,s=xt(t.nullBitmap),o=eo(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Dt(n,r,l,a,[o,void 0,s],[i])}}function yt(e){return new So().visit(e)}class tm{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function L_(e){return e.reduce((t,n)=>t+n.nullCount,0)}function R_(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function P_(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const l=e[s],a=t[s],{length:u}=l;if(a>=r)break;if(n>=a+u)continue;if(a>=n&&a+u<=r){i.push(l);continue}const f=Math.max(0,n-a),c=Math.min(r-a,u);i.push(l.slice(f,c-f))}return i.length===0&&i.push(e[0].slice(0,0)),i}function fp(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function dp(e,t){return e.getValid(t)}function hs(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return fp(r,this._offsets,n,t)}}function z_(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=fp(s,this._offsets,r,n);return t=void 0,o}}function $_(e){let t;function n(r,i,s){let o=s,l=0,a=0;for(let u=i-1,f=r.length;++u<f;){const c=r[u];if(~(l=e(c,t,o)))return a+l;o=0,a+=c.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):fp(s,this._offsets,i,n);return t=void 0,o}}class rt extends gt{}function fT(e,t){return t===null&&e.length>0?0:-1}function dT(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new cp(n,e.offset+(t||0),e.length,n,O_)){if(!i)return r;++r}return-1}function dt(e,t,n){if(t===void 0)return-1;if(t===null)return dT(e,n);const r=Me.getVisitFn(e),i=Us(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function U_(e,t,n){const r=Me.getVisitFn(e),i=Us(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}rt.prototype.visitNull=fT;rt.prototype.visitBool=dt;rt.prototype.visitInt=dt;rt.prototype.visitInt8=dt;rt.prototype.visitInt16=dt;rt.prototype.visitInt32=dt;rt.prototype.visitInt64=dt;rt.prototype.visitUint8=dt;rt.prototype.visitUint16=dt;rt.prototype.visitUint32=dt;rt.prototype.visitUint64=dt;rt.prototype.visitFloat=dt;rt.prototype.visitFloat16=dt;rt.prototype.visitFloat32=dt;rt.prototype.visitFloat64=dt;rt.prototype.visitUtf8=dt;rt.prototype.visitBinary=dt;rt.prototype.visitFixedSizeBinary=dt;rt.prototype.visitDate=dt;rt.prototype.visitDateDay=dt;rt.prototype.visitDateMillisecond=dt;rt.prototype.visitTimestamp=dt;rt.prototype.visitTimestampSecond=dt;rt.prototype.visitTimestampMillisecond=dt;rt.prototype.visitTimestampMicrosecond=dt;rt.prototype.visitTimestampNanosecond=dt;rt.prototype.visitTime=dt;rt.prototype.visitTimeSecond=dt;rt.prototype.visitTimeMillisecond=dt;rt.prototype.visitTimeMicrosecond=dt;rt.prototype.visitTimeNanosecond=dt;rt.prototype.visitDecimal=dt;rt.prototype.visitList=dt;rt.prototype.visitStruct=dt;rt.prototype.visitUnion=dt;rt.prototype.visitDenseUnion=U_;rt.prototype.visitSparseUnion=U_;rt.prototype.visitDictionary=dt;rt.prototype.visitInterval=dt;rt.prototype.visitIntervalDayTime=dt;rt.prototype.visitIntervalYearMonth=dt;rt.prototype.visitFixedSizeList=dt;rt.prototype.visitMap=dt;const xu=new rt;class it extends gt{}function ut(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===T.Timestamp||t instanceof Vr&&t.bitWidth!==64||t instanceof nl&&t.bitWidth!==64||t instanceof el&&t.precision!==Ce.HALF))return new tm(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new tm(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new hT(o)})}class hT{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}it.prototype.visitNull=ut;it.prototype.visitBool=ut;it.prototype.visitInt=ut;it.prototype.visitInt8=ut;it.prototype.visitInt16=ut;it.prototype.visitInt32=ut;it.prototype.visitInt64=ut;it.prototype.visitUint8=ut;it.prototype.visitUint16=ut;it.prototype.visitUint32=ut;it.prototype.visitUint64=ut;it.prototype.visitFloat=ut;it.prototype.visitFloat16=ut;it.prototype.visitFloat32=ut;it.prototype.visitFloat64=ut;it.prototype.visitUtf8=ut;it.prototype.visitBinary=ut;it.prototype.visitFixedSizeBinary=ut;it.prototype.visitDate=ut;it.prototype.visitDateDay=ut;it.prototype.visitDateMillisecond=ut;it.prototype.visitTimestamp=ut;it.prototype.visitTimestampSecond=ut;it.prototype.visitTimestampMillisecond=ut;it.prototype.visitTimestampMicrosecond=ut;it.prototype.visitTimestampNanosecond=ut;it.prototype.visitTime=ut;it.prototype.visitTimeSecond=ut;it.prototype.visitTimeMillisecond=ut;it.prototype.visitTimeMicrosecond=ut;it.prototype.visitTimeNanosecond=ut;it.prototype.visitDecimal=ut;it.prototype.visitList=ut;it.prototype.visitStruct=ut;it.prototype.visitUnion=ut;it.prototype.visitDenseUnion=ut;it.prototype.visitSparseUnion=ut;it.prototype.visitDictionary=ut;it.prototype.visitInterval=ut;it.prototype.visitIntervalDayTime=ut;it.prototype.visitIntervalYearMonth=ut;it.prototype.visitFixedSizeList=ut;it.prototype.visitMap=ut;const hp=new it,pT=(e,t)=>e+t;class Gr extends gt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===St.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Un.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Un.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const yT=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),gT=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),mT=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,l=Un.getVisitFn(i.type),a=i.slice(s,o-s);let u=8;for(let f=-1,c=o-s;++f<c;)u+=l(a,f);return u},vT=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Un.getVisitFn(r.type);let o=0;for(let l=-1,a=i.length;++l<a;)o+=s(i,l);return o},wT=(e,t)=>e.type.mode===Ue.Dense?j_(e,t):V_(e,t),j_=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Un.visit(t[s],r[i])},V_=({children:e},t)=>4+Un.visitMany(e,e.map(()=>t)).reduce(pT,0);Gr.prototype.visitUtf8=yT;Gr.prototype.visitBinary=gT;Gr.prototype.visitList=mT;Gr.prototype.visitFixedSizeList=vT;Gr.prototype.visitUnion=wT;Gr.prototype.visitDenseUnion=j_;Gr.prototype.visitSparseUnion=V_;const Un=new Gr;var H_;const W_={},Y_={};class It{constructor(t){var n,r,i;const s=t[0]instanceof It?t.flatMap(l=>l.data):t;if(s.length===0||s.some(l=>!(l instanceof Dt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:l,set:a,indexOf:u,byteLength:f}=W_[o.typeId],c=s[0];this.isValid=d=>dp(c,d),this.get=d=>l(c,d),this.set=(d,y)=>a(c,d,y),this.indexOf=d=>u(c,d),this.getByteLength=d=>f(c,d),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,Y_[o.typeId]),this._offsets=R_(s);break}this.data=s,this.type=o,this.stride=Qn(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=L_(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${T[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return hp.visit(this)}concat(...t){return new It(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new It(F_(this,t,n,({data:r,_offsets:i},s,o)=>P_(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case T.Int:case T.Float:case T.Decimal:case T.Time:case T.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:l,length:a})=>(o.array.set(l.subarray(0,a*i),o.offset),o.offset+=a*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new It(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return et.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(et.isDictionary(this.type)){const t=new Su(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new It(n)}return new Su(this)}unmemoize(){if(et.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new It(n)}return this}}H_=Symbol.toStringTag;It[H_]=(e=>{e.type=et.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(T).map(n=>T[n]).filter(n=>typeof n=="number"&&n!==T.NONE);for(const n of t){const r=Me.getVisitFnByTypeId(n),i=rn.getVisitFnByTypeId(n),s=xu.getVisitFnByTypeId(n),o=Un.getVisitFnByTypeId(n);W_[n]={get:r,set:i,indexOf:s,byteLength:o},Y_[n]=Object.create(e,{isValid:{value:hs(dp)},get:{value:hs(Me.getVisitFnByTypeId(n))},set:{value:z_(rn.getVisitFnByTypeId(n))},indexOf:{value:$_(xu.getVisitFnByTypeId(n))},getByteLength:{value:hs(Un.getVisitFnByTypeId(n))}})}return"Vector"})(It.prototype);class Su extends It{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const l=s[o];if(l!==void 0)return l;const a=n.call(this,o);return s[o]=a,a}}),Object.defineProperty(this,"set",{value(o,l){r.call(this,o,l),s[o]=l}}),Object.defineProperty(this,"slice",{value:(o,l)=>new Su(i.call(this,o,l))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new It(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Md{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const pf=2,An=4,Jn=4,Mt=4,br=new Int32Array(2),em=new Float32Array(br.buffer),nm=new Float64Array(br.buffer),na=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let sr=class Dd{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?Dd.ZERO:new Dd(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};sr.ZERO=new sr(0,0);var Td;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Td||(Td={}));let Ms=class X_{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new X_(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new sr(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new sr(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return br[0]=this.readInt32(t),em[0]}readFloat64(t){return br[na?0:1]=this.readInt32(t),br[na?1:0]=this.readInt32(t+4),nm[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){em[0]=n,this.writeInt32(t,br[0])}writeFloat64(t,n){nm[0]=n,this.writeInt32(t,br[na?0:1]),this.writeInt32(t+4,br[na?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+An+Jn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Jn;n++)t+=String.fromCharCode(this.readInt8(this.position_+An+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=An,n===Td.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const l=this.readUint8(t+s++);if(l<192)o=l;else{const a=this.readUint8(t+s++);if(l<224)o=(l&31)<<6|a&63;else{const u=this.readUint8(t+s++);if(l<240)o=(l&15)<<12|(a&63)<<6|u&63;else{const f=this.readUint8(t+s++);o=(l&7)<<18|(a&63)<<12|(u&63)<<6|f&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+An}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Jn)throw new Error("FlatBuffers: file identifier must be length "+Jn);for(let n=0;n<Jn;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+An+n))return!1;return!0}createLong(t,n){return sr.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},K_=class Q_{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=Ms.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Q_.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Ms.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(An,0),this.writeInt32(this.offset()-t+An)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*pf;this.addInt16(s);let o=0;const l=this.space;t:for(n=0;n<this.vtables.length;n++){const a=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(a)){for(let u=pf;u<s;u+=pf)if(this.bb.readInt16(l+u)!=this.bb.readInt16(a+u))continue t;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Mt:0;if(n){const s=n;if(this.prep(this.minalign,An+Jn+i),s.length!=Jn)throw new Error("FlatBuffers: file identifier must be length "+Jn);for(let o=Jn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,An+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(An,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return sr.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Jt{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Jt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Mt),(n||new Jt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Jt.startKeyValue(t),Jt.addKey(t,n),Jt.addValue(t,r),Jt.endKeyValue(t)}}var Ds;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Ds||(Ds={}));var Ts;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Ts||(Ts={}));var bu;(function(e){e[e.DenseArray=0]="DenseArray"})(bu||(bu={}));class Fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Mt),(n||new Fe).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Fe.startInt(t),Fe.addBitWidth(t,n),Fe.addIsSigned(t,r),Fe.endInt(t)}}class qn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new qn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Mt),(n||new qn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Fe).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):bu.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,bu.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class li{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new li).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Mt),(n||new li).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return li.startBinary(t),li.endBinary(t)}}class ai{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new ai).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Mt),(n||new ai).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return ai.startBool(t),ai.endBool(t)}}var Iu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Iu||(Iu={}));let Sa=class Ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Mt),(n||new Ri).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Iu.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Iu.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Ri.startDate(t),Ri.addUnit(t,n),Ri.endDate(t)}};class we{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new we).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Mt),(n||new we).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return we.startDecimal(t),we.addPrecision(t,n),we.addScale(t,r),we.addBitWidth(t,i),we.endDecimal(t)}}var Bs;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Bs||(Bs={}));class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Mt),(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Mn.startFixedSizeBinary(t),Mn.addByteWidth(t,n),Mn.endFixedSizeBinary(t)}}class Dn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Dn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Mt),(n||new Dn).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Dn.startFixedSizeList(t),Dn.addListSize(t,n),Dn.endFixedSizeList(t)}}var Eu;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Eu||(Eu={}));class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Tn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Mt),(n||new Tn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Eu.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Eu.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Tn.startFloatingPoint(t),Tn.addPrecision(t,n),Tn.endFloatingPoint(t)}}var Nu;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Nu||(Nu={}));class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Mt),(n||new Bn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nu.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Nu.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Bn.startInterval(t),Bn.addUnit(t,n),Bn.endInterval(t)}}class ui{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new ui).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Mt),(n||new ui).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return ui.startList(t),ui.endList(t)}}let ba=class Pi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Pi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Mt),(n||new Pi).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Pi.startMap(t),Pi.addKeysSorted(t,n),Pi.endMap(t)}};class ci{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new ci).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Mt),(n||new ci).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ci.startNull(t),ci.endNull(t)}}class fi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new fi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Mt),(n||new fi).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return fi.startStruct_(t),fi.endStruct_(t)}}class Ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Mt),(n||new Ze).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bs.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Bs.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Ze.startTime(t),Ze.addUnit(t,n),Ze.addBitWidth(t,r),Ze.endTime(t)}}class Je{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Je).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Mt),(n||new Je).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bs.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Bs.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Je.startTimestamp(t),Je.addUnit(t,n),Je.addTimezone(t,r),Je.endTimestamp(t)}}var ku;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ku||(ku={}));class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Mt),(n||new xe).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ku.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,ku.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return xe.startUnion(t),xe.addMode(t,n),xe.addTypeIds(t,r),xe.endUnion(t)}}class di{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new di).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Mt),(n||new di).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return di.startUtf8(t),di.endUtf8(t)}}var zt;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(zt||(zt={}));let Ye=class Ia{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Mt),(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):zt.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new qn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Ia).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,zt.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},bn=class Yn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Yn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Mt),(n||new Yn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ts.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Ts.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Yn.startSchema(t),Yn.addEndianness(t,n),Yn.addFields(t,r),Yn.addCustomMetadata(t,i),Yn.addFeatures(t,s),Yn.endSchema(t)}};class Te{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Te).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Mt),(n||new Te).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ds.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new bn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Md).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Md).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Ds.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Et{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=Bd(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Et(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Et(n,this.metadata)}assign(...t){const n=t[0]instanceof Et?t[0]:Array.isArray(t[0])?new Et(t[0]):new Et(t),r=[...this.fields],i=ra(ra(new Map,this.metadata),n.metadata),s=n.fields.filter(l=>{const a=r.findIndex(u=>u.name===l.name);return~a?(r[a]=l.clone({metadata:ra(ra(new Map,r[a].metadata),l.metadata)}))&&!1:!0}),o=Bd(s,new Map);return new Et([...r,...s],i,new Map([...this.dictionaries,...o]))}}Et.prototype.fields=null;Et.prototype.metadata=null;Et.prototype.dictionaries=null;class Lt{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Lt(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Lt.new(n,r,i,s)}}Lt.prototype.type=null;Lt.prototype.name=null;Lt.prototype.nullable=null;Lt.prototype.metadata=null;function ra(e,t){return new Map([...e||new Map,...t||new Map])}function Bd(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(et.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Bd(s.children,t)}return t}var rm=sr,_T=K_,xT=Ms;class rl{constructor(t,n=Le.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new xT(xt(t));const n=Te.getRootAsFooter(t),r=Et.decode(n.schema());return new ST(r,n)}static encode(t){const n=new _T,r=Et.encode(n,t.schema);Te.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Hr.encode(n,o);const i=n.endVector();Te.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Hr.encode(n,o);const s=n.endVector();return Te.startFooter(n),Te.addSchema(n,r),Te.addVersion(n,Le.V4),Te.addRecordBatches(n,i),Te.addDictionaries(n,s),Te.finishFooterBuffer(n,Te.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class ST extends rl{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Hr.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Hr.decode(n)}return null}}class Hr{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new Hr(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new rm(n.offset,0),s=new rm(n.bodyLength,0);return Md.createBlock(t,i,r,s)}}const Ut=Object.freeze({done:!0,value:void 0});class im{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class pp{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class bT extends pp{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return tt(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Ut);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Ke.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Ke.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return tt(this,void 0,void 0,function*(){return yield this.abort(t),Ut})}return(t){return tt(this,void 0,void 0,function*(){return yield this.close(),Ut})}read(t){return tt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return tt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Ut)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Ea extends bT{write(t){if((t=xt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Ed(this.toUint8Array(!0)):this.toUint8Array(!1).then(Ed)}toUint8Array(t=!1){return t?$n(this._values)[0]:tt(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=mi(this),l;l=yield o.next(),!l.done;){const a=l.value;i.push(a),s+=a.byteLength}}catch(a){n={error:a}}finally{try{l&&!l.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return $n(i,s)[0]})}}class Cu{constructor(t){t&&(this.source=new IT(Ke.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Fs{constructor(t){t instanceof Fs?this.source=t.source:t instanceof Ea?this.source=new qr(Ke.fromAsyncIterable(t)):D1(t)?this.source=new qr(Ke.fromNodeStream(t)):tp(t)?this.source=new qr(Ke.fromDOMStream(t)):M1(t)?this.source=new qr(Ke.fromDOMStream(t.body)):_l(t)?this.source=new qr(Ke.fromIterable(t)):$r(t)?this.source=new qr(Ke.fromAsyncIterable(t)):$s(t)&&(this.source=new qr(Ke.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class IT{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Ut)}return(t){return Object.create(this.source.return&&this.source.return(t)||Ut)}}class qr{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return tt(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return tt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return tt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,n="read"){return tt(this,void 0,void 0,function*(){return yield this.source.next({cmd:n,size:t})})}throw(t){return tt(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||Ut;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return tt(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||Ut;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class sm extends Cu{constructor(t,n){super(),this.position=0,this.buffer=xt(t),this.size=typeof n>"u"?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:r}=this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),n.subarray(i,this.position)):null}readAt(t,n){const r=this.buffer,i=Math.min(this.size,t+n);return r?r.subarray(t,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Au extends Fs{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=tt(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return tt(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)})}seek(t){return tt(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return tt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=i,o=0,l=0;const a=Math.min(r,s+Math.min(r-s,t)),u=new Uint8Array(Math.max(0,(this.position=a)-s));for(;(s+=l)<a&&(o+=l)<u.byteLength;)({bytesRead:l}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(t,n){return tt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&t+n<i){const s=Math.min(i,t+n),o=new Uint8Array(s-t);return(yield r.read(o,0,n,t)).buffer}return new Uint8Array(n)})}close(){return tt(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return tt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return tt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const ET=65536;function ts(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const Os=8,yp=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class G_{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?ET:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ts(this.buffer[1])} ${ts(this.buffer[0])}`}}class Nt extends G_{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return Nt.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return Nt.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.length,i=new Nt(n);for(let s=0;s<r;){const o=Os<r-s?Os:r-s,l=new Nt(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),a=new Nt(new Uint32Array([yp[o],0]));i.times(a),i.plus(l),s+=o}return i}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)Nt.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new Nt(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new Nt(new Uint32Array(t.buffer)).plus(n)}}class ve extends G_{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,r=t.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return ve.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ve.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,s=new ve(n);for(let o=r?1:0;o<i;){const l=Os<i-o?Os:i-o,a=new ve(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0])),u=new ve(new Uint32Array([yp[l],0]));s.times(u),s.plus(a),o+=l}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)ve.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new ve(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ve(new Uint32Array(t.buffer)).plus(n)}}class In{constructor(t){this.buffer=t}high(){return new ve(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ve(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new Nt(new Uint32Array([this.buffer[3],0])),r=new Nt(new Uint32Array([this.buffer[2],0])),i=new Nt(new Uint32Array([this.buffer[1],0])),s=new Nt(new Uint32Array([this.buffer[0],0])),o=new Nt(new Uint32Array([t.buffer[3],0])),l=new Nt(new Uint32Array([t.buffer[2],0])),a=new Nt(new Uint32Array([t.buffer[1],0])),u=new Nt(new Uint32Array([t.buffer[0],0]));let f=Nt.multiply(s,u);this.buffer[0]=f.low();const c=new Nt(new Uint32Array([f.high(),0]));return f=Nt.multiply(i,u),c.plus(f),f=Nt.multiply(s,a),c.plus(f),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(f)?1:0,this.buffer[2]=c.high(),new Nt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Nt.multiply(r,u)).plus(Nt.multiply(i,a)).plus(Nt.multiply(s,l)),this.buffer[3]+=Nt.multiply(n,u).plus(Nt.multiply(r,a)).plus(Nt.multiply(i,l)).plus(Nt.multiply(s,o)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${ts(this.buffer[3])} ${ts(this.buffer[2])} ${ts(this.buffer[1])} ${ts(this.buffer[0])}`}static multiply(t,n){return new In(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new In(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return In.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return In.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,s=new In(n);for(let o=r?1:0;o<i;){const l=Os<i-o?Os:i-o,a=new In(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0,0,0])),u=new In(new Uint32Array([yp[l],0,0,0]));s.times(u),s.plus(a),o+=l}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)In.from(t[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class Z_ extends gt{constructor(t,n,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=r,this.dictionaries=i}visit(t){return super.visit(t instanceof Lt?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return yt({type:t,length:n})}visitBool(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===Ue.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:r}=this.nextFieldNode()){return yt({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,r=this.nextBufferRange()){return n>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class NT extends Z_{constructor(t,n,r,i){super(new Uint8Array(0),n,r,i),this.sources=t}readNullBitmap(t,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):_u(this.sources[r])}readOffsets(t,{offset:n}=this.nextBufferRange()){return At(Uint8Array,At(Int32Array,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return At(Uint8Array,At(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return et.isTimestamp(t)||(et.isInt(t)||et.isTime(t))&&t.bitWidth===64||et.isDate(t)&&t.unit===dr.MILLISECOND?At(Uint8Array,ve.convertArray(r[n])):et.isDecimal(t)?At(Uint8Array,In.convertArray(r[n])):et.isBinary(t)||et.isFixedSizeBinary(t)?kT(r[n]):et.isBool(t)?_u(r[n]):et.isUtf8(t)?qh(r[n].join("")):At(Uint8Array,At(t.ArrayType,r[n].map(i=>+i)))}}function kT(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}class st extends gt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function De(e,t){return t instanceof e.constructor}function xl(e,t){return e===t||De(e,t)}function gr(e,t){return e===t||De(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function bc(e,t){return e===t||De(e,t)&&e.precision===t.precision}function CT(e,t){return e===t||De(e,t)&&e.byteWidth===t.byteWidth}function gp(e,t){return e===t||De(e,t)&&e.unit===t.unit}function Sl(e,t){return e===t||De(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function bl(e,t){return e===t||De(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function AT(e,t){return e===t||De(e,t)&&e.children.length===t.children.length&&Wr.compareManyFields(e.children,t.children)}function MT(e,t){return e===t||De(e,t)&&e.children.length===t.children.length&&Wr.compareManyFields(e.children,t.children)}function mp(e,t){return e===t||De(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Wr.compareManyFields(e.children,t.children)}function DT(e,t){return e===t||De(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Wr.visit(e.indices,t.indices)&&Wr.visit(e.dictionary,t.dictionary)}function vp(e,t){return e===t||De(e,t)&&e.unit===t.unit}function TT(e,t){return e===t||De(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Wr.compareManyFields(e.children,t.children)}function BT(e,t){return e===t||De(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Wr.compareManyFields(e.children,t.children)}st.prototype.visitNull=xl;st.prototype.visitBool=xl;st.prototype.visitInt=gr;st.prototype.visitInt8=gr;st.prototype.visitInt16=gr;st.prototype.visitInt32=gr;st.prototype.visitInt64=gr;st.prototype.visitUint8=gr;st.prototype.visitUint16=gr;st.prototype.visitUint32=gr;st.prototype.visitUint64=gr;st.prototype.visitFloat=bc;st.prototype.visitFloat16=bc;st.prototype.visitFloat32=bc;st.prototype.visitFloat64=bc;st.prototype.visitUtf8=xl;st.prototype.visitBinary=xl;st.prototype.visitFixedSizeBinary=CT;st.prototype.visitDate=gp;st.prototype.visitDateDay=gp;st.prototype.visitDateMillisecond=gp;st.prototype.visitTimestamp=Sl;st.prototype.visitTimestampSecond=Sl;st.prototype.visitTimestampMillisecond=Sl;st.prototype.visitTimestampMicrosecond=Sl;st.prototype.visitTimestampNanosecond=Sl;st.prototype.visitTime=bl;st.prototype.visitTimeSecond=bl;st.prototype.visitTimeMillisecond=bl;st.prototype.visitTimeMicrosecond=bl;st.prototype.visitTimeNanosecond=bl;st.prototype.visitDecimal=xl;st.prototype.visitList=AT;st.prototype.visitStruct=MT;st.prototype.visitUnion=mp;st.prototype.visitDenseUnion=mp;st.prototype.visitSparseUnion=mp;st.prototype.visitDictionary=DT;st.prototype.visitInterval=vp;st.prototype.visitIntervalDayTime=vp;st.prototype.visitIntervalYearMonth=vp;st.prototype.visitFixedSizeList=TT;st.prototype.visitMap=BT;const Wr=new st;function Fd(e,t){return Wr.compareSchemas(e,t)}function yf(e,t){return FT(e,t.map(n=>n.data.concat()))}function FT(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((c,d)=>Math.max(c,d.length),0)};let s=0,o=0,l=-1;const a=t.length;let u,f=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)f[l]=u=t[l].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(f=OT(n,o,f,t,i),o>0&&(r[s++]=yt({type:new he(n),length:o,nullCount:0,children:f.slice()})))}return[e=e.assign(n),r.map(c=>new Se(e,c))]}function OT(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let l=-1,a=r.length;++l<a;){const u=n[l],f=u==null?void 0:u.length;if(f>=t)f===t?n[l]=u:(n[l]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[l].unshift(u.slice(t,f-t))));else{const c=e[l];e[l]=c.clone({nullable:!0}),n[l]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:yt({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var J_;class de{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Et([]),this._offsets=[0],this;let i,s;t[0]instanceof Et&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=a=>{if(a){if(a instanceof Se)return[a];if(a instanceof de)return a.batches;if(a instanceof Dt){if(a.type instanceof he)return[new Se(new Et(a.type.children),a)]}else{if(Array.isArray(a))return a.flatMap(u=>o(u));if(typeof a[Symbol.iterator]=="function")return[...a].flatMap(u=>o(u));if(typeof a=="object"){const u=Object.keys(a),f=u.map(y=>new It([a[y]])),c=new Et(u.map((y,v)=>new Lt(String(y),f[v].type))),[,d]=yf(c,f);return d.length===0?[new Se(a)]:d}}}return[]},l=t.flatMap(a=>o(a));if(i=(r=i??((n=l[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Et([]),!(i instanceof Et))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const a of l){if(!(a instanceof Se))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Fd(i,a.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=l,this._offsets=s??R_(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=L_(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?hp.visit(new It(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new de(n,r.map(i=>new Se(n,i)))}slice(t,n){const r=this.schema;[t,n]=F_({length:this.numRows},t,n);const i=P_(this.data,this._offsets,t,n);return new de(r,i.map(s=>new Se(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=yt({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new It(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new It([yt({type:new jr,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),l=this.schema.fields.map((a,u)=>this.getChildAt(u));[s[t],l[t]]=[o,n],[r,i]=yf(r,l)}return new de(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new de(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((l,a,u)=>{const[f,c]=l,d=n.findIndex(y=>y.name===a.name);return~d?c[d]=u:f.push(u),l},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((l,a)=>[a,i[a]]).map(([l,a])=>a===void 0?this.getChildAt(l):t.getChildAt(a)),...r.map(l=>t.getChildAt(l))].filter(Boolean);return new de(...yf(s,o))}}J_=Symbol.toStringTag;de[J_]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=hs(dp),e.get=hs(Me.getVisitFn(T.Struct)),e.set=z_(rn.getVisitFn(T.Struct)),e.indexOf=$_(xu.getVisitFn(T.Struct)),e.getByteLength=hs(Un.getVisitFn(T.Struct)),"Table"))(de.prototype);var q_;let Se=class ao{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Et))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=yt({nullCount:0,type:new he(this.schema.fields),children:this.schema.fields.map(n=>yt({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Dt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=om(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((a,u,f)=>(a.children[f]=n[u],a.length=Math.max(a.length,n[u].length),a.fields[f]=Lt.new({name:u,type:n[u].type,nullable:!0}),a),{length:0,fields:new Array,children:new Array}),o=new Et(r),l=yt({type:new he(r),length:s,children:i,nullCount:0});[this.schema,this.data]=om(o,l.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=tx(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Me.visit(this.data,t)}set(t,n){return rn.visit(this.data,t,n)}indexOf(t,n){return xu.visit(this.data,t,n)}getByteLength(t){return Un.visit(this.data,t)}[Symbol.iterator](){return hp.visit(new It([this.data]))}toArray(){return[...this]}concat(...t){return new de(this.schema,[this,...t])}slice(t,n){const[r]=new It([this.data]).slice(t,n).data;return new ao(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new It([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new It([yt({type:new jr,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),l=s[t].clone({type:n.type});[s[t],o[t]]=[l,n.data[0]],r=new Et(s,new Map(this.schema.metadata)),i=yt({type:new he(s),children:o})}return new ao(r,i)}select(t){const n=this.schema.select(t),r=new he(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(l=>l.name===s);~o&&(i[o]=this.data.children[o])}return new ao(n,yt({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=yt({type:new he(n.fields),length:this.numRows,children:r});return new ao(n,i)}};q_=Symbol.toStringTag;Se[q_]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Se.prototype);function om(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[l,a]of e.fields.entries()){const u=t[l];(!u||u.length!==n)&&(i[l]=a.clone({nullable:!0}),s[l]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:yt({type:a.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),yt({type:new he(i),length:n,children:s})]}function tx(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,l=t[r];if(et.isDictionary(o)){if(!n.has(o.id))l.dictionary&&n.set(o.id,l.dictionary);else if(n.get(o.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&tx(o.children,l.children,n)}return n}class wp extends Se{constructor(t){const n=t.fields.map(i=>yt({type:i.type})),r=yt({type:new he(t.fields),nullCount:0,children:n});super(t,r)}}var Mu;(function(e){e[e.BUFFER=0]="BUFFER"})(Mu||(Mu={}));var Du;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Du||(Du={}));class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Mt),(n||new Ir).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Du.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Mu.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Du.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Mu.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Ir.startBodyCompression(t),Ir.addCodec(t,n),Ir.addMethod(t,r),Ir.endBodyCompression(t)}}class ex{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let nx=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},Gn=class Od{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new Od).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Mt),(n||new Od).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new nx).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ex).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Ir).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},zi=class Ld{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new Ld).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Mt),(n||new Ld).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Gn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Tu;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Tu||(Tu={}));let _r=class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new xn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Mt),(n||new xn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ds.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Tu.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Jt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Ds.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Tu.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return xn.startMessage(t),xn.addVersion(t,n),xn.addHeaderType(t,r),xn.addHeader(t,i),xn.addBodyLength(t,s),xn.addCustomMetadata(t,o),xn.endMessage(t)}};var LT=sr;class RT extends gt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return ci.startNull(n),ci.endNull(n)}visitInt(t,n){return Fe.startInt(n),Fe.addBitWidth(n,t.bitWidth),Fe.addIsSigned(n,t.isSigned),Fe.endInt(n)}visitFloat(t,n){return Tn.startFloatingPoint(n),Tn.addPrecision(n,t.precision),Tn.endFloatingPoint(n)}visitBinary(t,n){return li.startBinary(n),li.endBinary(n)}visitBool(t,n){return ai.startBool(n),ai.endBool(n)}visitUtf8(t,n){return di.startUtf8(n),di.endUtf8(n)}visitDecimal(t,n){return we.startDecimal(n),we.addScale(n,t.scale),we.addPrecision(n,t.precision),we.addBitWidth(n,t.bitWidth),we.endDecimal(n)}visitDate(t,n){return Sa.startDate(n),Sa.addUnit(n,t.unit),Sa.endDate(n)}visitTime(t,n){return Ze.startTime(n),Ze.addUnit(n,t.unit),Ze.addBitWidth(n,t.bitWidth),Ze.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return Je.startTimestamp(n),Je.addUnit(n,t.unit),r!==void 0&&Je.addTimezone(n,r),Je.endTimestamp(n)}visitInterval(t,n){return Bn.startInterval(n),Bn.addUnit(n,t.unit),Bn.endInterval(n)}visitList(t,n){return ui.startList(n),ui.endList(n)}visitStruct(t,n){return fi.startStruct_(n),fi.endStruct_(n)}visitUnion(t,n){xe.startTypeIdsVector(n,t.typeIds.length);const r=xe.createTypeIdsVector(n,t.typeIds);return xe.startUnion(n),xe.addMode(n,t.mode),xe.addTypeIds(n,r),xe.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return qn.startDictionaryEncoding(n),qn.addId(n,new LT(t.id,0)),qn.addIsOrdered(n,t.isOrdered),r!==void 0&&qn.addIndexType(n,r),qn.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Mn.startFixedSizeBinary(n),Mn.addByteWidth(n,t.byteWidth),Mn.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Dn.startFixedSizeList(n),Dn.addListSize(n,t.listSize),Dn.endFixedSizeList(n)}visitMap(t,n){return ba.startMap(n),ba.addKeysSorted(n,t.keysSorted),ba.endMap(n)}}const gf=new RT;function PT(e,t=new Map){return new Et($T(e,t),Na(e.customMetadata),t)}function rx(e){return new je(e.count,ix(e.columns),sx(e.columns))}function zT(e){return new jn(rx(e.data),e.id,e.isDelta)}function $T(e,t){return(e.fields||[]).filter(Boolean).map(n=>Lt.fromJSON(n,t))}function lm(e,t){return(e.children||[]).filter(Boolean).map(n=>Lt.fromJSON(n,t))}function ix(e){return(e||[]).reduce((t,n)=>[...t,new Di(n.count,UT(n.VALIDITY)),...ix(n.children)],[])}function sx(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new On(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new On(t.length,i.TYPE.length)),i.OFFSET&&t.push(new On(t.length,i.OFFSET.length)),i.DATA&&t.push(new On(t.length,i.DATA.length)),t=sx(i.children,t)}return t}function UT(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function jT(e,t){let n,r,i,s,o,l;return!t||!(s=e.dictionary)?(o=um(e,lm(e,t)),i=new Lt(e.name,o,e.nullable,Na(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?am(r):new tl,l=new As(t.get(n),r,n,s.isOrdered),i=new Lt(e.name,l,e.nullable,Na(e.customMetadata))):(r=(r=s.indexType)?am(r):new tl,t.set(n,o=um(e,lm(e,t))),l=new As(o,r,n,s.isOrdered),i=new Lt(e.name,l,e.nullable,Na(e.customMetadata))),i||null}function Na(e){return new Map(Object.entries(e||{}))}function am(e){return new Vr(e.isSigned,e.bitWidth)}function um(e,t){const n=e.type.name;switch(n){case"NONE":return new jr;case"null":return new jr;case"binary":return new au;case"utf8":return new uu;case"bool":return new cu;case"list":return new yu((t||[])[0]);case"struct":return new he(t||[]);case"struct_":return new he(t||[])}switch(n){case"int":{const r=e.type;return new Vr(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new el(Ce[r.precision])}case"decimal":{const r=e.type;return new fu(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new du(dr[r.unit])}case"time":{const r=e.type;return new nl(St[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new hu(St[r.unit],r.timezone)}case"interval":{const r=e.type;return new pu(Ur[r.unit])}case"union":{const r=e.type;return new gu(Ue[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new mu(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new vu(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new wu((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Ci=sr,VT=K_,HT=Ms;class pe{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new pe(0,Le.V4,n);return r._createHeader=WT(t,n),r}static decode(t){t=new HT(xt(t));const n=_r.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new pe(r,i,s);return o._createHeader=YT(n,s),o}static encode(t){const n=new VT;let r=-1;return t.isSchema()?r=Et.encode(n,t.header()):t.isRecordBatch()?r=je.encode(n,t.header()):t.isDictionaryBatch()&&(r=jn.encode(n,t.header())),_r.startMessage(n),_r.addVersion(n,Le.V4),_r.addHeader(n,r),_r.addHeaderType(n,t.headerType),_r.addBodyLength(n,new Ci(t.bodyLength,0)),_r.finishMessageBuffer(n,_r.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Et)return new pe(0,Le.V4,bt.Schema,t);if(t instanceof je)return new pe(n,Le.V4,bt.RecordBatch,t);if(t instanceof jn)return new pe(n,Le.V4,bt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===bt.Schema}isRecordBatch(){return this.headerType===bt.RecordBatch}isDictionaryBatch(){return this.headerType===bt.DictionaryBatch}}class je{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class jn{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class On{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class Di{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function WT(e,t){return()=>{switch(t){case bt.Schema:return Et.fromJSON(e);case bt.RecordBatch:return je.fromJSON(e);case bt.DictionaryBatch:return jn.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${bt[t]}, type: ${t} }`)}}function YT(e,t){return()=>{switch(t){case bt.Schema:return Et.decode(e.header(new bn));case bt.RecordBatch:return je.decode(e.header(new Gn),e.version());case bt.DictionaryBatch:return jn.decode(e.header(new zi),e.version())}throw new Error(`Unrecognized Message type: { name: ${bt[t]}, type: ${t} }`)}}Lt.encode=rB;Lt.decode=eB;Lt.fromJSON=jT;Et.encode=nB;Et.decode=XT;Et.fromJSON=PT;je.encode=iB;je.decode=KT;je.fromJSON=rx;jn.encode=sB;jn.decode=QT;jn.fromJSON=zT;Di.encode=oB;Di.decode=ZT;On.encode=lB;On.decode=GT;function XT(e,t=new Map){const n=tB(e,t);return new Et(n,ka(e),t)}function KT(e,t=Le.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new je(e.length(),JT(e),qT(e,t))}function QT(e,t=Le.V4){return new jn(je.decode(e.data(),t),e.id(),e.isDelta())}function GT(e){return new On(e.offset(),e.length())}function ZT(e){return new Di(e.length(),e.nullCount())}function JT(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Di.decode(n));return t}function qT(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<Le.V4&&(r.bb_pos+=8*(i+1)),n[++s]=On.decode(r));return n}function tB(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Lt.decode(r,t));return n}function cm(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Lt.decode(r,t));return n}function eB(e,t){let n,r,i,s,o,l;return!t||!(l=e.dictionary())?(i=dm(e,cm(e,t)),r=new Lt(e.name(),i,e.nullable(),ka(e))):t.has(n=l.id().low)?(s=(s=l.indexType())?fm(s):new tl,o=new As(t.get(n),s,n,l.isOrdered()),r=new Lt(e.name(),o,e.nullable(),ka(e))):(s=(s=l.indexType())?fm(s):new tl,t.set(n,i=dm(e,cm(e,t))),o=new As(i,s,n,l.isOrdered()),r=new Lt(e.name(),o,e.nullable(),ka(e))),r||null}function ka(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function fm(e){return new Vr(e.isSigned(),e.bitWidth())}function dm(e,t){const n=e.typeType();switch(n){case zt.NONE:return new jr;case zt.Null:return new jr;case zt.Binary:return new au;case zt.Utf8:return new uu;case zt.Bool:return new cu;case zt.List:return new yu((t||[])[0]);case zt.Struct_:return new he(t||[])}switch(n){case zt.Int:{const r=e.type(new Fe);return new Vr(r.isSigned(),r.bitWidth())}case zt.FloatingPoint:{const r=e.type(new Tn);return new el(r.precision())}case zt.Decimal:{const r=e.type(new we);return new fu(r.scale(),r.precision(),r.bitWidth())}case zt.Date:{const r=e.type(new Sa);return new du(r.unit())}case zt.Time:{const r=e.type(new Ze);return new nl(r.unit(),r.bitWidth())}case zt.Timestamp:{const r=e.type(new Je);return new hu(r.unit(),r.timezone())}case zt.Interval:{const r=e.type(new Bn);return new pu(r.unit())}case zt.Union:{const r=e.type(new xe);return new gu(r.mode(),r.typeIdsArray()||[],t||[])}case zt.FixedSizeBinary:{const r=e.type(new Mn);return new mu(r.byteWidth())}case zt.FixedSizeList:{const r=e.type(new Dn);return new vu(r.listSize(),(t||[])[0])}case zt.Map:{const r=e.type(new ba);return new wu((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${zt[n]}" (${n})`)}function nB(e,t){const n=t.fields.map(s=>Lt.encode(e,s));bn.startFieldsVector(e,n.length);const r=bn.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?bn.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const l=e.createString(`${s}`),a=e.createString(`${o}`);return Jt.startKeyValue(e),Jt.addKey(e,l),Jt.addValue(e,a),Jt.endKeyValue(e)})):-1;return bn.startSchema(e),bn.addFields(e,r),bn.addEndianness(e,aB?Ts.Little:Ts.Big),i!==-1&&bn.addCustomMetadata(e,i),bn.endSchema(e)}function rB(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;et.isDictionary(s)?(o=s.dictionary.typeId,i=gf.visit(s,e),r=gf.visit(s.dictionary,e)):r=gf.visit(s,e);const l=(s.children||[]).map(f=>Lt.encode(e,f)),a=Ye.createChildrenVector(e,l),u=t.metadata&&t.metadata.size>0?Ye.createCustomMetadataVector(e,[...t.metadata].map(([f,c])=>{const d=e.createString(`${f}`),y=e.createString(`${c}`);return Jt.startKeyValue(e),Jt.addKey(e,d),Jt.addValue(e,y),Jt.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Ye.startField(e),Ye.addType(e,r),Ye.addTypeType(e,o),Ye.addChildren(e,a),Ye.addNullable(e,!!t.nullable),n!==-1&&Ye.addName(e,n),i!==-1&&Ye.addDictionary(e,i),u!==-1&&Ye.addCustomMetadata(e,u),Ye.endField(e)}function iB(e,t){const n=t.nodes||[],r=t.buffers||[];Gn.startNodesVector(e,n.length);for(const o of n.slice().reverse())Di.encode(e,o);const i=e.endVector();Gn.startBuffersVector(e,r.length);for(const o of r.slice().reverse())On.encode(e,o);const s=e.endVector();return Gn.startRecordBatch(e),Gn.addLength(e,new Ci(t.length,0)),Gn.addNodes(e,i),Gn.addBuffers(e,s),Gn.endRecordBatch(e)}function sB(e,t){const n=je.encode(e,t.data);return zi.startDictionaryBatch(e),zi.addId(e,new Ci(t.id,0)),zi.addIsDelta(e,t.isDelta),zi.addData(e,n),zi.endDictionaryBatch(e)}function oB(e,t){return nx.createFieldNode(e,new Ci(t.length,0),new Ci(t.nullCount,0))}function lB(e,t){return ex.createBuffer(e,new Ci(t.offset,0),new Ci(t.length,0))}const aB=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),_p=e=>`Expected ${bt[e]} Message in stream, but was null or length 0.`,xp=e=>`Header pointer of flatbuffer-encoded ${bt[e]} Message is null or length 0.`,ox=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,lx=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class ax{constructor(t){this.source=t instanceof Cu?t:new Cu(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Ut:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(_p(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=xt(this.source.read(t));if(n.byteLength<t)throw new Error(lx(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=bt.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(xp(n));return i}readMetadataLength(){const t=this.source.read(Ic),n=t&&new Ms(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(t){const n=this.source.read(t);if(!n)return Ut;if(n.byteLength<t)throw new Error(ox(t,n.byteLength));return{done:!1,value:pe.decode(n)}}}class uB{constructor(t,n){this.source=t instanceof Fs?t:A1(t)?new Au(t,n):new Fs(t)}[Symbol.asyncIterator](){return this}next(){return tt(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Ut:t})}throw(t){return tt(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return tt(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return tt(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(_p(t));return n.value})}readMessageBody(t){return tt(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=xt(yield this.source.read(t));if(n.byteLength<t)throw new Error(lx(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(t=!1){return tt(this,void 0,void 0,function*(){const n=bt.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(xp(n));return i})}readMetadataLength(){return tt(this,void 0,void 0,function*(){const t=yield this.source.read(Ic),n=t&&new Ms(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(t){return tt(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return Ut;if(n.byteLength<t)throw new Error(ox(t,n.byteLength));return{done:!1,value:pe.decode(n)}})}}class cB extends ax{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof im?t:new im(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:pe.fromJSON(t.schema,bt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:pe.fromJSON(n,bt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:pe.fromJSON(n,bt.RecordBatch)}}return this._body=[],Ut}readMessageBody(t){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(_p(t));return n.value}readSchema(){const t=bt.Schema,n=this.readMessage(t),r=n==null?void 0:n.header();if(!n||!r)throw new Error(xp(t));return r}}const Ic=4,Rd="ARROW1",il=new Uint8Array(Rd.length);for(let e=0;e<Rd.length;e+=1)il[e]=Rd.codePointAt(e);function Sp(e,t=0){for(let n=-1,r=il.length;++n<r;)if(il[n]!==e[t+n])return!1;return!0}const Il=il.length,ux=Il+Ic,fB=Il*2+Ic;class or extends pp{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return $r(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ke.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ke.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof or?t:Nd(t)?yB(t):A1(t)?vB(t):$r(t)?tt(this,void 0,void 0,function*(){return yield or.from(yield t)}):M1(t)||tp(t)||D1(t)||$s(t)?mB(new Fs(t)):gB(new Cu(t))}static readAll(t){return t instanceof or?t.isSync()?hm(t):pm(t):Nd(t)||ArrayBuffer.isView(t)||_l(t)||C1(t)?hm(t):pm(t)}}class Bu extends or{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Fn(this,arguments,function*(){yield ft(yield*xa(mi(this[Symbol.iterator]())))})}}class Fu extends or{constructor(t){super(t),this._impl=t}readAll(){var t,n;return tt(this,void 0,void 0,function*(){const r=new Array;try{for(var i=mi(this),s;s=yield i.next(),!s.done;){const o=s.value;r.push(o)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&(yield n.call(i))}finally{if(t)throw t.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class cx extends Bu{constructor(t){super(t),this._impl=t}}class dB extends Fu{constructor(t){super(t),this._impl=t}}class fx{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const r=this._loadVectors(t,n,this.schema.fields),i=yt({type:new he(this.schema.fields),length:t.length,children:r});return new Se(this.schema,i)}_loadDictionaryBatch(t,n){const{id:r,isDelta:i}=t,{dictionaries:s,schema:o}=this,l=s.get(r);if(i||!l){const a=o.dictionaries.get(r),u=this._loadVectors(t.data,n,[a]);return(l&&i?l.concat(new It(u)):new It(u)).memoize()}return l.memoize()}_loadVectors(t,n,r){return new Z_(n,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}class Ou extends fx{constructor(t,n){super(n),this._reader=Nd(t)?new cB(this._handle=t):new ax(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=hx(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Ut}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Ut}next(){if(this.closed)return Ut;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new wp(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Lu extends fx{constructor(t,n){super(n),this._reader=new uB(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return tt(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return tt(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=hx(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return tt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Ut})}return(t){return tt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Ut})}next(){return tt(this,void 0,void 0,function*(){if(this.closed)return Ut;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new wp(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return tt(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class dx extends Ou{constructor(t,n){super(t instanceof sm?t:new sm(t),n)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(bt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(bt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),l=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,l)}}}_readFooter(){const{_handle:t}=this,n=t.size-ux,r=t.readInt32(n),i=t.readAt(n-r,r);return rl.decode(i)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class hB extends Lu{constructor(t,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(t instanceof Au?t:new Au(t,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return tt(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){var n;return tt(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(bt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){var n;return tt(this,void 0,void 0,function*(){const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(bt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),l=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,l)}}})}_readFooter(){return tt(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-ux,r=yield t.readInt32(n),i=yield t.readAt(n-r,r);return rl.decode(i)})}_readNextMessageAndValidate(t){return tt(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class pB extends Ou{constructor(t,n){super(t,n)}_loadVectors(t,n,r){return new NT(n,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}function hx(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*hm(e){const t=or.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function pm(e){return Fn(this,arguments,function*(){const n=yield ft(or.from(e));try{if(!(yield ft(n.open({autoDestroy:!1}))).closed)do yield yield ft(n);while(!(yield ft(n.reset().open())).closed)}finally{yield ft(n.cancel())}})}function yB(e){return new Bu(new pB(e))}function gB(e){const t=e.peek(Il+7&-8);return t&&t.byteLength>=4?Sp(t)?new cx(new dx(e.read())):new Bu(new Ou(e)):new Bu(new Ou(function*(){}()))}function mB(e){return tt(this,void 0,void 0,function*(){const t=yield e.peek(Il+7&-8);return t&&t.byteLength>=4?Sp(t)?new cx(new dx(yield e.read())):new Fu(new Lu(e)):new Fu(new Lu(function(){return Fn(this,arguments,function*(){})}()))})}function vB(e){return tt(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Au(e,t);return t>=fB&&Sp(yield n.readAt(0,Il+7&-8))?new dB(new hB(n)):new Fu(new Lu(n))})}class Kt extends gt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Se?s.data.children:s.data),r=new Kt;return r.visitMany(n(t)),r}visit(t){if(t instanceof It)return this.visitMany(t.data),this;const{type:n}=t;if(!et.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");et.isNull(n)||gn.call(this,i<=0?new Uint8Array(0):up(t.offset,r,t.nullBitmap)),this.nodes.push(new Di(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function gn(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new On(this._byteLength,t)),this._byteLength+=t,this}function wB(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(gn.call(this,r),t.mode===Ue.Sparse)return Pd.call(this,e);if(t.mode===Ue.Dense){if(e.offset<=0)return gn.call(this,i),Pd.call(this,e);{const s=r.reduce((f,c)=>Math.max(f,c),r[0]),o=new Int32Array(s+1),l=new Int32Array(s+1).fill(-1),a=new Int32Array(n),u=np(-i[0],n,i);for(let f,c,d=-1;++d<n;)(c=l[f=r[d]])===-1&&(c=l[f]=u[f]),a[d]=u[d]-c,++o[f];gn.call(this,a);for(let f,c=-1,d=t.children.length;++c<d;)if(f=e.children[c]){const y=t.typeIds[c],v=Math.min(n,o[y]);this.visit(f.slice(l[y],v))}}}return this}function _B(e){let t;return e.nullCount>=e.length?gn.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?gn.call(this,up(e.offset,e.length,t)):gn.call(this,_u(e.values))}function Zr(e){return gn.call(this,e.values.subarray(0,e.length*e.stride))}function px(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return gn.call(this,np(-r[0],t,r)),gn.call(this,n.subarray(i,i+o)),this}function bp(e){const{length:t,valueOffsets:n}=e;return n&&gn.call(this,np(n[0],t,n)),this.visit(e.children[0])}function Pd(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Kt.prototype.visitBool=_B;Kt.prototype.visitInt=Zr;Kt.prototype.visitFloat=Zr;Kt.prototype.visitUtf8=px;Kt.prototype.visitBinary=px;Kt.prototype.visitFixedSizeBinary=Zr;Kt.prototype.visitDate=Zr;Kt.prototype.visitTimestamp=Zr;Kt.prototype.visitTime=Zr;Kt.prototype.visitDecimal=Zr;Kt.prototype.visitList=bp;Kt.prototype.visitStruct=Pd;Kt.prototype.visitUnion=wB;Kt.prototype.visitInterval=Zr;Kt.prototype.visitFixedSizeList=bp;Kt.prototype.visitMap=bp;class yx extends pp{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Ea,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Ae(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return $r(t)?t.then(n=>this.writeAll(n)):$s(t)?kp(this,t):Np(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof Ea?this._sink=t:(this._sink=new Ea,t&&U3(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&j3(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Fd(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof de&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Se&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Fd(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Se?t instanceof wp||this._writeRecordBatch(t):t instanceof de?this.writeAll(t.batches):_l(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=pe.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,l=s+o+r&~r,a=l-s-o;return t.headerType===bt.RecordBatch?this._recordBatchBlocks.push(new Hr(l,t.bodyLength,this._position)):t.headerType===bt.DictionaryBatch&&this._dictionaryBlocks.push(new Hr(l,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(l-o)),s>0&&this._write(i),this._writePadding(a)}_write(t){if(this._started){const n=xt(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(pe.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(il)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Kt.assemble(t),o=new je(t.numRows,r,i),l=pe.from(o,n);return this._writeDictionaries(t)._writeMessage(l)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:l}=Kt.assemble(new It([t])),a=new je(t.length,s,o),u=new jn(a,n,r),f=pe.from(u,i);return this._writeMessage(f)._writeBodyBuffers(l)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class Ip extends yx{static writeAll(t,n){const r=new Ip(n);return $r(t)?t.then(i=>r.writeAll(i)):$s(t)?kp(r,t):Np(r,t)}}class Ep extends yx{static writeAll(t){const n=new Ep;return $r(t)?t.then(r=>n.writeAll(r)):$s(t)?kp(n,t):Np(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=rl.encode(new rl(t,Le.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Np(e,t){let n=t;t instanceof de&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function kp(e,t){var n,r,i,s;return tt(this,void 0,void 0,function*(){try{for(n=mi(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function uo(e){const t=or.from(e);return $r(t)?t.then(n=>uo(n)):t.isAsync()?t.readAll().then(n=>new de(n)):new de(t.readAll())}function mf(e,t="stream"){return(t==="stream"?Ip:Ep).writeAll(e).toUint8Array(!0)}var ym=function(){function e(t,n,r,i){var s=this;this.getCell=function(o,l){var a=o<s.headerRows&&l<s.headerColumns,u=o>=s.headerRows&&l<s.headerColumns,f=o<s.headerRows&&l>=s.headerColumns;if(a){var c=["blank"];return l>0&&c.push("level"+o),{type:"blank",classNames:c.join(" "),content:""}}else if(f){var d=l-s.headerColumns,c=["col_heading","level"+o,"col"+d];return{type:"columns",classNames:c.join(" "),content:s.getContent(s.columnsTable,d,o)}}else if(u){var y=o-s.headerRows,c=["row_heading","level"+l,"row"+y];return{type:"index",id:"T_".concat(s.uuid,"level").concat(l,"_row").concat(y),classNames:c.join(" "),content:s.getContent(s.indexTable,y,l)}}else{var y=o-s.headerRows,d=l-s.headerColumns,c=["data","row"+y,"col"+d],v=s.styler?s.getContent(s.styler.displayValuesTable,y,d):s.getContent(s.dataTable,y,d);return{type:"data",id:"T_".concat(s.uuid,"row").concat(y,"_col").concat(d),classNames:c.join(" "),content:v}}},this.getContent=function(o,l,a){var u=o.getChildAt(a);if(u===null)return"";var f=s.getColumnTypeId(o,a);switch(f){case T.Timestamp:return s.nanosToDate(u.get(l));default:return u.get(l)}},this.dataTable=uo(t),this.indexTable=uo(n),this.columnsTable=uo(r),this.styler=i?{caption:i.caption,displayValuesTable:uo(i.displayValues),styles:i.styles,uuid:i.uuid}:void 0}return Object.defineProperty(e.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{data:mf(this.dataTable),index:mf(this.indexTable),columns:mf(this.columnsTable)}},e.prototype.getColumnTypeId=function(t,n){return t.schema.fields[n].type.typeId},e.prototype.nanosToDate=function(t){return new Date(t/1e6)},e}(),bo=function(){return bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bo.apply(this,arguments)},Io;(function(e){e.COMPONENT_READY="streamlit:componentReady",e.SET_COMPONENT_VALUE="streamlit:setComponentValue",e.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Io||(Io={}));var En=function(){function e(){}return e.API_VERSION=1,e.RENDER_EVENT="streamlit:render",e.events=new EventTarget,e.registeredMessageListener=!1,e.setComponentReady=function(){e.registeredMessageListener||(window.addEventListener("message",e.onMessageEvent),e.registeredMessageListener=!0),e.sendBackMsg(Io.COMPONENT_READY,{apiVersion:e.API_VERSION})},e.setFrameHeight=function(t){t===void 0&&(t=document.body.scrollHeight),t!==e.lastFrameHeight&&(e.lastFrameHeight=t,e.sendBackMsg(Io.SET_FRAME_HEIGHT,{height:t}))},e.setComponentValue=function(t){var n;t instanceof ym?(n="dataframe",t=t.serialize()):SB(t)?(n="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(n="bytes",t=new Uint8Array(t)):n="json",e.sendBackMsg(Io.SET_COMPONENT_VALUE,{value:t,dataType:n})},e.onMessageEvent=function(t){var n=t.data.type;switch(n){case e.RENDER_EVENT:e.onRenderMessage(t.data);break}},e.onRenderMessage=function(t){var n=t.args;n==null&&(console.error("Got null args in onRenderMessage. This should never happen"),n={});var r=t.dfs&&t.dfs.length>0?e.argsDataframeToObject(t.dfs):{};n=bo(bo({},n),r);var i=!!t.disabled,s=t.theme;s&&xB(s);var o={disabled:i,args:n,theme:s},l=new CustomEvent(e.RENDER_EVENT,{detail:o});e.events.dispatchEvent(l)},e.argsDataframeToObject=function(t){var n=t.map(function(r){var i=r.key,s=r.value;return[i,e.toArrowTable(s)]});return Object.fromEntries(n)},e.toArrowTable=function(t){var n,r=(n=t.data,n.data),i=n.index,s=n.columns,o=n.styler;return new ym(r,i,s,o)},e.sendBackMsg=function(t,n){window.parent.postMessage(bo({isStreamlitMessage:!0,type:t},n),"*")},e}(),xB=function(e){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`
    :root {
      --primary-color: `.concat(e.primaryColor,`;
      --background-color: `).concat(e.backgroundColor,`;
      --secondary-background-color: `).concat(e.secondaryBackgroundColor,`;
      --text-color: `).concat(e.textColor,`;
      --font: `).concat(e.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function SB(e){var t=!1;try{t=e instanceof BigInt64Array||e instanceof BigUint64Array}catch{}return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||t}var bB=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){bB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){En.setFrameHeight()},t.prototype.componentDidUpdate=function(){En.setFrameHeight()},t})(Vd.PureComponent);function IB({id:e,data:t,selected:n,width:r,height:i}){const{setNodes:s}=ml(),[o,l]=B.useState(!1),[a,u]=B.useState(t.label),f=B.useRef(null),c=B.useRef(null);B.useEffect(()=>{u(t.label)},[t.label]),B.useEffect(()=>{o&&(c.current?(c.current.focus(),c.current.select()):f.current&&(f.current.focus(),f.current.select()))},[o]);const d=()=>{s(w=>w.map(S=>S.id===e?{...S,data:{...S.data,label:a}}:S))},y=()=>{l(!0)},v=()=>{l(!1),d()},m=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),l(!1),d())},_=w=>{u(w.target.value)},p=t.style||{},g={...p,padding:"10px",borderRadius:"5px",background:p.background||"var(--node-bg, white)",border:n?"2px solid #2684FF":p.border||"2px solid #333",textAlign:"center",color:"var(--node-color, black)",boxShadow:n?"0 0 0 4px rgba(38, 132, 255, 0.3)":p.boxShadow||"none",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:r?`${r}px`:p.width?`${p.width}px`:"auto",height:i?`${i}px`:p.height?`${p.height}px`:"auto",minWidth:"100px",minHeight:"40px",boxSizing:"border-box"},h={background:"#555",width:8,height:8,opacity:n?1:0,transition:"opacity 0.2s",zIndex:10};return C.jsxs(C.Fragment,{children:[C.jsx(f3,{minWidth:100,minHeight:40,isVisible:n,lineStyle:{border:"1px solid #2684FF"},handleStyle:{width:8,height:8,borderRadius:2,background:"#2684FF"}}),C.jsxs("div",{onDoubleClick:y,style:g,children:[C.jsx(Xe,{type:"target",position:K.Top,id:"top-target",style:{...h,top:-4}}),C.jsx(Xe,{type:"source",position:K.Top,id:"top-source",style:{...h,top:-4}}),C.jsx(Xe,{type:"target",position:K.Left,id:"left-target",style:{...h,left:-4}}),C.jsx(Xe,{type:"source",position:K.Left,id:"left-source",style:{...h,left:-4}}),o?C.jsx("textarea",{ref:c,value:a,onChange:_,onBlur:v,onKeyDown:m,className:"nodrag",style:{width:"100%",height:"100%",border:"none",outline:"none",textAlign:"center",background:"transparent",fontFamily:"inherit",fontSize:"inherit",color:"inherit",resize:"none",overflow:"hidden"}}):C.jsx("div",{style:{width:"100%",wordBreak:"break-word",pointerEvents:"none",userSelect:"none"},children:a}),C.jsx(Xe,{type:"source",position:K.Right,id:"right-source",style:{...h,right:-4}}),C.jsx(Xe,{type:"target",position:K.Right,id:"right-target",style:{...h,right:-4}}),C.jsx(Xe,{type:"source",position:K.Bottom,id:"bottom-source",style:{...h,bottom:-4}}),C.jsx(Xe,{type:"target",position:K.Bottom,id:"bottom-target",style:{...h,bottom:-4}})]})]})}const EB={editableNode:IB},NB=[];let kB=1;const gm=()=>`node_${++kB}_${Date.now()}`,CB=()=>{const[e,t,n]=LM(NB),[r,i,s]=RM([]),{getNodes:o,getEdges:l,screenToFlowPosition:a}=ml(),u=B.useRef(null),[f,c]=B.useState(!0),[d,y]=B.useState("light"),[v,m]=B.useState(null),[_,p]=B.useState([]),[g,h]=B.useState([]),[w,S]=B.useState([]),b=B.useRef([]);B.useEffect(()=>{document.documentElement.setAttribute("data-theme",d)},[d]);const N=B.useCallback(()=>{h(A=>[...A,{nodes:o(),edges:l()}]),S([])},[o,l]),k=B.useCallback(()=>{if(g.length===0)return;const A=g[g.length-1],x=g.slice(0,g.length-1);S(I=>[{nodes:o(),edges:l()},...I]),h(x),t(A.nodes),i(A.edges)},[g,o,l,t,i]),F=B.useCallback(()=>{if(w.length===0)return;const A=w[0],x=w.slice(1);h(I=>[...I,{nodes:o(),edges:l()}]),S(x),t(A.nodes),i(A.edges)},[w,o,l,t,i]);B.useEffect(()=>{const A=x=>{const D=x.detail.args;if(D.nodes&&Array.isArray(D.nodes)){const z=D.highlight_nodes||[];t(P=>{const W=D.nodes.map(V=>{const Q=P.find(ht=>ht.id===V.id),G=z.includes(V.id);let X={...V.style};G&&(X.border="3px solid #ff9900",X.boxShadow="0 0 15px rgba(255, 153, 0, 0.6)");const H={...X},Z={width:X.width,height:X.height,zIndex:X.zIndex,background:"transparent",border:"none",boxShadow:"none"};return{...V,type:"editableNode",position:Q?Q.position:V.position,style:Z,data:{...V.data,style:H}}});return P.length===0,W})}D.edges&&Array.isArray(D.edges)&&i(D.edges),En.setFrameHeight(800)};return En.events.addEventListener(En.RENDER_EVENT,A),En.setComponentReady(),En.setFrameHeight(800),()=>{En.events.removeEventListener(En.RENDER_EVENT,A)}},[t,i]);const $=B.useCallback(A=>{N();const x={...A,id:`e${A.source}-${A.target}`,type:"smoothstep"};i(I=>bw(x,I))},[i,N]),R=B.useCallback(()=>{N()},[N]),L=B.useCallback(()=>{N();let A={x:300,y:300};if(u.current){const{top:I,left:D,width:z,height:P}=u.current.getBoundingClientRect(),W={x:D+z/2,y:I+P/2};A=a(W),A.x-=60,A.y-=30}const x={id:gm(),type:"editableNode",position:A,data:{label:"New Node",style:{background:"white",border:"1px solid #777",borderRadius:"5px",textAlign:"center",fontSize:"12px",width:120,height:60}},style:{width:120,height:60,background:"transparent",border:"none"}};t(I=>I.concat(x))},[t,N,a]);B.useEffect(()=>{const A=x=>{if((x.ctrlKey||x.metaKey)&&x.key==="z"&&(x.preventDefault(),x.shiftKey?F():k()),(x.ctrlKey||x.metaKey)&&x.key==="c"){const I=o().filter(D=>D.selected);I.length>0&&(b.current=I)}if((x.ctrlKey||x.metaKey)&&x.key==="v"&&b.current.length>0){N();const I=b.current.map(D=>({...D,id:gm(),position:{x:D.position.x+50,y:D.position.y+50},selected:!0,data:{...D.data}}));t(D=>D.map(z=>({...z,selected:!1})).concat(I))}};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[k,F,o,t,N]);const U=B.useCallback(({nodes:A,edges:x})=>{p(A),x.length===1?m(x[0]):m(null)},[]),E=(A,x)=>{v&&(N(),i(I=>I.map(D=>D.id===v.id?{...D,markerStart:A?{type:Is.ArrowClosed}:void 0,markerEnd:x?{type:Is.ArrowClosed}:void 0}:D)))},O=()=>{if(_.length===0)return;const A={type:"add_to_context",nodes:_.map(x=>({id:x.id,label:x.data.label}))};En.setComponentValue({_contextUpdate:A})},M=()=>{y(A=>A==="dark"?"light":"dark")};return C.jsx("div",{className:"dndflow",style:{display:"flex",height:"800px",width:"100%"},children:C.jsx("div",{className:"reactflow-wrapper",ref:u,style:{flexGrow:1,height:"100%",width:"100%"},children:C.jsxs(OM,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:s,onConnect:$,onNodeDragStart:R,onSelectionChange:U,nodeTypes:EB,fitView:!0,snapToGrid:f,snapGrid:[15,15],deleteKeyCode:["Backspace","Delete"],colorMode:d,defaultEdgeOptions:{style:{strokeWidth:2,stroke:"var(--edge-color)"},type:"smoothstep"},children:[C.jsx(QM,{style:{fill:"currentColor"}}),C.jsx(jM,{gap:20,size:2,color:d==="dark"?"#555":"#888",variant:ir.Dots}),C.jsxs(gl,{position:"top-right",style:{display:"flex",gap:"10px",flexDirection:"column",alignItems:"flex-end"},children:[C.jsxs("div",{style:{background:"var(--panel-bg)",padding:"8px",borderRadius:"5px",boxShadow:"0 0 5px var(--panel-shadow)",display:"flex",gap:"10px",alignItems:"center",color:"var(--panel-text)"},children:[C.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer",userSelect:"none"},children:[C.jsx("input",{type:"checkbox",checked:f,onChange:A=>c(A.target.checked)}),"Snap to Grid"]}),_.length>0&&C.jsx("button",{onClick:O,style:{padding:"5px 10px",cursor:"pointer",background:"#4A90E2",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold"},children:"Add to Context"}),C.jsx("button",{onClick:L,style:{padding:"5px 10px",cursor:"pointer",background:"var(--button-bg)",color:"var(--button-text)",border:"none",borderRadius:"4px"},children:"Add Node"}),C.jsx("button",{onClick:M,style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",color:"var(--panel-text)"},children:d==="dark"?C.jsx(C3,{size:20}):C.jsx(N3,{size:20})})]}),v&&C.jsxs("div",{style:{background:"var(--panel-bg)",padding:"8px",borderRadius:"5px",boxShadow:"0 0 5px var(--panel-shadow)",display:"flex",gap:"10px",alignItems:"center",color:"var(--panel-text)"},children:[C.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Line Endings:"}),C.jsx("button",{onClick:()=>E(!1,!1),title:"None",style:{background:"transparent",border:"1px solid #ccc",padding:"4px",borderRadius:"4px",cursor:"pointer",display:"flex"},children:C.jsx(I3,{size:16})}),C.jsx("button",{onClick:()=>E(!1,!0),title:"Arrow End",style:{background:"transparent",border:"1px solid #ccc",padding:"4px",borderRadius:"4px",cursor:"pointer",display:"flex"},children:C.jsx(S3,{size:16})}),C.jsx("button",{onClick:()=>E(!0,!1),title:"Arrow Start",style:{background:"transparent",border:"1px solid #ccc",padding:"4px",borderRadius:"4px",cursor:"pointer",display:"flex"},children:C.jsx(_3,{size:16})}),C.jsx("button",{onClick:()=>E(!0,!0),title:"Both Ends",style:{background:"transparent",border:"1px solid #ccc",padding:"4px",borderRadius:"4px",cursor:"pointer",display:"flex"},children:C.jsx(v3,{size:16})})]})]})]})})})};function AB(){return C.jsx(v1,{children:C.jsx(CB,{})})}vf.createRoot(document.getElementById("root")).render(C.jsx(Vd.StrictMode,{children:C.jsx(AB,{})}));
